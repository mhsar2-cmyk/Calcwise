<!DOCTYPE html>
<html lang="ar" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="google-site-verification" content="vjZJ7FIIQEzuqWHnktvhfF-XDMZ4jFHz1xGMrJgskS0" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="theme-color" content="#6C63FF">
  <link rel="manifest" href="manifest.json">
  <link rel="apple-touch-icon" href="icon-192.png">
  <title>ÙƒØ§Ù„Ùƒ ÙˆØ§ÙŠØ² â€“ Ø¢Ù„Ø§Øª Ø­Ø§Ø³Ø¨Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ù„Ù…Ø§Ù„ ÙˆØ§Ù„ØµØ­Ø© ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</title>
  <meta name="description"
    content="Ø¢Ù„Ø§Øª Ø­Ø§Ø³Ø¨Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ù„ØªÙ…ÙˆÙŠÙ„ ÙˆØ§Ù„ØµØ­Ø© ÙˆØ§Ù„Ù„ÙŠØ§Ù‚Ø© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª. Ù†ØªØ§Ø¦Ø¬ ÙÙˆØ±ÙŠØ© Ø¨Ø¯ÙˆÙ† ØªØ³Ø¬ÙŠÙ„. Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø±Ù‡Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠØŒ Ù…Ø¤Ø´Ø± ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù…ØŒ Ø§Ù„Ù‚Ø±ÙˆØ¶ØŒ Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©ØŒ ÙˆØ£ÙƒØ«Ø± Ù…Ù† Ù£Ù¦ Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©.">

  <!-- â”€â”€ CANONICAL & HREFLANG â”€â”€ -->
  <link rel="canonical" href="https://calcwises.com/index-ar.html">
  <link rel="alternate" hreflang="ar" href="https://calcwises.com/index-ar.html">
  <link rel="alternate" hreflang="en" href="https://calcwises.com/">
  <link rel="alternate" hreflang="x-default" href="https://calcwises.com/">

  <script>
    (function () {
      const saved = localStorage.getItem('cw-theme');
      if (saved === 'light') {
        document.documentElement.setAttribute('data-theme', 'light');
      }
    })();
  </script>

  <!-- â”€â”€ OPEN GRAPH â”€â”€ -->
  <meta property="og:type" content="website">
  <meta property="og:site_name" content="ÙƒØ§Ù„Ùƒ ÙˆØ§ÙŠØ²">
  <meta property="og:title" content="ÙƒØ§Ù„Ùƒ ÙˆØ§ÙŠØ² â€“ Ù£Ù¦+ Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Ù…Ø¬Ø§Ù†ÙŠØ©">
  <meta property="og:description"
    content="Ø¢Ù„Ø§Øª Ø­Ø§Ø³Ø¨Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ù„ØªÙ…ÙˆÙŠÙ„ ÙˆØ§Ù„ØµØ­Ø© ÙˆØ§Ù„Ù„ÙŠØ§Ù‚Ø© Ø§Ù„Ø¨Ø¯Ù†ÙŠØ© ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª. Ù†ØªØ§Ø¦Ø¬ ÙÙˆØ±ÙŠØ© Ø¨Ø¯ÙˆÙ† ØªØ³Ø¬ÙŠÙ„.">
  <meta property="og:url" content="https://calcwises.com/index-ar.html">
  <meta property="og:image" content="https://calcwises.com/og-image.png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:locale" content="ar_SA">
  <meta property="og:locale:alternate" content="en_US">

  <!-- â”€â”€ TWITTER CARD â”€â”€ -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:title" content="ÙƒØ§Ù„Ùƒ ÙˆØ§ÙŠØ² â€“ Ù£Ù¦+ Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Ù…Ø¬Ø§Ù†ÙŠØ©">
  <meta name="twitter:description" content="Ø¢Ù„Ø§Øª Ø­Ø§Ø³Ø¨Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ù„ØªÙ…ÙˆÙŠÙ„ ÙˆØ§Ù„ØµØ­Ø© ÙˆØ§Ù„Ù„ÙŠØ§Ù‚Ø© ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª. Ù†ØªØ§Ø¦Ø¬ ÙÙˆØ±ÙŠØ©.">
  <meta name="twitter:image" content="https://calcwises.com/og-image.png">

  <!-- â”€â”€ STRUCTURED DATA (JSON-LD) â”€â”€ -->
  <script type="application/ld+json">
  {
    "@context": "https://schema.org",
    "@type": "WebApplication",
    "name": "CalcWise",
    "url": "https://calcwises.com/index-ar.html",
    "description": "Ø£ÙƒØ«Ø± Ù…Ù† Ù£Ù¦ Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ù„ØªÙ…ÙˆÙŠÙ„ ÙˆØ§Ù„ØµØ­Ø© ÙˆØ§Ù„Ù„ÙŠØ§Ù‚Ø© ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª.",
    "applicationCategory": "UtilitiesApplication",
    "operatingSystem": "All",
    "offers": { "@type": "Offer", "price": "0", "priceCurrency": "SAR" },
    "aggregateRating": { "@type": "AggregateRating", "ratingValue": "4.8", "ratingCount": "150", "bestRating": "5" },
    "inLanguage": ["ar", "en"],
    "creator": { "@type": "Organization", "name": "CalcWise", "url": "https://calcwises.com" }
  }
  </script>

  <!-- â”€â”€ GOOGLE ANALYTICS 4 â”€â”€ -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());
    gtag('config', 'G-XXXXXXXXXX');
  </script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link
    href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@300;400;500;600;700&family=Amiri:ital@0;1&display=swap"
    rel="stylesheet">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-5388783007820121"
    crossorigin="anonymous"></script>
  <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
     LANGUAGE TOGGLE WIDGET
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
  <style>
    .lang-toggle {
      position: fixed;
      top: 50%;
      left: 0;
      transform: translateY(-50%);
      z-index: 9999;
      display: flex;
      flex-direction: column;
      gap: 0;
      border-radius: 0 12px 12px 0;
      overflow: hidden;
      box-shadow: 4px 0 24px rgba(0, 0, 0, 0.4);
    }

    .lang-toggle a {
      display: flex;
      align-items: center;
      justify-content: center;
      width: 52px;
      height: 48px;
      text-decoration: none;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
      font-size: 0.82rem;
      font-weight: 700;
      transition: all 0.2s;
      letter-spacing: 0.03em;
      border: none;
      outline: none;
    }

    .lang-toggle a.lang-en {
      background: #1c1c27;
      color: #9090b8;
      border-bottom: 1px solid #2a2a3d;
    }

    .lang-toggle a.lang-en:hover {
      background: #2a2a3d;
      color: #e8e8f0;
    }

    .lang-toggle a.lang-ar {
      background: #6c63ff;
      color: white;
    }

    .lang-toggle a.lang-ar:hover {
      background: #8b84ff;
    }

    .lang-toggle a.active-lang {
      cursor: default;
    }

    .lang-toggle a .flag {
      font-size: 1.1rem;
      display: block;
    }

    /* Tooltip on hover */
    .lang-toggle a::after {
      content: attr(data-tooltip);
      position: absolute;
      left: 60px;
      background: #1c1c27;
      border: 1px solid #363650;
      color: #e8e8f0;
      font-size: 0.75rem;
      padding: 0.3rem 0.6rem;
      border-radius: 6px;
      white-space: nowrap;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.2s;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    .lang-toggle a:hover::after {
      opacity: 1;
    }
  </style>

  <style>
    :root {
      --bg: #07071a;
      --surface: rgba(255, 255, 255, 0.04);
      --surface2: rgba(255, 255, 255, 0.07);
      --border: rgba(255, 255, 255, 0.09);
      --border2: rgba(108, 99, 255, 0.45);
      --text: #e8e8f0;
      --muted: #7070a0;
      --muted2: #9090b8;
      --accent: #6c63ff;
      --accent2: #8b84ff;
      --accent3: #b3aeff;
      --green: #22d3a0;
      --orange: #ff8c42;
      --pink: #ff6b9d;
      --blue: #4da6ff;
      --yellow: #ffd166;
      --radius: 16px;
      --radius-sm: 10px;
      --shadow: 0 8px 32px rgba(0, 0, 0, 0.5);
      --shadow-lg: 0 24px 80px rgba(0, 0, 0, 0.6);
      --glow: 0 0 60px rgba(108, 99, 255, 0.25);
      --glass: rgba(255, 255, 255, 0.04);
      --glass-border: rgba(255, 255, 255, 0.09);
    }

    *,
    *::before,
    *::after {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'IBM Plex Sans Arabic', sans-serif;
      background: var(--bg);
      background-attachment: fixed;
      color: var(--text);
      line-height: 1.7;
      min-height: 100vh;
      overflow-x: hidden;
      direction: rtl;
      transition: background 0.3s ease, color 0.3s ease;
    }

    body::before {
      content: '';
      position: fixed;
      inset: 0;
      z-index: 0;
      pointer-events: none;
      background:
        radial-gradient(ellipse 700px 500px at 85% 10%, rgba(108, 99, 255, 0.18) 0%, transparent 70%),
        radial-gradient(ellipse 500px 400px at 15% 5%, rgba(77, 166, 255, 0.13) 0%, transparent 65%),
        radial-gradient(ellipse 600px 400px at 50% 95%, rgba(255, 107, 157, 0.1) 0%, transparent 70%);
    }

    /* â”€â”€ NAV â”€â”€ */
    nav {
      position: sticky;
      top: 0;
      z-index: 100;
      background: rgba(7, 7, 26, 0.6);
      backdrop-filter: blur(28px) saturate(180%);
      -webkit-backdrop-filter: blur(28px) saturate(180%);
      border-bottom: 1px solid rgba(255, 255, 255, 0.07);
      padding: 0 2rem;
    }

    .nav-inner {
      max-width: 1280px;
      margin: 0 auto;
      display: flex;
      align-items: center;
      justify-content: space-between;
      height: 60px;
    }

    .logo {
      font-family: 'Outfit', sans-serif;
      font-weight: 800;
      font-size: 1.5rem;
      color: var(--text);
      text-decoration: none;
      letter-spacing: -0.02em;
      display: flex;
      align-items: center;
      gap: 0.4rem;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
      font-weight: 800;
    }

    .logo-dot {
      color: var(--accent);
    }

    .nav-search {
      display: flex;
      align-items: center;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 100px;
      padding: 0.2rem 0.75rem;
      gap: 0.4rem;
      width: 200px;
      transition: border-color 0.25s, width 0.25s, box-shadow 0.25s;
      flex-direction: row-reverse;
      backdrop-filter: blur(10px);
    }

    .nav-search:focus-within {
      border-color: rgba(108, 99, 255, 0.6);
      width: 230px;
      box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.12);
    }

    .nav-search input {
      background: none;
      border: none;
      outline: none;
      color: var(--text);
      font-family: 'IBM Plex Sans Arabic', sans-serif;
      font-size: 0.7rem;
      width: 100%;
      line-height: 1;
      text-align: right;
      direction: rtl;
    }

    .nav-search input::placeholder {
      color: var(--muted);
    }


    .nav-cats {
      display: flex;
      gap: 0.25rem;
      list-style: none;
      flex-direction: row-reverse;
    }

    .nav-cats button {
      background: none;
      border: none;
      cursor: pointer;
      color: var(--muted);
      font-family: 'IBM Plex Sans Arabic', sans-serif;
      font-size: 0.85rem;
      font-weight: 600;
      padding: 0.35rem 0.85rem;
      border-radius: 100px;
      transition: all 0.2s;
    }

    .nav-cats button:hover,
    .nav-cats button.active {
      background: rgba(108, 99, 255, 0.18);
      border: 1px solid rgba(108, 99, 255, 0.35);
      color: var(--text);
    }

    /* â”€â”€ HERO â”€â”€ */
    .hero {
      position: relative;
      z-index: 1;
      text-align: center;
      padding: 5rem 2rem 3.5rem;
      overflow: hidden;
    }

    .hero-glow {
      position: absolute;
      top: -100px;
      left: 50%;
      transform: translateX(-50%);
      width: 600px;
      height: 400px;
      background: radial-gradient(ellipse, rgba(108, 99, 255, 0.2) 0%, transparent 70%);
      pointer-events: none;
    }

    .hero-eyebrow {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      border: 1px solid rgba(255, 255, 255, 0.12);
      background: rgba(255, 255, 255, 0.05);
      backdrop-filter: blur(12px);
      padding: 0.35rem 1.2rem;
      border-radius: 100px;
      font-size: 0.85rem;
      color: var(--muted2);
      margin-bottom: 1.75rem;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    .hero-eyebrow span {
      color: var(--accent2);
    }

    .hero h1 {
      font-family: 'Amiri', serif;
      font-size: clamp(2.8rem, 7vw, 5rem);
      line-height: 1.2;
      margin-bottom: 1.25rem;
    }

    .hero h1 em {
      font-style: italic;
      color: var(--accent2);
    }

    .hero p {
      font-size: 1.05rem;
      color: var(--muted2);
      max-width: 560px;
      margin: 0 auto 2.5rem;
      font-weight: 400;
      line-height: 1.9;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    .hero-stats {
      display: flex;
      justify-content: center;
      gap: 3rem;
      flex-wrap: wrap;
    }

    .stat {
      text-align: center;
    }

    .stat-num {
      font-family: 'Amiri', serif;
      font-size: 2rem;
      color: var(--text);
      display: block;
    }

    .stat-label {
      font-size: 0.85rem;
      color: var(--muted);
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    /* â”€â”€ AD BANNER â”€â”€ */
    .ad-wrap {
      position: relative;
      z-index: 1;
      max-width: 1280px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    .ad-unit {
      background: var(--surface);
      border: 1px dashed var(--border2);
      border-radius: var(--radius);
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--muted);
      font-size: 0.72rem;
      letter-spacing: 0.04em;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    .ad-unit.leaderboard {
      height: 90px;
      margin: 1.5rem 0;
    }

    .ad-unit.sidebar {
      height: 600px;
      width: 160px;
    }

    /* â”€â”€ MAIN LAYOUT â”€â”€ */
    .main-wrap {
      position: relative;
      z-index: 1;
      max-width: 1280px;
      margin: 0 auto;
      padding: 2rem;
      display: grid;
      grid-template-columns: 180px 1fr;
      gap: 2rem;
      align-items: start;
    }

    .main-content {
      min-width: 0;
    }

    .sidebar-col {
      position: sticky;
      top: 80px;
    }

    /* â”€â”€ CATEGORY TABS â”€â”€ */
    .cat-tabs {
      display: flex;
      gap: 0.5rem;
      flex-wrap: wrap;
      margin-bottom: 2rem;
    }

    .cat-tab {
      display: flex;
      align-items: center;
      gap: 0.5rem;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: 100px;
      padding: 0.45rem 1rem;
      cursor: pointer;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
      font-size: 0.88rem;
      font-weight: 600;
      color: var(--muted2);
      transition: all 0.25s;
      backdrop-filter: blur(10px);
    }

    .cat-tab:hover {
      border-color: rgba(108, 99, 255, 0.35);
      background: rgba(108, 99, 255, 0.08);
      color: var(--text);
    }

    .cat-tab.active {
      background: rgba(108, 99, 255, 0.25);
      border-color: rgba(108, 99, 255, 0.55);
      color: white;
      box-shadow: 0 0 20px rgba(108, 99, 255, 0.25);
    }

    .cat-tab .tab-icon {
      font-size: 1rem;
    }

    /* â”€â”€ CALCULATOR GRID â”€â”€ */
    .calc-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
      gap: 1.25rem;
      margin-bottom: 2rem;
    }

    .calc-card {
      background: rgba(255, 255, 255, 0.04);
      backdrop-filter: blur(20px) saturate(150%);
      -webkit-backdrop-filter: blur(20px) saturate(150%);
      border: 1px solid rgba(255, 255, 255, 0.08);
      border-radius: var(--radius);
      padding: 1.5rem;
      cursor: pointer;
      transition: all 0.3s cubic-bezier(0.34, 1.3, 0.64, 1);
      position: relative;
      overflow: hidden;
      text-align: right;
      box-shadow: 0 8px 32px rgba(0, 0, 0, 0.35), inset 0 1px 0 rgba(255, 255, 255, 0.06);
    }

    .calc-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      left: 0;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--card-color, var(--accent)), transparent);
      opacity: 0;
      transition: opacity 0.3s;
    }

    .calc-card:hover {
      background: rgba(255, 255, 255, 0.07);
      border-color: rgba(108, 99, 255, 0.4);
      transform: translateY(-5px);
      box-shadow: 0 16px 48px rgba(108, 99, 255, 0.18), inset 0 1px 0 rgba(255, 255, 255, 0.1);
    }

    .calc-card:hover::before {
      opacity: 1;
    }

    .card-icon {
      width: 44px;
      height: 44px;
      background: rgba(255, 255, 255, 0.07);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      margin-bottom: 0.9rem;
      margin-right: 0;
      margin-left: auto;
    }

    .calc-card h3 {
      font-size: 0.95rem;
      font-weight: 700;
      margin-bottom: 0.3rem;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    .calc-card p {
      font-size: 0.82rem;
      color: var(--muted);
      line-height: 1.6;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    .card-tag {
      position: absolute;
      top: 1rem;
      left: 1rem;
      background: var(--card-color, var(--accent));
      color: white;
      font-size: 0.65rem;
      font-weight: 700;
      padding: 0.2rem 0.5rem;
      border-radius: 4px;
      opacity: 0.9;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    /* â”€â”€ SECTION HEADER â”€â”€ */
    .section-head {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 1.25rem;
    }

    .section-head h2 {
      font-family: 'Amiri', serif;
      font-size: 1.5rem;
    }

    .section-badge {
      background: rgba(108, 99, 255, 0.12);
      border: 1px solid rgba(108, 99, 255, 0.25);
      border-radius: 100px;
      padding: 0.2rem 0.7rem;
      font-size: 0.75rem;
      color: var(--accent3);
      font-weight: 600;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    /* â”€â”€ MODAL â”€â”€ */
    .modal-overlay {
      position: fixed;
      inset: 0;
      z-index: 200;
      background: rgba(4, 4, 18, 0.75);
      backdrop-filter: blur(12px);
      -webkit-backdrop-filter: blur(12px);
      display: none;
      align-items: center;
      justify-content: center;
      padding: 1rem;
    }

    .modal-overlay.open {
      display: flex;
    }

    .modal {
      background: rgba(10, 10, 30, 0.75);
      backdrop-filter: blur(36px) saturate(180%);
      -webkit-backdrop-filter: blur(36px) saturate(180%);
      border: 1px solid rgba(255, 255, 255, 0.12);
      border-radius: 22px;
      width: 100%;
      max-width: 680px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 24px 80px rgba(0, 0, 0, 0.65), 0 0 0 1px rgba(108, 99, 255, 0.12), inset 0 1px 0 rgba(255, 255, 255, 0.08);
      animation: modalIn 0.3s cubic-bezier(0.34, 1.4, 0.64, 1);
      direction: rtl;
      text-align: right;
    }

    @keyframes modalIn {
      from {
        opacity: 0;
        transform: translateY(20px) scale(0.97);
      }

      to {
        opacity: 1;
        transform: translateY(0) scale(1);
      }
    }

    .modal-header {
      display: flex;
      align-items: center;
      gap: 1rem;
      padding: 1.5rem 1.75rem;
      border-bottom: 1px solid var(--border);
      flex-direction: row-reverse;
    }

    .modal-icon {
      width: 52px;
      height: 52px;
      border-radius: 14px;
      background: rgba(255, 255, 255, 0.07);
      border: 1px solid rgba(255, 255, 255, 0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.5rem;
      flex-shrink: 0;
    }

    .modal-header h2 {
      font-family: 'Amiri', serif;
      font-size: 1.5rem;
    }

    .modal-header p {
      font-size: 0.85rem;
      color: var(--muted2);
      margin-top: 0.15rem;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    .modal-close {
      margin-right: auto;
      margin-left: 0;
      background: rgba(255, 255, 255, 0.06);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: 8px;
      width: 36px;
      height: 36px;
      cursor: pointer;
      color: var(--muted2);
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
      flex-shrink: 0;
    }

    .modal-close:hover {
      background: rgba(255, 255, 255, 0.1);
      border-color: rgba(108, 99, 255, 0.4);
      color: var(--text);
    }

    .modal-body {
      padding: 1.75rem;
    }

    /* â”€â”€ FORM ELEMENTS â”€â”€ */
    .field-group {
      margin-bottom: 1.25rem;
    }

    .field-group label {
      display: block;
      font-size: 0.82rem;
      font-weight: 700;
      color: var(--muted2);
      margin-bottom: 0.4rem;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    .input-wrap {
      position: relative;
    }

    .input-prefix,
    .input-suffix {
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      color: var(--muted);
      font-size: 0.9rem;
      pointer-events: none;
    }

    .input-prefix {
      right: 0.9rem;
      left: auto;
    }

    .input-suffix {
      left: 0.9rem;
      right: auto;
    }

    input[type="number"],
    input[type="text"],
    input[type="password"],
    input[type="date"],
    select {
      width: 100%;
      background: rgba(255, 255, 255, 0.05);
      border: 1px solid rgba(255, 255, 255, 0.1);
      border-radius: var(--radius-sm);
      padding: 0.7rem 0.9rem;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
      font-size: 0.95rem;
      color: var(--text);
      outline: none;
      transition: border-color 0.25s, box-shadow 0.25s;
      direction: rtl;
      text-align: right;
      backdrop-filter: blur(8px);
    }

    input[type="number"]:focus,
    input[type="text"]:focus,
    select:focus {
      border-color: rgba(108, 99, 255, 0.6);
      box-shadow: 0 0 0 3px rgba(108, 99, 255, 0.12);
    }

    .has-prefix input {
      padding-right: 2rem;
    }

    .has-suffix input {
      padding-left: 2.5rem;
    }

    .field-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1rem;
    }

    .field-row-3 {
      display: grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap: 1rem;
    }

    .calc-btn {
      width: 100%;
      background: linear-gradient(135deg, rgba(108, 99, 255, 0.8), rgba(139, 132, 255, 0.7));
      border: 1px solid rgba(108, 99, 255, 0.5);
      border-radius: var(--radius-sm);
      padding: 0.85rem;
      color: white;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
      font-size: 1rem;
      font-weight: 700;
      cursor: pointer;
      transition: all 0.25s;
      margin-top: 0.5rem;
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 20px rgba(108, 99, 255, 0.3);
    }

    .calc-btn:hover {
      background: linear-gradient(135deg, rgba(108, 99, 255, 1), rgba(139, 132, 255, 0.9));
      transform: translateY(-2px);
      box-shadow: 0 8px 30px rgba(108, 99, 255, 0.45);
    }

    /* â”€â”€ RESULTS â”€â”€ */
    .results {
      display: none;
      margin-top: 1.5rem;
      background: rgba(255, 255, 255, 0.04);
      border: 1px solid rgba(108, 99, 255, 0.2);
      border-radius: var(--radius);
      padding: 1.5rem;
      backdrop-filter: blur(16px);
    }

    .results.show {
      display: block;
    }

    .results h3 {
      font-size: 0.8rem;
      font-weight: 700;
      color: var(--muted);
      margin-bottom: 1rem;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    .result-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(130px, 1fr));
      gap: 1rem;
    }

    .result-item {
      text-align: center;
    }

    .result-value {
      font-family: 'Amiri', serif;
      font-size: 1.8rem;
      color: var(--accent2);
      display: block;
      line-height: 1.1;
    }

    .result-label {
      font-size: 0.8rem;
      color: var(--muted);
      margin-top: 0.25rem;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    .result-highlight {
      background: linear-gradient(135deg, rgba(108, 99, 255, 0.2), rgba(108, 99, 255, 0.07));
      border: 1px solid rgba(108, 99, 255, 0.35);
      border-radius: 12px;
      padding: 1rem;
      text-align: center;
      margin-bottom: 1rem;
      box-shadow: 0 0 30px rgba(108, 99, 255, 0.12);
    }

    .result-highlight .result-value {
      font-size: 2.4rem;
    }

    .result-note {
      font-size: 0.82rem;
      color: var(--muted);
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid var(--border);
      line-height: 1.8;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    .result-bar {
      margin-top: 1rem;
    }

    .bar-row {
      display: flex;
      align-items: center;
      gap: 0.75rem;
      margin-bottom: 0.6rem;
      font-size: 0.82rem;
      flex-direction: row-reverse;
    }

    .bar-label {
      width: 130px;
      color: var(--muted2);
      flex-shrink: 0;
      text-align: right;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    .bar-track {
      flex: 1;
      background: rgba(255, 255, 255, 0.06);
      border-radius: 100px;
      height: 8px;
      overflow: hidden;
    }

    .bar-fill {
      height: 100%;
      border-radius: 100px;
      transition: width 0.6s ease;
    }

    .bar-val {
      width: 80px;
      color: var(--text);
      font-weight: 600;
      text-align: left;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    .modal-ad {
      background: var(--bg);
      border: 1px dashed var(--border);
      border-radius: var(--radius-sm);
      margin-top: 1.5rem;
      height: 90px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: var(--muted);
      font-size: 0.7rem;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    /* â”€â”€ FOOTER â”€â”€ */
    footer {
      position: relative;
      z-index: 1;
      border-top: 1px solid rgba(255, 255, 255, 0.07);
      background: rgba(7, 7, 26, 0.6);
      backdrop-filter: blur(20px);
      padding: 3rem 2rem 2rem;
      margin-top: 4rem;
    }

    .footer-inner {
      max-width: 1280px;
      margin: 0 auto;
      display: grid;
      grid-template-columns: 2fr 1fr 1fr 1fr;
      gap: 2.5rem;
      margin-bottom: 2.5rem;
    }

    .footer-brand .logo {
      font-size: 1.25rem;
      margin-bottom: 0.75rem;
      display: inline-block;
    }

    .footer-brand p {
      font-size: 0.88rem;
      color: var(--muted);
      line-height: 1.8;
      max-width: 280px;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    footer h4 {
      font-size: 0.85rem;
      font-weight: 800;
      color: var(--muted);
      margin-bottom: 1rem;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    footer ul {
      list-style: none;
    }

    footer ul li {
      margin-bottom: 0.6rem;
    }

    footer ul a {
      color: var(--muted2);
      text-decoration: none;
      font-size: 0.88rem;
      transition: color 0.2s;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    footer ul a:hover {
      color: var(--text);
    }

    .footer-bottom {
      max-width: 1280px;
      margin: 0 auto;
      padding-top: 1.5rem;
      border-top: 1px solid var(--border);
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-size: 0.82rem;
      color: var(--muted);
      flex-wrap: wrap;
      gap: 1rem;
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    /* â”€â”€ MISC â”€â”€ */
    .calc-card.hidden {
      display: none;
    }

    .no-results {
      grid-column: 1/-1;
      text-align: center;
      padding: 3rem;
      color: var(--muted);
      font-family: 'IBM Plex Sans Arabic', sans-serif;
    }

    /* â”€â”€ RESPONSIVE â”€â”€ */
    @media (max-width: 900px) {
      .main-wrap {
        grid-template-columns: 1fr;
      }

      .sidebar-col {
        display: none;
      }

      .nav-cats {
        display: none;
      }

      .footer-inner {
        grid-template-columns: 1fr 1fr;
      }

      .lang-toggle {
        top: auto;
        bottom: 1.5rem;
        left: 0;
        transform: none;
        flex-direction: row;
        border-radius: 0 12px 12px 0;
      }

      .lang-toggle a {
        width: 48px;
        height: 44px;
      }
    }

    @media (max-width: 600px) {

      .field-row,
      .field-row-3 {
        grid-template-columns: 1fr;
      }

      .hero h1 {
        font-size: 2.5rem;
      }

      .footer-inner {
        grid-template-columns: 1fr;
      }
    }

    @keyframes heartbeatPulse {

      0%,
      100% {
        transform: scale(1);
        opacity: 0.4;
      }

      15% {
        transform: scale(1.12);
        opacity: 0.8;
      }

      30% {
        transform: scale(1);
        opacity: 0.4;
      }

      45% {
        transform: scale(1.08);
        opacity: 0.6;
      }

      60% {
        transform: scale(1);
        opacity: 0.4;
      }
    }

    @keyframes fadeUp {
      from {
        opacity: 0;
        transform: translateY(16px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .calc-card {
      animation: fadeUp 0.4s ease both;
    }

    .calc-card:nth-child(1) {
      animation-delay: .05s
    }

    .calc-card:nth-child(2) {
      animation-delay: .1s
    }

    .calc-card:nth-child(3) {
      animation-delay: .15s
    }

    .calc-card:nth-child(4) {
      animation-delay: .2s
    }

    .calc-card:nth-child(5) {
      animation-delay: .25s
    }

    .calc-card:nth-child(6) {
      animation-delay: .3s
    }

    /* â”€â”€ UX POLISH â”€â”€ */
    @keyframes shakeInput {

      0%,
      100% {
        transform: translateX(0);
      }

      15% {
        transform: translateX(-6px);
      }

      30% {
        transform: translateX(6px);
      }

      45% {
        transform: translateX(-4px);
      }

      60% {
        transform: translateX(4px);
      }

      75% {
        transform: translateX(-2px);
      }

      90% {
        transform: translateX(2px);
      }
    }

    .shake {
      animation: shakeInput 0.5s ease-in-out;
      border-color: var(--pink) !important;
    }

    #confetti-canvas {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 99999;
    }

    @keyframes skeletonPulse {
      0% {
        opacity: 0.4;
      }

      50% {
        opacity: 1;
      }

      100% {
        opacity: 0.4;
      }
    }

    .skeleton-line {
      height: 14px;
      background: rgba(108, 99, 255, 0.15);
      border-radius: 6px;
      animation: skeletonPulse 1.2s ease-in-out infinite;
      margin-bottom: 0.5rem;
    }

    .skeleton-line.w60 {
      width: 60%;
    }

    .skeleton-line.w80 {
      width: 80%;
    }

    .skeleton-line.w40 {
      width: 40%;
    }

    /* â”€â”€ PREMIUM FEATURES CSS â”€â”€ */
    /* Glassmorphism Light Mode */
    /* Neumorphic Light Mode Redesign */
    [data-theme="light"] {
      --bg: #E0E5EC;
      --surface: #E0E5EC;
      --surface2: #E0E5EC;
      --border: transparent;
      --border2: transparent;
      --text: #4A5568;
      --text-muted: #718096;
      --muted: #A0AEC0;
      --muted2: #CBD5E0;
      --accent: #6C63FF;
      --accent-hover: #5A52D5;

      /* Neumorphic Shadows */
      --neu-light: #ffffff;
      --neu-dark: #a3b1c6;
      --accent-shadow: 6px 6px 16px rgba(163, 177, 198, 0.4), -6px -6px 16px rgba(255, 255, 255, 0.8);

      --card-shadow: 9px 9px 16px rgba(163, 177, 198, 0.6), -9px -9px 16px rgba(255, 255, 255, 0.5);
      --card-hover-shadow: inset 6px 6px 10px rgba(163, 177, 198, 0.5), inset -6px -6px 10px rgba(255, 255, 255, 0.5);

      --neu-inset: inset 4px 4px 8px rgba(163, 177, 198, 0.5), inset -4px -4px 8px rgba(255, 255, 255, 0.6);
      --neu-pressed: inset 6px 6px 10px rgba(163, 177, 198, 0.6), inset -6px -6px 10px rgba(255, 255, 255, 0.8);

      --success: #10B981;
      --warning: #F59E0B;
      --error: #EF4444;
      --info: #3B82F6;

      /* Neutralize dark-mode leaky variables */
      --accent2: #6C63FF;
      --accent3: #8B84FF;
      --blue: #3B82F6;
      --pink: #EC4899;
      --green: #10B981;
      --glow: none;
      --card-glow: none;
    }

    html[data-theme="light"] body {
      background: var(--bg) !important;
      color: var(--text-muted);
      line-height: 1.6;
      font-weight: 400;
    }

    html[data-theme="light"] body::before,
    html[data-theme="light"] .hero-glow,
    html[data-theme="light"] .hero::after,
    html[data-theme="light"] .calc-card::before {
      display: none !important;
      background: none !important;
    }

    html[data-theme="light"] .section-title,
    html[data-theme="light"] h1,
    html[data-theme="light"] h2,
    html[data-theme="light"] h3,
    html[data-theme="light"] h4,
    html[data-theme="light"] .logo {
      color: var(--text) !important;
      letter-spacing: -0.01em;
      font-weight: 600;
      text-shadow: 2px 2px 4px rgba(163, 177, 198, 0.5), -2px -2px 4px rgba(255, 255, 255, 0.6) !important;
    }

    html[data-theme="light"] .logo .logo-dot {
      color: var(--accent) !important;
    }

    html[data-theme="light"] nav {
      background: var(--surface) !important;
      backdrop-filter: none !important;
      -webkit-backdrop-filter: none !important;
      border-bottom: none !important;
      box-shadow: 0 4px 10px rgba(163, 177, 198, 0.3) !important;
    }

    html[data-theme="light"] .nav-search {
      background: var(--surface) !important;
      border: none !important;
      box-shadow: var(--neu-inset) !important;
    }

    html[data-theme="light"] .nav-search input:focus {
      box-shadow: none !important;
    }

    html[data-theme="light"] .nav-cats button {
      color: var(--muted) !important;
    }

    html[data-theme="light"] .nav-cats button:hover {
      background: var(--surface) !important;
      box-shadow: var(--card-shadow) !important;
      color: var(--accent) !important;
      border-color: transparent !important;
    }

    html[data-theme="light"] .nav-cats button.active {
      background: var(--surface) !important;
      border-color: transparent !important;
      color: var(--accent) !important;
      box-shadow: var(--neu-pressed) !important;
    }

    html[data-theme="light"] .calc-grid {
      gap: 1.5rem !important;
    }

    html[data-theme="light"] .calc-card {
      background: var(--surface) !important;
      border: none !important;
      box-shadow: var(--card-shadow) !important;
      border-radius: 20px;
    }

    html[data-theme="light"] .calc-card:hover {
      transform: translateY(-2px);
      box-shadow: var(--card-hover-shadow) !important;
      border-color: transparent !important;
    }

    html[data-theme="light"] .card-icon {
      background: var(--surface) !important;
      border: none !important;
      box-shadow: var(--card-shadow) !important;
    }

    html[data-theme="light"] .calc-card:hover .card-icon {
      box-shadow: var(--neu-pressed) !important;
    }

    html[data-theme="light"] .modal-content,
    html[data-theme="light"] .modal {
      background: var(--surface) !important;
      border: none !important;
      box-shadow: 12px 12px 24px rgba(163, 177, 198, 0.7), -12px -12px 24px rgba(255, 255, 255, 0.8) !important;
      backdrop-filter: none !important;
      border-radius: 24px !important;
    }

    html[data-theme="light"] .calc-btn {
      background: var(--surface) !important;
      color: var(--accent) !important;
      border: none !important;
      border-radius: 12px;
      box-shadow: var(--card-shadow) !important;
      font-weight: 700 !important;
    }

    html[data-theme="light"] .calc-btn:hover {
      box-shadow: var(--neu-pressed) !important;
      transform: translateY(0) !important;
      background: var(--surface) !important;
    }

    html[data-theme="light"] input,
    html[data-theme="light"] select {
      background: var(--surface) !important;
      border: none !important;
      color: var(--text) !important;
      box-shadow: var(--neu-inset) !important;
    }

    html[data-theme="light"] input:focus,
    html[data-theme="light"] select:focus {
      box-shadow: var(--neu-pressed) !important;
      border: none !important;
    }

    html[data-theme="light"] .results {
      background: var(--surface) !important;
      border: none !important;
      box-shadow: var(--neu-inset) !important;
      border-radius: 20px !important;
    }

    html[data-theme="light"] footer {
      background: var(--surface) !important;
      border-top: none !important;
      box-shadow: inset 0 10px 10px -10px rgba(163, 177, 198, 0.5) !important;
    }

    html[data-theme="light"] .fav-chip {
      background: var(--surface) !important;
      border: none !important;
      box-shadow: var(--card-shadow) !important;
    }

    html[data-theme="light"] .fav-chip:hover {
      box-shadow: var(--neu-pressed) !important;
      transform: translateY(0) !important;
    }


    .theme-toggle {
      bottom: 1.5rem;
      right: 1.5rem;
      z-index: 9999;
      width: 44px;
      height: 44px;
      border-radius: 50%;
      border: 1px solid var(--border);
      background: var(--surface);
      color: var(--text);
      font-size: 1.2rem;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
      box-shadow: 0 2px 12px rgba(0, 0, 0, 0.2);
    }

    .theme-toggle:hover {
      transform: scale(1.1);
      border-color: var(--accent);
    }

    .copy-results-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.4rem 0.9rem;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--surface2);
      color: var(--muted2);
      font-size: 0.75rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      margin-top: 0.8rem;
    }

    .copy-results-btn:hover {
      border-color: var(--accent);
      color: var(--accent2);
    }

    .copy-results-btn.copied {
      border-color: var(--green) !important;
      color: var(--green) !important;
    }

    .fav-star {
      position: absolute;
      bottom: 0.6rem;
      left: 0.6rem;
      background: none;
      border: none;
      font-size: 1.1rem;
      cursor: pointer;
      opacity: 0.3;
      transition: all 0.2s;
      z-index: 5;
      padding: 0.25rem;
    }

    .fav-star:hover {
      opacity: 0.7;
      transform: scale(1.2);
    }

    .fav-star.active {
      opacity: 1;
      transform: scale(1.1);
    }

    .fav-section {
      margin-bottom: 2rem;
      display: none;
    }

    .fav-section.has-favs {
      display: block;
    }

    .fav-section h3 {
      font-size: 1.1rem;
      color: var(--accent2);
      margin-bottom: 0.8rem;
      font-weight: 600;
    }

    .fav-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(140px, 1fr));
      gap: 0.8rem;
    }

    .fav-chip {
      background: var(--surface);
      border: 1px solid rgba(108, 99, 255, 0.25);
      border-radius: 10px;
      padding: 0.6rem 0.8rem;
      cursor: pointer;
      font-size: 0.8rem;
      font-weight: 500;
      color: var(--text);
      transition: all 0.2s;
      text-align: center;
    }

    .fav-chip:hover {
      border-color: var(--accent);
      transform: translateY(-2px);
    }

    .chart-container {
      margin-top: 1rem;
      background: rgba(108, 99, 255, 0.04);
      border: 1px solid var(--border);
      border-radius: 12px;
      padding: 1rem;
    }

    .chart-container canvas {
      width: 100%;
      height: 200px;
    }

    .share-btn {
      display: inline-flex;
      align-items: center;
      gap: 0.4rem;
      padding: 0.4rem 0.9rem;
      border-radius: 8px;
      border: 1px solid var(--border);
      background: var(--surface2);
      color: var(--muted2);
      font-size: 0.75rem;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.2s;
      margin-top: 0.5rem;
      margin-right: 0.5rem;
    }

    .share-btn:hover {
      border-color: var(--pink);
      color: var(--pink);
    }

    .share-btn.shared {
      border-color: var(--green) !important;
      color: var(--green) !important;
    }
  </style>
</head>

<body>

  <!-- â•â•â• LANGUAGE TOGGLE â•â•â• -->
  <div class="lang-toggle">
    <a href="index.html" class="lang-en" data-tooltip="English">EN</a>
    <a href="index-ar.html" class="lang-ar active-lang" data-tooltip="Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©">Ø¹</a>
  </div>

  <!-- Theme Toggle -->
  <button class="theme-toggle" id="theme-toggle" onclick="toggleTheme()" title="ØªØ¨Ø¯ÙŠÙ„ Ø§Ù„ÙˆØ¶Ø¹ Ø§Ù„ÙØ§ØªØ­/Ø§Ù„Ø¯Ø§ÙƒÙ†">ğŸŒ™</button>

  <!-- NAV -->
  <nav>
    <div class="nav-inner">
      <a href="index-ar.html" class="logo">Calc<span class="logo-dot">Wise</span></a>
      <div class="nav-search">
        <span style="color:var(--muted);font-size:0.9rem;">âŒ•</span>
        <input type="text" id="global-search" placeholder="Ø§Ø¨Ø­Ø« Ø¹Ù† Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©..." oninput="searchCalcs(this.value)">
      </div>
      <ul class="nav-cats">
        <li><button onclick="scrollToSection('top')" class="active" id="nav-all">Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</button></li>
        <li><button onclick="scrollToSection('section-finance')" id="nav-finance">Ø§Ù„Ù…Ø§Ù„</button></li>
        <li><button onclick="scrollToSection('section-health')" id="nav-health">Ø§Ù„ØµØ­Ø©</button></li>
        <li><button onclick="scrollToSection('section-math')" id="nav-math">Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</button></li>
        <li><button onclick="scrollToSection('section-everyday')" id="nav-everyday">ÙŠÙˆÙ…ÙŠ</button></li>
        <li><a href="blog-ar.html"
            style="color:var(--muted);font-size:0.82rem;font-weight:500;text-decoration:none;padding:0.4rem 0.8rem;border-radius:8px;background:rgba(108,99,255,0.1);transition:all 0.2s;">ğŸ“
            Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©</a></li>
      </ul>
    </div>
  </nav>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-glow"></div>
    <div class="hero-eyebrow"><span>âœ¦</span> Ù…Ø¬Ø§Ù†ÙŠ Â· ÙÙˆØ±ÙŠ Â· Ø®Ø§Øµ <span>âœ¦</span></div>
    <h1>ÙƒÙ„ Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©<br>Ø³ØªØ­ØªØ§Ø¬Ù‡Ø§ <em>ÙŠÙˆÙ…Ø§Ù‹ Ù…Ø§</em></h1>
    <p>Ø£ÙƒØ«Ø± Ù…Ù† Ù£Ù¦ Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ù„Ù…Ø§Ù„ ÙˆØ§Ù„ØµØ­Ø© ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ÙˆØ§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©. Ù†ØªØ§Ø¦Ø¬ ÙÙˆØ±ÙŠØ© Ø¨Ø¯ÙˆÙ† Ø¥Ø¹Ù„Ø§Ù†Ø§Øª Ù…Ø²Ø¹Ø¬Ø©ØŒ Ø¨Ø¯ÙˆÙ† ØªØ³Ø¬ÙŠÙ„ØŒ
      Ø¨Ø¯ÙˆÙ† ØªØ¹Ù‚ÙŠØ¯.</p>
    <div class="hero-stats">
      <div class="stat"><span class="stat-num">Ù£Ù¦+</span><span class="stat-label">Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©</span></div>
      <div class="stat"><span class="stat-num">Ù¡Ù Ù Ùª</span><span class="stat-label">Ù…Ø¬Ø§Ù†ÙŠ Ù„Ù„Ø£Ø¨Ø¯</span></div>
      <div class="stat"><span class="stat-num">ØµÙØ±</span><span class="stat-label">Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø¬Ù…Ø¹Ø©</span></div>
    </div>
  </section>

  <!-- TOP AD -->
  <div class="ad-wrap">
    <div class="ad-unit leaderboard">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>
  </div>

  <!-- MAIN -->
  <div class="main-wrap">

    <!-- SIDEBAR (LEFT in RTL) -->
    <div class="sidebar-col">
      <div class="ad-unit sidebar">Ø¥Ø¹Ù„Ø§Ù† Â· 160Ã—600</div>
    </div>

    <div class="main-content">

      <!-- CATEGORY TABS -->
      <div class="cat-tabs">
        <button class="cat-tab active" onclick="filterCat('all')" id="tab-all"><span class="tab-icon">âš¡</span> ÙƒÙ„
          Ø§Ù„Ø¢Ù„Ø§Øª</button>
        <button class="cat-tab" onclick="filterCat('finance')" id="tab-finance"><span class="tab-icon">ğŸ’°</span>
          Ø§Ù„Ù…Ø§Ù„</button>
        <button class="cat-tab" onclick="filterCat('health')" id="tab-health"><span class="tab-icon">â¤ï¸</span> Ø§Ù„ØµØ­Ø©
          ÙˆØ§Ù„Ù„ÙŠØ§Ù‚Ø©</button>
        <button class="cat-tab" onclick="filterCat('math')" id="tab-math"><span class="tab-icon">ğŸ“</span>
          Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª</button>
        <button class="cat-tab" onclick="filterCat('everyday')" id="tab-everyday"><span class="tab-icon">ğŸŒŸ</span>
          ÙŠÙˆÙ…ÙŠ</button>
      </div>

      <!-- â•â• FINANCE â•â• -->
      <div id="section-finance" class="calc-section">
        <div class="section-head">
          <h2>ğŸ’° Ø§Ù„Ù…Ø§Ù„ ÙˆØ§Ù„ØªÙ…ÙˆÙŠÙ„</h2>
          <span class="section-badge">Ù¡Ù¢ Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©</span>
        </div>
        <div class="calc-grid">
          <div class="calc-card" style="--card-color:var(--green)" data-cat="finance"
            data-name="Ø±Ù‡Ù† Ø¹Ù‚Ø§Ø±ÙŠ Ù‚Ø±Ø¶ Ù…Ù†Ø²Ù„ Ø¯ÙØ¹Ø© Ø´Ù‡Ø±ÙŠØ©" onclick="openCalc('mortgage')">
            <div class="card-icon">ğŸ </div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø±Ù‡Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠ</h3>
            <p>Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ© ÙˆØ§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© ÙˆØ¬Ø¯ÙˆÙ„ Ø§Ù„Ø¥Ù‡Ù„Ø§Ùƒ Ø§Ù„ÙƒØ§Ù…Ù„.</p>
            <span class="card-tag" style="background:var(--green)">Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹</span>
          </div>
          <div class="calc-card" style="--card-color:var(--blue)" data-cat="finance"
            data-name="Ù‚Ø±Ø¶ Ø´Ø®ØµÙŠ Ø³ÙŠØ§Ø±Ø© Ø¯ÙØ¹Ø© Ø´Ù‡Ø±ÙŠØ©" onclick="openCalc('loan')">
            <div class="card-icon">ğŸ’³</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù‚Ø±ÙˆØ¶</h3>
            <p>Ø§Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ© Ù„Ø£ÙŠ Ù‚Ø±Ø¶ Ø´Ø®ØµÙŠ Ø£Ùˆ Ù‚Ø±Ø¶ Ø³ÙŠØ§Ø±Ø©.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--yellow)" data-cat="finance"
            data-name="ÙØ§Ø¦Ø¯Ø© Ù…Ø±ÙƒØ¨Ø© Ø§Ø¯Ø®Ø§Ø± Ø§Ø³ØªØ«Ù…Ø§Ø± Ù†Ù…Ùˆ" onclick="openCalc('compound')">
            <div class="card-icon">ğŸ“ˆ</div>
            <h3>Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ù…Ø±ÙƒØ¨Ø©</h3>
            <p>Ø´Ø§Ù‡Ø¯ ÙƒÙŠÙ ØªÙ†Ù…Ùˆ Ù…Ø¯Ø®Ø±Ø§ØªÙƒ Ø£Ùˆ Ø§Ø³ØªØ«Ù…Ø§Ø±Ø§ØªÙƒ Ù…Ø¹ Ù…Ø±ÙˆØ± Ø§Ù„ÙˆÙ‚Øª.</p>
            <span class="card-tag" style="background:var(--yellow);color:#000">Ø±Ø§Ø¦Ø¬</span>
          </div>
          <div class="calc-card" style="--card-color:var(--orange)" data-cat="finance"
            data-name="Ø¨Ø·Ø§Ù‚Ø© Ø§Ø¦ØªÙ…Ø§Ù† Ø¯ÙŠÙˆÙ† Ø³Ø¯Ø§Ø¯ ÙÙˆØ§Ø¦Ø¯" onclick="openCalc('creditcard')">
            <div class="card-icon">ğŸ’³</div>
            <h3>Ø³Ø¯Ø§Ø¯ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø§Ø¦ØªÙ…Ø§Ù†</h3>
            <p>ÙƒÙ… Ù…Ù† Ø§Ù„ÙˆÙ‚Øª ÙŠØ³ØªØºØ±Ù‚ Ø³Ø¯Ø§Ø¯ Ø±ØµÙŠØ¯Ùƒ ÙˆØ§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ©.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--accent)" data-cat="finance"
            data-name="Ø±Ø§ØªØ¨ Ø£Ø¬Ø± Ø³Ø§Ø¹ÙŠ Ø´Ù‡Ø±ÙŠ Ø³Ù†ÙˆÙŠ" onclick="openCalc('salary')">
            <div class="card-icon">ğŸ’¼</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø±Ø§ØªØ¨</h3>
            <p>Ø­ÙˆÙ‘Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¬Ø± Ø¨Ø§Ù„Ø³Ø§Ø¹Ø© ÙˆØ§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ ÙˆØ§Ù„Ø´Ù‡Ø±ÙŠ ÙˆØ§Ù„Ø³Ù†ÙˆÙŠ.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--pink)" data-cat="finance" data-name="Ø¨Ù‚Ø´ÙŠØ´ Ù…Ø·Ø¹Ù… ÙØ§ØªÙˆØ±Ø© ØªÙ‚Ø³ÙŠÙ…"
            onclick="openCalc('tip')">
            <div class="card-icon">ğŸ½ï¸</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¨Ù‚Ø´ÙŠØ´</h3>
            <p>Ù‚Ø³Ù‘Ù… ÙØ§ØªÙˆØ±Ø© Ø§Ù„Ù…Ø·Ø¹Ù… ÙˆØ§Ø­Ø³Ø¨ Ø§Ù„Ø¨Ù‚Ø´ÙŠØ´ Ù„ÙƒÙ„ Ø´Ø®Øµ ÙÙˆØ±Ø§Ù‹.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--green)" data-cat="finance"
            data-name="Ø¹Ø§Ø¦Ø¯ Ø§Ø³ØªØ«Ù…Ø§Ø± Ø±Ø¨Ø­ Ø®Ø³Ø§Ø±Ø© Ù†Ø³Ø¨Ø©" onclick="openCalc('roi')">
            <div class="card-icon">ğŸ“Š</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±</h3>
            <p>Ø§Ø­Ø³Ø¨ Ù†Ø³Ø¨Ø© Ø§Ù„Ø¹Ø§Ø¦Ø¯ ÙˆØ§Ù„Ø±Ø¨Ø­ Ù…Ù† Ø£ÙŠ Ø§Ø³ØªØ«Ù…Ø§Ø±.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--blue)" data-cat="finance"
            data-name="Ù†Ø³Ø¨Ø© Ù…Ø¦ÙˆÙŠØ© Ø®ØµÙ… ØªØ®ÙÙŠØ¶ Ø³Ø¹Ø±" onclick="openCalc('percentage')">
            <div class="card-icon">%</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©</h3>
            <p>Ù…Ø§ Ù‡Ùˆ XÙª Ù…Ù† YØŸ Ø§Ù„ØªØºÙŠÙŠØ± ÙˆØ§Ù„Ø²ÙŠØ§Ø¯Ø© ÙˆØ§Ù„Ù†Ù‚ØµØ§Ù† Ø¨Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--yellow)" data-cat="finance"
            data-name="Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ© VAT Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª" onclick="openCalc('tax')">
            <div class="card-icon">ğŸ§¾</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©</h3>
            <p>Ø£Ø¶Ù Ø£Ùˆ Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© Ù…Ù† Ø£ÙŠ Ø³Ø¹Ø± ÙÙˆØ±Ø§Ù‹.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--orange)" data-cat="finance"
            data-name="ØªÙ‚Ø§Ø¹Ø¯ Ø§Ø¯Ø®Ø§Ø± Ù…Ø¯Ø®Ø±Ø§Øª Ù…Ø³ØªÙ‚Ø¨Ù„" onclick="openCalc('retirement')">
            <div class="card-icon">ğŸ–ï¸</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ù…Ø¯Ø®Ø±Ø§Øª Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯</h3>
            <p>ÙƒÙ… ØªØ­ØªØ§Ø¬ Ø£Ù† ØªÙˆÙØ± Ø´Ù‡Ø±ÙŠØ§Ù‹ Ù„ØªØªÙ‚Ø§Ø¹Ø¯ Ø¨Ø±Ø§Ø­Ø©.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--accent)" data-cat="finance"
            data-name="Ø¹Ù…Ù„Ø© ØµØ±Ù Ø¯ÙˆÙ„Ø§Ø± Ø±ÙŠØ§Ù„ ÙŠÙˆØ±Ùˆ" onclick="openCalc('currency')">
            <div class="card-icon">ğŸ’±</div>
            <h3>Ù…Ø­ÙˆÙ„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª</h3>
            <p>Ø­ÙˆÙ‘Ù„ Ø¨ÙŠÙ† Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø¹Ø§Ù„Ù… Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø¨Ø£Ø³Ø¹Ø§Ø± Ù…Ø­Ø¯Ù‘Ø«Ø©.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--pink)" data-cat="finance" data-name="ØªØ¶Ø®Ù… Ù‚ÙˆØ© Ø´Ø±Ø§Ø¦ÙŠØ© Ø£Ø³Ø¹Ø§Ø±"
            onclick="openCalc('inflation')">
            <div class="card-icon">ğŸ“‰</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ØªØ¶Ø®Ù…</h3>
            <p>Ø´Ø§Ù‡Ø¯ ÙƒÙŠÙ ÙŠØ¤Ø«Ø± Ø§Ù„ØªØ¶Ø®Ù… Ø¹Ù„Ù‰ Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø§Ù„ Ù…Ø¹ Ø§Ù„ÙˆÙ‚Øª.</p>
          </div>
        </div>
      </div>

      <!-- MID AD -->
      <div class="ad-unit leaderboard" style="margin:2rem 0">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>

      <!-- â•â• HEALTH â•â• -->
      <div id="section-health" class="calc-section">
        <div class="section-head">
          <h2>â¤ï¸ Ø§Ù„ØµØ­Ø© ÙˆØ§Ù„Ù„ÙŠØ§Ù‚Ø©</h2>
          <span class="section-badge">Ù¡Ù  Ø¢Ù„Ø§Øª Ø­Ø§Ø³Ø¨Ø©</span>
        </div>
        <div class="calc-grid">
          <div class="calc-card" style="--card-color:var(--pink)" data-cat="health"
            data-name="Ù…Ø¤Ø´Ø± ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù… ÙˆØ²Ù† Ø·ÙˆÙ„ BMI" onclick="openCalc('bmi')">
            <div class="card-icon">âš–ï¸</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ù…Ø¤Ø´Ø± ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù…</h3>
            <p>Ù…Ø¤Ø´Ø± ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù… Ù…Ø¹ Ù†Ø·Ø§Ù‚ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ­ÙŠ ÙˆØ§Ù„ØªØµÙ†ÙŠÙ.</p>
            <span class="card-tag" style="background:var(--pink)">Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹</span>
          </div>
          <div class="calc-card" style="--card-color:var(--orange)" data-cat="health"
            data-name="Ø³Ø¹Ø±Ø§Øª Ø­Ø±Ø§Ø±ÙŠØ© TDEE Ø­Ù…ÙŠØ© ØªØ®Ø³ÙŠØ³ ÙˆØ²Ù†" onclick="openCalc('calories')">
            <div class="card-icon">ğŸ”¥</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©</h3>
            <p>Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù…Ù† Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ù‡Ø¯ÙÙƒ: Ø¥Ù†Ù‚Ø§Øµ Ø£Ùˆ Ø«Ø¨Ø§Øª Ø£Ùˆ Ø²ÙŠØ§Ø¯Ø©.</p>
            <span class="card-tag" style="background:var(--orange)">Ø±Ø§Ø¦Ø¬</span>
          </div>
          <div class="calc-card" style="--card-color:var(--green)" data-cat="health"
            data-name="Ø¨Ø±ÙˆØªÙŠÙ† ÙƒØ±Ø¨ÙˆÙ‡ÙŠØ¯Ø±Ø§Øª Ø¯Ù‡ÙˆÙ† Ù…Ø§ÙƒØ±Ùˆ Ù†Ø¸Ø§Ù… ØºØ°Ø§Ø¦ÙŠ" onclick="openCalc('macros')">
            <div class="card-icon">ğŸ¥©</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø§ÙƒØ±Ùˆ</h3>
            <p>Ø§Ø­ØªÙŠØ§Ø¬Ø§ØªÙƒ Ù…Ù† Ø§Ù„Ø¨Ø±ÙˆØªÙŠÙ† ÙˆØ§Ù„ÙƒØ±Ø¨ÙˆÙ‡ÙŠØ¯Ø±Ø§Øª ÙˆØ§Ù„Ø¯Ù‡ÙˆÙ† Ø­Ø³Ø¨ Ù‡Ø¯ÙÙƒ.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--blue)" data-cat="health"
            data-name="Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯Ù‡ÙˆÙ† ÙÙŠ Ø§Ù„Ø¬Ø³Ù… Ù‚ÙŠØ§Ø³Ø§Øª" onclick="openCalc('bodyfat')">
            <div class="card-icon">ğŸ’ª</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯Ù‡ÙˆÙ†</h3>
            <p>ØªÙ‚Ø¯ÙŠØ± Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯Ù‡ÙˆÙ† ÙÙŠ Ø§Ù„Ø¬Ø³Ù… Ù…Ù† Ø®Ù„Ø§Ù„ Ø§Ù„Ù‚ÙŠØ§Ø³Ø§Øª.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--yellow)" data-cat="health"
            data-name="Ø³Ø±Ø¹Ø© Ø¬Ø±ÙŠ Ø¥ÙŠÙ‚Ø§Ø¹ ÙƒÙŠÙ„ÙˆÙ…ØªØ± ÙˆÙ‚Øª" onclick="openCalc('pace')">
            <div class="card-icon">ğŸƒ</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø¥ÙŠÙ‚Ø§Ø¹ Ø§Ù„Ø¬Ø±ÙŠ</h3>
            <p>Ø§Ø­Ø³Ø¨ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ Ø£Ùˆ ÙˆÙ‚Øª Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø£Ùˆ Ø§Ù„Ù…Ø³Ø§ÙØ© Ù„Ø£ÙŠ Ø³Ø¨Ø§Ù‚.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--accent)" data-cat="health" data-name="Ù…Ø§Ø¡ Ø´Ø±Ø¨ ØªØ±Ø·ÙŠØ¨ ÙŠÙˆÙ…ÙŠ"
            onclick="openCalc('water')">
            <div class="card-icon">ğŸ’§</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø´Ø±Ø¨ Ø§Ù„Ù…Ø§Ø¡</h3>
            <p>ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø§Ø¡ Ø§Ù„ÙŠÙˆÙ…ÙŠØ© Ø§Ù„ØªÙŠ ØªØ­ØªØ§Ø¬Ù‡Ø§ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ ÙˆØ²Ù†Ùƒ ÙˆÙ†Ø´Ø§Ø·Ùƒ.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--pink)" data-cat="health"
            data-name="Ù†ÙˆÙ… Ø³Ø§Ø¹Ø§Øª Ù…ÙˆØ¹Ø¯ Ù†ÙˆÙ… Ø§Ø³ØªÙŠÙ‚Ø§Ø¸" onclick="openCalc('sleep')">
            <div class="card-icon">ğŸ˜´</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù†ÙˆÙ…</h3>
            <p>Ø£ÙØ¶Ù„ ÙˆÙ‚Øª Ù„Ù„Ù†ÙˆÙ… Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù†ÙˆÙ… ÙˆÙˆÙ‚Øª Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--green)" data-cat="health"
            data-name="Ø­Ù…Ù„ ÙˆÙ„Ø§Ø¯Ø© Ù…ÙˆØ¹Ø¯ Ø§Ù„ÙˆÙ„Ø§Ø¯Ø© Ø£Ø³Ø§Ø¨ÙŠØ¹" onclick="openCalc('pregnancy')">
            <div class="card-icon">ğŸ¤°</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ù…ÙˆØ¹Ø¯ Ø§Ù„ÙˆÙ„Ø§Ø¯Ø©</h3>
            <p>Ø§Ø­Ø³Ø¨ Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù„Ù„ÙˆÙ„Ø§Ø¯Ø© Ù…Ù† Ø¢Ø®Ø± Ø¯ÙˆØ±Ø© Ø´Ù‡Ø±ÙŠØ©.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--orange)" data-cat="health"
            data-name="Ù…Ø¹Ø¯Ù„ Ø¶Ø±Ø¨Ø§Øª Ø§Ù„Ù‚Ù„Ø¨ ÙƒØ§Ø±Ø¯ÙŠÙˆ Ø­Ø±Ù‚ Ø¯Ù‡ÙˆÙ†" onclick="openCalc('heartrate')">
            <div class="card-icon">â¤ï¸</div>
            <h3>Ù…Ù†Ø§Ø·Ù‚ Ù…Ø¹Ø¯Ù„ Ø¶Ø±Ø¨Ø§Øª Ø§Ù„Ù‚Ù„Ø¨</h3>
            <p>Ù…Ù†Ø§Ø·Ù‚ Ù…Ø¹Ø¯Ù„ Ø¶Ø±Ø¨Ø§Øª Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ© Ù„Ø­Ø±Ù‚ Ø§Ù„Ø¯Ù‡ÙˆÙ† ÙˆØ§Ù„ÙƒØ§Ø±Ø¯ÙŠÙˆ.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--blue)" data-cat="health"
            data-name="Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ ØµØ­ÙŠ Ø·ÙˆÙ„ Ù‡ÙŠÙƒÙ„" onclick="openCalc('idealweight')">
            <div class="card-icon">ğŸ¯</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ</h3>
            <p>Ù†Ø·Ø§Ù‚ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ­ÙŠ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ø·ÙˆÙ„Ùƒ ÙˆÙ‡ÙŠÙƒÙ„Ùƒ Ø§Ù„Ø¹Ø¸Ù…ÙŠ.</p>
          </div>
        </div>
      </div>

      <!-- MID AD 2 -->
      <div class="ad-unit leaderboard" style="margin:2rem 0">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>

      <!-- â•â• MATH â•â• -->
      <div id="section-math" class="calc-section">
        <div class="section-head">
          <h2>ğŸ“ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ÙˆØ§Ù„Ø¹Ù„ÙˆÙ…</h2>
          <span class="section-badge">Ù¨ Ø¢Ù„Ø§Øª Ø­Ø§Ø³Ø¨Ø©</span>
        </div>
        <div class="calc-grid">
          <div class="calc-card" style="--card-color:var(--accent)" data-cat="math" data-name="Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Ø¹Ù„Ù…ÙŠØ© Ø±ÙŠØ§Ø¶ÙŠØ§Øª"
            onclick="openCalc('scientific')">
            <div class="card-icon">ğŸ”¢</div>
            <h3>Ø§Ù„Ø¢Ù„Ø© Ø§Ù„Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©</h3>
            <p>Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Ø¹Ù„Ù…ÙŠØ© ÙƒØ§Ù…Ù„Ø© Ù…Ø¹ Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø«Ù„Ø«Ø§Øª ÙˆØ§Ù„Ù„ÙˆØºØ§Ø±ÙŠØªÙ….</p>
          </div>
          <div class="calc-card" style="--card-color:var(--blue)" data-cat="math"
            data-name="Ù…Ø­ÙˆÙ„ ÙˆØ­Ø¯Ø§Øª Ø·ÙˆÙ„ ÙˆØ²Ù† Ø­Ø±Ø§Ø±Ø© Ø­Ø¬Ù… Ø³Ø±Ø¹Ø©" onclick="openCalc('units')">
            <div class="card-icon">ğŸ“</div>
            <h3>Ù…Ø­ÙˆÙ„ Ø§Ù„ÙˆØ­Ø¯Ø§Øª</h3>
            <p>Ø§Ù„Ø·ÙˆÙ„ ÙˆØ§Ù„ÙˆØ²Ù† ÙˆØ§Ù„Ø­Ø¬Ù… ÙˆØ¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© ÙˆØ§Ù„Ø³Ø±Ø¹Ø© ÙˆØºÙŠØ±Ù‡Ø§.</p>
            <span class="card-tag">Ø§Ù„Ø£ÙƒØ«Ø± Ø·Ù„Ø¨Ø§Ù‹</span>
          </div>
          <div class="calc-card" style="--card-color:var(--green)" data-cat="math"
            data-name="Ù…Ø¹Ø¯Ù„ ØªØ±Ø§ÙƒÙ…ÙŠ GPA Ø¯Ø±Ø¬Ø§Øª Ø¬Ø§Ù…Ø¹Ø©" onclick="openCalc('gpa')">
            <div class="card-icon">ğŸ“</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ GPA</h3>
            <p>Ø§Ø­Ø³Ø¨ Ù…Ø¹Ø¯Ù„Ùƒ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ Ù…Ù† Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø¯ ÙˆØ§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--yellow)" data-cat="math" data-name="Ù…Ø¹Ø§Ø¯Ù„Ø© ØªØ±Ø¨ÙŠØ¹ÙŠØ© Ø¬Ø°ÙˆØ± Ø­Ù„"
            onclick="openCalc('quadratic')">
            <div class="card-icon">ğŸ“Š</div>
            <h3>Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠØ©</h3>
            <p>Ø­Ù„ Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ù…Ù† ØµÙŠØºØ© axÂ² + bx + c = 0 Ø¨Ø³Ù‡ÙˆÙ„Ø©.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--orange)" data-cat="math"
            data-name="Ø§Ø­ØªÙ…Ø§Ù„ÙŠØ© Ø¥Ø­ØµØ§Ø¡ ØªÙˆØ§ÙÙŠÙ‚ ØªØ¨Ø¯ÙŠÙ„Ø§Øª" onclick="openCalc('probability')">
            <div class="card-icon">ğŸ²</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª</h3>
            <p>Ø§Ù„ØªÙˆØ§ÙÙŠÙ‚ ÙˆØ§Ù„ØªØ¨Ø¯ÙŠÙ„Ø§Øª ÙˆØ§Ø­ØªÙ…Ø§Ù„Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø«.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--pink)" data-cat="math" data-name="Ù‡Ù†Ø¯Ø³Ø© Ù…Ø³Ø§Ø­Ø© Ù…Ø­ÙŠØ· Ø­Ø¬Ù… Ø£Ø´ÙƒØ§Ù„"
            onclick="openCalc('geometry')">
            <div class="card-icon">ğŸ“</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©</h3>
            <p>Ø§Ù„Ù…Ø³Ø§Ø­Ø© ÙˆØ§Ù„Ù…Ø­ÙŠØ· ÙˆØ§Ù„Ø­Ø¬Ù… Ù„Ù„Ø¯ÙˆØ§Ø¦Ø± ÙˆØ§Ù„Ù…Ø«Ù„Ø«Ø§Øª ÙˆØ§Ù„Ù…Ø³ØªØ·ÙŠÙ„Ø§Øª.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--accent)" data-cat="math" data-name="Ø³Ø±Ø¹Ø© Ù…Ø³Ø§ÙØ© Ø²Ù…Ù† Ø­Ø±ÙƒØ©"
            onclick="openCalc('speed')">
            <div class="card-icon">âš¡</div>
            <h3>Ø§Ù„Ø³Ø±Ø¹Ø© ÙˆØ§Ù„Ù…Ø³Ø§ÙØ© ÙˆØ§Ù„Ø²Ù…Ù†</h3>
            <p>Ø§Ø­Ø³Ø¨ Ø£ÙŠØ§Ù‹ Ù…Ù† Ø§Ù„Ø«Ù„Ø§Ø«Ø© Ø¥Ø°Ø§ Ø¹Ø±ÙØª Ø§Ù„Ù‚ÙŠÙ…ØªÙŠÙ† Ø§Ù„Ø£Ø®Ø±ÙŠÙŠÙ†.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--blue)" data-cat="math"
            data-name="ØªØ­ÙˆÙŠÙ„ Ø£Ù†Ø¸Ù…Ø© Ø¹Ø¯ Ø«Ù†Ø§Ø¦ÙŠ Ø³Ø¯Ø§Ø³ÙŠ Ø¹Ø´Ø±ÙŠ" onclick="openCalc('base')">
            <div class="card-icon">ğŸ’»</div>
            <h3>Ù…Ø­ÙˆÙ„ Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯</h3>
            <p>Ø­ÙˆÙ‘Ù„ Ø¨ÙŠÙ† Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø«Ù†Ø§Ø¦ÙŠ ÙˆØ§Ù„Ø«Ù…Ø§Ù†ÙŠ ÙˆØ§Ù„Ø¹Ø´Ø±ÙŠ ÙˆØ§Ù„Ø³Ø¯Ø§Ø³ÙŠ Ø¹Ø´Ø±.</p>
          </div>
        </div>
      </div>

      <!-- â•â• EVERYDAY â•â• -->
      <div id="section-everyday" class="calc-section">
        <div class="section-head" style="margin-top:2rem;">
          <h2>ğŸŒŸ Ø§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</h2>
          <span class="section-badge">Ù¦ Ø¢Ù„Ø§Øª Ø­Ø§Ø³Ø¨Ø©</span>
        </div>
        <div class="calc-grid">
          <div class="calc-card" style="--card-color:var(--yellow)" data-cat="everyday"
            data-name="Ø¹Ù…Ø± Ø¹ÙŠØ¯ Ù…ÙŠÙ„Ø§Ø¯ ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯" onclick="openCalc('age')">
            <div class="card-icon">ğŸ‚</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø±</h3>
            <p>Ø§Ø­Ø³Ø¨ Ø¹Ù…Ø±Ùƒ Ø¨Ø§Ù„Ø³Ù†ÙˆØ§Øª ÙˆØ§Ù„Ø£Ø´Ù‡Ø± ÙˆØ§Ù„Ø£ÙŠØ§Ù… Ù…Ù† ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯Ùƒ.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--green)" data-cat="everyday"
            data-name="ÙØ±Ù‚ ØªØ§Ø±ÙŠØ® Ø£ÙŠØ§Ù… Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ†" onclick="openCalc('datediff')">
            <div class="card-icon">ğŸ“…</div>
            <h3>Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ†</h3>
            <p>Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù… ÙˆØ§Ù„Ø£Ø³Ø§Ø¨ÙŠØ¹ ÙˆØ§Ù„Ø£Ø´Ù‡Ø± Ø¨ÙŠÙ† Ø£ÙŠ ØªØ§Ø±ÙŠØ®ÙŠÙ†.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--pink)" data-cat="everyday"
            data-name="Ù…Ù†Ø·Ù‚Ø© Ø²Ù…Ù†ÙŠØ© ØªÙˆÙ‚ÙŠØª Ø¯ÙˆÙ„ Ø¹Ø§Ù„Ù…" onclick="openCalc('timezone')">
            <div class="card-icon">ğŸŒ</div>
            <h3>Ù…Ø­ÙˆÙ„ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø²Ù…Ù†ÙŠØ©</h3>
            <p>Ø­ÙˆÙ‘Ù„ Ø§Ù„ÙˆÙ‚Øª Ø¨ÙŠÙ† Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø²Ù…Ù†ÙŠØ© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© Ø­ÙˆÙ„ Ø§Ù„Ø¹Ø§Ù„Ù….</p>
          </div>
          <div class="calc-card" style="--card-color:var(--orange)" data-cat="everyday"
            data-name="ÙˆÙ‚ÙˆØ¯ Ø¨Ù†Ø²ÙŠÙ† ØªÙƒÙ„ÙØ© Ø±Ø­Ù„Ø© ÙƒÙŠÙ„ÙˆÙ…ØªØ±" onclick="openCalc('fuel')">
            <div class="card-icon">â›½</div>
            <h3>Ø­Ø§Ø³Ø¨Ø© ØªÙƒÙ„ÙØ© Ø§Ù„ÙˆÙ‚ÙˆØ¯</h3>
            <p>ØªÙ‚Ø¯ÙŠØ± ØªÙƒÙ„ÙØ© ÙˆÙ‚ÙˆØ¯ Ø§Ù„Ø±Ø­Ù„Ø© Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø³Ø§ÙØ© ÙˆØ§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„ÙˆÙ‚ÙˆØ¯.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--blue)" data-cat="everyday"
            data-name="Ø·Ø¨Ø® Ù‚ÙŠØ§Ø³ ÙˆØµÙØ© ØªØ­ÙˆÙŠÙ„ ÙƒÙˆØ¨ Ù…Ù„Ø¹Ù‚Ø©" onclick="openCalc('cooking')">
            <div class="card-icon">ğŸ‘¨â€ğŸ³</div>
            <h3>Ù…Ø­ÙˆÙ„ Ù‚ÙŠØ§Ø³Ø§Øª Ø§Ù„Ø·Ø¨Ø®</h3>
            <p>Ø­ÙˆÙ‘Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø£ÙƒÙˆØ§Ø¨ ÙˆØ§Ù„Ù…Ù„Ø§Ø¹Ù‚ ÙˆØ§Ù„Ù…Ù„ ÙˆØ§Ù„Ø£ÙˆÙ†ØµØ©.</p>
          </div>
          <div class="calc-card" style="--card-color:var(--accent)" data-cat="everyday" data-name="Ø±Ù‚Ù… Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù‚Ø±Ø¹Ø© Ø­Ø¸"
            onclick="openCalc('random')">
            <div class="card-icon">ğŸ²</div>
            <h3>Ù…ÙˆÙ„Ù‘Ø¯ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©</h3>
            <p>ÙˆÙ„Ù‘Ø¯ Ø£Ø±Ù‚Ø§Ù…Ø§Ù‹ Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø¶Ù…Ù† Ø£ÙŠ Ù†Ø·Ø§Ù‚ ØªØ­Ø¯Ø¯Ù‡.</p>
          </div>
        </div>
      </div>

      <!-- NO RESULTS -->
      <div id="no-results" class="no-results" style="display:none;">
        <div style="font-size:3rem;margin-bottom:0.5rem;">ğŸ”</div>
        <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø¢Ù„Ø§Øª Ø­Ø§Ø³Ø¨Ø© Ù„Ù€ "<span id="no-results-term"></span>"</p>
      </div>

    </div><!-- end main-content -->
  </div><!-- end main-wrap -->

  <!-- FOOTER -->
  <footer>
    <div class="footer-inner">
      <div class="footer-brand">
        <a href="index-ar.html" class="logo">Calc<span class="logo-dot">Wise</span></a>
        <p>Ø¢Ù„Ø§Øª Ø­Ø§Ø³Ø¨Ø© Ù…Ø¬Ø§Ù†ÙŠØ© Ù„Ù„Ù…Ø§Ù„ ÙˆØ§Ù„ØµØ­Ø© ÙˆØ§Ù„Ø±ÙŠØ§Ø¶ÙŠØ§Øª ÙˆØ§Ù„Ø­ÙŠØ§Ø© Ø§Ù„ÙŠÙˆÙ…ÙŠØ©. Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¹Ù…Ù„ÙŠØ§Øª ØªØªÙ… ÙÙŠ Ù…ØªØµÙØ­Ùƒ â€” Ù„Ø§ Ù†Ø®Ø²Ù† Ø¨ÙŠØ§Ù†Ø§ØªÙƒ
          Ø£Ø¨Ø¯Ø§Ù‹.</p>
      </div>
      <div>
        <h4>Ø§Ù„Ù…Ø§Ù„ ÙˆØ§Ù„ØªÙ…ÙˆÙŠÙ„</h4>
        <ul>
          <li><a href="#" onclick="openCalc('mortgage')">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø±Ù‡Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠ</a></li>
          <li><a href="#" onclick="openCalc('loan')">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù‚Ø±ÙˆØ¶</a></li>
          <li><a href="#" onclick="openCalc('compound')">Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ù…Ø±ÙƒØ¨Ø©</a></li>
          <li><a href="#" onclick="openCalc('tip')">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¨Ù‚Ø´ÙŠØ´</a></li>
          <li><a href="#" onclick="openCalc('percentage')">Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù†Ø³Ø¨Ø©</a></li>
        </ul>
      </div>
      <div>
        <h4>Ø§Ù„ØµØ­Ø©</h4>
        <ul>
          <li><a href="#" onclick="openCalc('bmi')">Ù…Ø¤Ø´Ø± ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù…</a></li>
          <li><a href="#" onclick="openCalc('calories')">Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©</a></li>
          <li><a href="#" onclick="openCalc('macros')">Ø§Ù„Ù…Ø§ÙƒØ±Ùˆ</a></li>
          <li><a href="#" onclick="openCalc('bodyfat')">Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯Ù‡ÙˆÙ†</a></li>
          <li><a href="#" onclick="openCalc('pace')">Ø¥ÙŠÙ‚Ø§Ø¹ Ø§Ù„Ø¬Ø±ÙŠ</a></li>
        </ul>
      </div>
      <div>
        <h4>Ø§Ù„Ù…ÙˆÙ‚Ø¹</h4>
        <ul>
          <li><a href="privacy-ar.html">Ø³ÙŠØ§Ø³Ø© Ø§Ù„Ø®ØµÙˆØµÙŠØ©</a></li>
          <li><a href="terms-ar.html">Ø´Ø±ÙˆØ· Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…</a></li>
          <li><a href="about-ar.html">Ø¹Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹</a></li>
          <li><a href="blog-ar.html">Ø§Ù„Ù…Ø¯ÙˆÙ†Ø©</a></li>
          <li><a href="index.html">English Version</a></li>
        </ul>
      </div>
    </div>
    <div class="footer-bottom">
      <span>Â© Ù¢Ù Ù¢Ù¦ ÙƒØ§Ù„Ùƒ ÙˆØ§ÙŠØ² Â· calcwises.com Â· Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ù‚ÙˆÙ‚ Ù…Ø­ÙÙˆØ¸Ø©</span>
      <span>Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ù„Ø£ØºØ±Ø§Ø¶ Ø¥Ø¹Ù„Ø§Ù…ÙŠØ© ÙÙ‚Ø·.</span>
    </div>
  </footer>

  <!-- MODAL -->
  <div class="modal-overlay" id="modal-overlay" onclick="closeModalOutside(event)">
    <div class="modal" id="modal">
      <div class="modal-header">
        <div class="modal-icon" id="modal-icon">ğŸ”¢</div>
        <div>
          <h2 id="modal-title">Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø©</h2>
          <p id="modal-desc">Ø§Ø­Ø³Ø¨ Ù†ØªÙŠØ¬ØªÙƒ ÙÙˆØ±Ø§Ù‹.</p>
        </div>
        <button class="modal-close" onclick="closeModal()">âœ•</button>
      </div>
      <div class="modal-body" id="modal-body"></div>
    </div>
  </div>

  <script>
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    //  SEARCH & FILTER
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function searchCalcs(q) {
      q = q.toLowerCase().trim();
      const cards = document.querySelectorAll('.calc-card');
      const sections = document.querySelectorAll('.calc-section');
      let anyVisible = false;
      cards.forEach(c => {
        const name = c.dataset.name || '';
        const title = c.querySelector('h3').textContent;
        const match = !q || name.includes(q) || title.includes(q);
        c.classList.toggle('hidden', !match);
        if (match) anyVisible = true;
      });
      sections.forEach(s => {
        const visible = s.querySelectorAll('.calc-card:not(.hidden)').length > 0;
        s.style.display = (q && !visible) ? 'none' : '';
      });
      const noR = document.getElementById('no-results');
      noR.style.display = (q && !anyVisible) ? 'block' : 'none';
      if (!anyVisible && q) document.getElementById('no-results-term').textContent = q;
    }

    function scrollToSection(id) {
      if (id === 'top') {
        window.scrollTo({ top: 0, behavior: 'smooth' });
      } else {
        const el = document.getElementById(id);
        if (el) {
          const offset = 70;
          const top = el.getBoundingClientRect().top + window.pageYOffset - offset;
          window.scrollTo({ top, behavior: 'smooth' });
        }
      }
    }

    function filterCat(cat) {
      document.querySelectorAll('.cat-tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.nav-cats button').forEach(b => b.classList.remove('active'));
      const tab = document.getElementById('tab-' + cat);
      const navBtn = document.getElementById('nav-' + cat);
      if (tab) tab.classList.add('active');
      if (navBtn) navBtn.classList.add('active');
      const cards = document.querySelectorAll('.calc-card');
      const sections = document.querySelectorAll('.calc-section');
      cards.forEach(c => c.classList.toggle('hidden', cat !== 'all' && c.dataset.cat !== cat));
      sections.forEach(s => {
        if (cat === 'all') { s.style.display = ''; return; }
        s.style.display = s.id.replace('section-', '') === cat ? '' : 'none';
      });
      document.getElementById('global-search').value = '';
    }

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    //  CALCULATORS DATA (Arabic UI)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const calculators = {
      mortgage: {
        icon: 'ğŸ ', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø±Ù‡Ù† Ø§Ù„Ø¹Ù‚Ø§Ø±ÙŠ', desc: 'Ø§Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ© ÙˆØ§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© ÙˆØªÙƒÙ„ÙØ© Ø§Ù„Ù‚Ø±Ø¶.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø³Ø¹Ø± Ø§Ù„Ù…Ù†Ø²Ù„</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="m-price" value="350000" min="0"></div></div>
        <div class="field-group"><label>Ø§Ù„Ø¯ÙØ¹Ø© Ø§Ù„Ù…Ù‚Ø¯Ù…Ø©</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="m-down" value="70000" min="0"></div></div>
      </div>
      <div class="field-row">
        <div class="field-group"><label>Ù…Ø¹Ø¯Ù„ Ø§Ù„ÙØ§Ø¦Ø¯Ø©</label><div class="input-wrap has-suffix"><input type="number" id="m-rate" value="6.8" step="0.1" min="0"><span class="input-suffix">%</span></div></div>
        <div class="field-group"><label>Ù…Ø¯Ø© Ø§Ù„Ù‚Ø±Ø¶</label><select id="m-term"><option value="30">Ù£Ù  Ø³Ù†Ø©</option><option value="20">Ù¢Ù  Ø³Ù†Ø©</option><option value="15">Ù¡Ù¥ Ø³Ù†Ø©</option><option value="10">Ù¡Ù  Ø³Ù†ÙˆØ§Øª</option></select></div>
      </div>
      <button class="calc-btn" onclick="calcMortgage()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø¯ÙØ¹Ø©</button>
      <div class="results" id="r-mortgage">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-highlight"><span class="result-value" id="r-m-monthly">0</span><div class="result-label">Ø§Ù„Ø¯ÙØ¹Ø© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</div></div>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-m-total">0</span><div class="result-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø§Øª</div></div>
          <div class="result-item"><span class="result-value" id="r-m-interest">0</span><div class="result-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙÙˆØ§Ø¦Ø¯</div></div>
          <div class="result-item"><span class="result-value" id="r-m-loan">0</span><div class="result-label">Ù…Ø¨Ù„Øº Ø§Ù„Ù‚Ø±Ø¶</div></div>
        </div>
        <div class="result-bar" id="r-m-bar"></div>
        <p class="result-note">Ù‡Ø°Ø§ Ø§Ù„ØªÙ‚Ø¯ÙŠØ± ÙŠØ´Ù…Ù„ Ø£ØµÙ„ Ø§Ù„Ø¯ÙŠÙ† ÙˆØ§Ù„ÙÙˆØ§Ø¦Ø¯ ÙÙ‚Ø·. Ø£Ø¶Ù Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù…Ù„ÙƒÙŠØ© (~Ù¡.Ù¢Ùª) ÙˆØªØ£Ù…ÙŠÙ† Ø§Ù„Ù…Ø§Ù„Ùƒ ÙˆPMI Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø§Ù„Ø¯ÙØ¹Ø© Ø§Ù„Ù…Ù‚Ø¯Ù…Ø© Ø£Ù‚Ù„ Ù…Ù† Ù¢Ù Ùª.</p>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      loan: {
        icon: 'ğŸ’³', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù‚Ø±ÙˆØ¶', desc: 'Ø§Ù„Ø¯ÙØ¹Ø§Øª Ø§Ù„Ø´Ù‡Ø±ÙŠØ© ÙˆØ§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠØ© Ù„Ø£ÙŠ Ù‚Ø±Ø¶.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ù…Ø¨Ù„Øº Ø§Ù„Ù‚Ø±Ø¶</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="l-amount" value="15000" min="0"></div></div>
        <div class="field-group"><label>Ù…Ø¹Ø¯Ù„ Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ø³Ù†ÙˆÙŠ</label><div class="input-wrap has-suffix"><input type="number" id="l-rate" value="8.5" step="0.1" min="0"><span class="input-suffix">%</span></div></div>
      </div>
      <div class="field-group"><label>Ù…Ø¯Ø© Ø§Ù„Ù‚Ø±Ø¶</label>
        <select id="l-term">
          <option value="12">Ø³Ù†Ø© ÙˆØ§Ø­Ø¯Ø©</option><option value="24">Ø³Ù†ØªØ§Ù†</option>
          <option value="36">Ù£ Ø³Ù†ÙˆØ§Øª</option><option value="48">Ù¤ Ø³Ù†ÙˆØ§Øª</option>
          <option value="60" selected>Ù¥ Ø³Ù†ÙˆØ§Øª</option><option value="72">Ù¦ Ø³Ù†ÙˆØ§Øª</option>
          <option value="84">Ù§ Ø³Ù†ÙˆØ§Øª</option>
        </select>
      </div>
      <button class="calc-btn" onclick="calcLoan()">Ø§Ø­Ø³Ø¨</button>
      <div class="results" id="r-loan">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-highlight"><span class="result-value" id="r-l-monthly">0</span><div class="result-label">Ø§Ù„Ø¯ÙØ¹Ø© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</div></div>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-l-total">0</span><div class="result-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø³Ø¯ÙÙ‘Ø¯</div></div>
          <div class="result-item"><span class="result-value" id="r-l-interest">0</span><div class="result-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙÙˆØ§Ø¦Ø¯</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      compound: {
        icon: 'ğŸ“ˆ', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ù…Ø±ÙƒØ¨Ø©', desc: 'Ø´Ø§Ù‡Ø¯ ÙƒÙŠÙ ØªÙ†Ù…Ùˆ Ù…Ø¯Ø®Ø±Ø§ØªÙƒ Ø¨Ù‚ÙˆØ© Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ù…Ø±ÙƒØ¨Ø©.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="ci-principal" value="10000" min="0"></div></div>
        <div class="field-group"><label>Ù…Ø¹Ø¯Ù„ Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ø³Ù†ÙˆÙŠ</label><div class="input-wrap has-suffix"><input type="number" id="ci-rate" value="7" step="0.1" min="0"><span class="input-suffix">%</span></div></div>
      </div>
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„Ù…Ø¯Ø© (Ø¨Ø§Ù„Ø³Ù†ÙˆØ§Øª)</label><input type="number" id="ci-years" value="10" min="1"></div>
        <div class="field-group"><label>ØªÙƒØ±Ø§Ø± Ø§Ù„Ø§Ø­ØªØ³Ø§Ø¨</label>
          <select id="ci-freq">
            <option value="1">Ø³Ù†ÙˆÙŠØ§Ù‹</option><option value="4">Ø±Ø¨Ø¹ Ø³Ù†ÙˆÙŠ</option>
            <option value="12" selected>Ø´Ù‡Ø±ÙŠØ§Ù‹</option><option value="365">ÙŠÙˆÙ…ÙŠØ§Ù‹</option>
          </select>
        </div>
      </div>
      <div class="field-group"><label>Ù…Ø³Ø§Ù‡Ù…Ø© Ø´Ù‡Ø±ÙŠØ© Ø¥Ø¶Ø§ÙÙŠØ©</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="ci-contrib" value="200" min="0"></div></div>
      <button class="calc-btn" onclick="calcCompound()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ù†Ù…Ùˆ</button>
      <div class="results" id="r-compound">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-highlight"><span class="result-value" id="r-ci-final">0</span><div class="result-label">Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠ</div></div>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-ci-contributed">0</span><div class="result-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ù…Ø§ Ø£ÙˆØ¯Ø¹ØªÙ‡</div></div>
          <div class="result-item"><span class="result-value" id="r-ci-earned">0</span><div class="result-label">Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ù…ÙƒØªØ³Ø¨Ø©</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      tip: {
        icon: 'ğŸ½ï¸', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¨Ù‚Ø´ÙŠØ´', desc: 'Ù‚Ø³Ù‘Ù… Ø§Ù„ÙØ§ØªÙˆØ±Ø© ÙˆØ§Ø­Ø³Ø¨ Ø§Ù„Ø¨Ù‚Ø´ÙŠØ´ Ù„ÙƒÙ„ Ø´Ø®Øµ.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ù…Ø¨Ù„Øº Ø§Ù„ÙØ§ØªÙˆØ±Ø©</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="t-bill" value="85.50" step="0.01" min="0"></div></div>
        <div class="field-group"><label>Ù†Ø³Ø¨Ø© Ø§Ù„Ø¨Ù‚Ø´ÙŠØ´</label><div class="input-wrap has-suffix"><input type="number" id="t-tip" value="18" min="0"><span class="input-suffix">%</span></div></div>
      </div>
      <div class="field-group"><label>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø´Ø®Ø§Øµ</label><input type="number" id="t-people" value="4" min="1"></div>
      <div style="display:flex;gap:0.5rem;margin-bottom:1rem;flex-wrap:wrap;">
        <button onclick="document.getElementById('t-tip').value=10;calcTip()" style="flex:1;padding:0.5rem;background:var(--surface2);border:1px solid var(--border);border-radius:8px;color:var(--text);cursor:pointer;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.88rem;">Ù¡Ù Ùª</button>
        <button onclick="document.getElementById('t-tip').value=15;calcTip()" style="flex:1;padding:0.5rem;background:var(--surface2);border:1px solid var(--border);border-radius:8px;color:var(--text);cursor:pointer;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.88rem;">Ù¡Ù¥Ùª</button>
        <button onclick="document.getElementById('t-tip').value=18;calcTip()" style="flex:1;padding:0.5rem;background:var(--accent);border:none;border-radius:8px;color:white;cursor:pointer;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.88rem;font-weight:700;">Ù¡Ù¨Ùª</button>
        <button onclick="document.getElementById('t-tip').value=20;calcTip()" style="flex:1;padding:0.5rem;background:var(--surface2);border:1px solid var(--border);border-radius:8px;color:var(--text);cursor:pointer;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.88rem;">Ù¢Ù Ùª</button>
        <button onclick="document.getElementById('t-tip').value=25;calcTip()" style="flex:1;padding:0.5rem;background:var(--surface2);border:1px solid var(--border);border-radius:8px;color:var(--text);cursor:pointer;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.88rem;">Ù¢Ù¥Ùª</button>
      </div>
      <button class="calc-btn" onclick="calcTip()">Ø§Ø­Ø³Ø¨</button>
      <div class="results" id="r-tip">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-t-tip">0</span><div class="result-label">Ù…Ø¨Ù„Øº Ø§Ù„Ø¨Ù‚Ø´ÙŠØ´</div></div>
          <div class="result-item"><span class="result-value" id="r-t-total">0</span><div class="result-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙØ§ØªÙˆØ±Ø©</div></div>
          <div class="result-item"><span class="result-value" id="r-t-per">0</span><div class="result-label">Ù†ØµÙŠØ¨ ÙƒÙ„ Ø´Ø®Øµ</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      bmi: {
        icon: 'âš–ï¸', title: 'Ø­Ø§Ø³Ø¨Ø© Ù…Ø¤Ø´Ø± ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù…', desc: 'Ù…Ø¤Ø´Ø± ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù… Ù…Ø¹ Ù†Ø·Ø§Ù‚ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ­ÙŠ ÙˆØ§Ù„ØªØµÙ†ÙŠÙ.',
        html: `
      <div class="field-group"><label>Ù†Ø¸Ø§Ù… Ø§Ù„Ù‚ÙŠØ§Ø³</label>
        <select id="bmi-unit" onchange="updateBmiFields()">
          <option value="imperial">Ø¥Ù…Ø¨Ø±Ø§Ø·ÙˆØ±ÙŠ (Ø±Ø·Ù„ØŒ Ø¨ÙˆØµØ©)</option>
          <option value="metric">Ù…ØªØ±ÙŠ (ÙƒÙŠÙ„ÙˆØ¬Ø±Ø§Ù…ØŒ Ø³Ù…)</option>
        </select>
      </div>
      <div class="field-row" id="bmi-imperial-fields">
        <div class="field-group"><label>Ø§Ù„ÙˆØ²Ù†</label><div class="input-wrap has-suffix"><input type="number" id="bmi-lbs" value="165" min="0"><span class="input-suffix">lb</span></div></div>
        <div class="field-group"><label>Ø§Ù„Ø·ÙˆÙ„</label><div class="input-wrap has-suffix"><input type="number" id="bmi-inches" value="68" min="0"><span class="input-suffix">in</span></div></div>
      </div>
      <div class="field-row" id="bmi-metric-fields" style="display:none">
        <div class="field-group"><label>Ø§Ù„ÙˆØ²Ù†</label><div class="input-wrap has-suffix"><input type="number" id="bmi-kg" value="75" min="0"><span class="input-suffix">ÙƒØ¬Ù…</span></div></div>
        <div class="field-group"><label>Ø§Ù„Ø·ÙˆÙ„</label><div class="input-wrap has-suffix"><input type="number" id="bmi-cm" value="173" min="0"><span class="input-suffix">Ø³Ù…</span></div></div>
      </div>
      <button class="calc-btn" onclick="calcBMI()">Ø§Ø­Ø³Ø¨ Ù…Ø¤Ø´Ø± ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù…</button>
      <div class="results" id="r-bmi">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-highlight">
          <span class="result-value" id="r-bmi-val">0</span>
          <div class="result-label">Ù…Ø¤Ø´Ø± ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù…</div>
          <div id="r-bmi-cat" style="margin-top:0.5rem;font-weight:800;font-size:1.1rem;font-family:'IBM Plex Sans Arabic',sans-serif;"></div>
        </div>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-bmi-low">0</span><div class="result-label">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰ Ø§Ù„ØµØ­ÙŠ</div></div>
          <div class="result-item"><span class="result-value" id="r-bmi-high">0</span><div class="result-label">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ø§Ù„ØµØ­ÙŠ</div></div>
        </div>
        <p class="result-note">Ù…Ø¤Ø´Ø± ÙƒØªÙ„Ø© Ø§Ù„Ø¬Ø³Ù… Ø£Ø¯Ø§Ø© ÙØ­Øµ ÙˆÙ„ÙŠØ³ ØªØ´Ø®ÙŠØµØ§Ù‹ Ø·Ø¨ÙŠØ§Ù‹. Ù‚Ø¯ ÙŠÙƒÙˆÙ† Ù„Ø¯Ù‰ Ø§Ù„Ø±ÙŠØ§Ø¶ÙŠÙŠÙ† ÙˆØ°ÙˆÙŠ Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ø¹Ø¶Ù„ÙŠØ© Ø§Ù„Ø¹Ø§Ù„ÙŠØ© Ù…Ø¤Ø´Ø± Ù…Ø±ØªÙØ¹ Ø±ØºÙ… ØµØ­Ø© ØªØ±ÙƒÙŠØ¨Ø© Ø§Ù„Ø¬Ø³Ù….</p>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      calories: {
        icon: 'ğŸ”¥', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±ÙŠØ©', desc: 'Ø§Ø­ØªÙŠØ§Ø¬Ùƒ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù…Ù† Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¬Ø³Ù…Ùƒ ÙˆÙ‡Ø¯ÙÙƒ.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„Ø¹Ù…Ø±</label><div class="input-wrap has-suffix"><input type="number" id="cal-age" value="30" min="1" max="120"><span class="input-suffix">Ø³Ù†Ø©</span></div></div>
        <div class="field-group"><label>Ø§Ù„Ø¬Ù†Ø³</label><select id="cal-sex"><option value="male">Ø°ÙƒØ±</option><option value="female">Ø£Ù†Ø«Ù‰</option></select></div>
      </div>
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„ÙˆØ²Ù†</label><div class="input-wrap has-suffix"><input type="number" id="cal-weight" value="165" min="0"><span class="input-suffix">Ø±Ø·Ù„</span></div></div>
        <div class="field-group"><label>Ø§Ù„Ø·ÙˆÙ„</label><div class="input-wrap has-suffix"><input type="number" id="cal-height" value="68" min="0"><span class="input-suffix">Ø¨ÙˆØµØ©</span></div></div>
      </div>
      <div class="field-group"><label>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù†Ø´Ø§Ø·</label>
        <select id="cal-activity">
          <option value="1.2">Ø®Ø§Ù…Ù„ (Ø¨Ø¯ÙˆÙ† Ø±ÙŠØ§Ø¶Ø© ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹)</option>
          <option value="1.375">Ø®ÙÙŠÙ (Ù¡-Ù£ Ø£ÙŠØ§Ù…/Ø£Ø³Ø¨ÙˆØ¹)</option>
          <option value="1.55" selected>Ù…ØªÙˆØ³Ø· (Ù£-Ù¥ Ø£ÙŠØ§Ù…/Ø£Ø³Ø¨ÙˆØ¹)</option>
          <option value="1.725">Ù†Ø´Ø· (Ù¦-Ù§ Ø£ÙŠØ§Ù…/Ø£Ø³Ø¨ÙˆØ¹)</option>
          <option value="1.9">Ù†Ø´Ø· Ø¬Ø¯Ø§Ù‹ (Ø¹Ù…Ù„ Ø¨Ø¯Ù†ÙŠ Ø£Ùˆ ØªØ¯Ø±ÙŠØ¨ Ù…Ø²Ø¯ÙˆØ¬)</option>
        </select>
      </div>
      <div class="field-group"><label>Ø§Ù„Ù‡Ø¯Ù</label>
        <select id="cal-goal">
          <option value="-500">Ø¥Ù†Ù‚Ø§Øµ Ø§Ù„ÙˆØ²Ù† (Ø³Ø¹Ø±Ø§Øª - Ù¥Ù Ù )</option>
          <option value="0" selected>Ø§Ù„Ø­ÙØ§Ø¸ Ø¹Ù„Ù‰ Ø§Ù„ÙˆØ²Ù†</option>
          <option value="500">Ø²ÙŠØ§Ø¯Ø© Ø§Ù„ÙˆØ²Ù† (Ø³Ø¹Ø±Ø§Øª + Ù¥Ù Ù )</option>
        </select>
      </div>
      <button class="calc-btn" onclick="calcCalories()">Ø§Ø­Ø³Ø¨</button>
      <div class="results" id="r-calories">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-highlight"><span class="result-value" id="r-cal-target">0</span><div class="result-label">Ù‡Ø¯Ù Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠ</div></div>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-cal-bmr">0</span><div class="result-label">Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø£ÙŠØ¶ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠ</div></div>
          <div class="result-item"><span class="result-value" id="r-cal-tdee">0</span><div class="result-label">TDEE (Ø§Ù„Ù…Ø­Ø§ÙØ¸Ù‡)</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      macros: {
        icon: 'ğŸ¥©', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø§ÙƒØ±Ùˆ', desc: 'Ø£Ù‡Ø¯Ø§Ù Ø§Ù„Ø¨Ø±ÙˆØªÙŠÙ† ÙˆØ§Ù„ÙƒØ±Ø¨ÙˆÙ‡ÙŠØ¯Ø±Ø§Øª ÙˆØ§Ù„Ø¯Ù‡ÙˆÙ† Ù„Ù‡Ø¯ÙÙƒ.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„Ø³Ø¹Ø±Ø§Øª Ø§Ù„ÙŠÙˆÙ…ÙŠØ©</label><input type="number" id="mac-cal" value="2200" min="0"></div>
        <div class="field-group"><label>Ø§Ù„Ù‡Ø¯Ù</label>
          <select id="mac-goal">
            <option value="cut">ØªØ®ÙÙŠÙ (Ø¨Ø±ÙˆØªÙŠÙ† Ø¹Ø§Ù„Ù)</option>
            <option value="maintain" selected>Ù…Ø­Ø§ÙØ¸Ù‡ (Ù…ØªÙˆØ§Ø²Ù†)</option>
            <option value="bulk">Ø¨Ù†Ø§Ø¡ Ø¹Ø¶Ù„ÙŠ (ÙƒØ±Ø¨ÙˆÙ‡ÙŠØ¯Ø±Ø§Øª Ø£Ø¹Ù„Ù‰)</option>
          </select>
        </div>
      </div>
      <button class="calc-btn" onclick="calcMacros()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ù…Ø§ÙƒØ±Ùˆ</button>
      <div class="results" id="r-macros">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-mac-protein" style="color:var(--pink)">0g</span><div class="result-label">Ø¨Ø±ÙˆØªÙŠÙ†</div></div>
          <div class="result-item"><span class="result-value" id="r-mac-carbs" style="color:var(--yellow)">0g</span><div class="result-label">ÙƒØ±Ø¨ÙˆÙ‡ÙŠØ¯Ø±Ø§Øª</div></div>
          <div class="result-item"><span class="result-value" id="r-mac-fat" style="color:var(--orange)">0g</span><div class="result-label">Ø¯Ù‡ÙˆÙ†</div></div>
        </div>
        <div class="result-bar" id="r-mac-bar"></div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      bodyfat: {
        icon: 'ğŸ’ª', title: 'Ø­Ø§Ø³Ø¨Ø© Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯Ù‡ÙˆÙ†',
        desc: 'ØªÙ‚Ø¯ÙŠØ± Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯Ù‡ÙˆÙ† ÙÙŠ Ø§Ù„Ø¬Ø³Ù… Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¨Ø­Ø±ÙŠØ© Ø§Ù„Ø£Ù…Ø±ÙŠÙƒÙŠØ©.',
        html: `
      <div class="field-group"><label>Ø§Ù„Ø¬Ù†Ø³</label>
        <select id="bf-gender" onchange="document.getElementById('bf-hip-group').style.display = this.value === 'female' ? 'block' : 'none'">
          <option value="male" selected>Ø°ÙƒØ±</option>
          <option value="female">Ø£Ù†Ø«Ù‰</option>
        </select>
      </div>
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„ÙˆØ²Ù†</label><div class="input-wrap has-suffix"><input type="number" id="bf-weight" value="75"><span class="input-suffix">ÙƒØ¬Ù…</span></div></div>
        <div class="field-group"><label>Ø§Ù„Ø·ÙˆÙ„</label><div class="input-wrap has-suffix"><input type="number" id="bf-height" value="175"><span class="input-suffix">Ø³Ù…</span></div></div>
      </div>
      <div class="field-row">
        <div class="field-group"><label>Ù…Ø­ÙŠØ· Ø§Ù„Ø±Ù‚Ø¨Ø©</label><div class="input-wrap has-suffix"><input type="number" id="bf-neck" value="38"><span class="input-suffix">Ø³Ù…</span></div></div>
        <div class="field-group"><label>Ù…Ø­ÙŠØ· Ø§Ù„Ø®ØµØ± (Ğ¿Ñ€Ğ¸ Ø§Ù„Ø³Ø±Ø©)</label><div class="input-wrap has-suffix"><input type="number" id="bf-waist" value="85"><span class="input-suffix">Ø³Ù…</span></div></div>
      </div>
      <div class="field-group" id="bf-hip-group" style="display:none;"><label>Ù…Ø­ÙŠØ· Ø§Ù„Ø£Ø±Ø¯Ø§Ù (Ø£Ø¹Ø±Ø¶ Ø¬Ø²Ø¡)</label><div class="input-wrap has-suffix"><input type="number" id="bf-hip" value="95"><span class="input-suffix">Ø³Ù…</span></div></div>
      <button class="calc-btn" onclick="calcBodyFat()">Ø§Ø­Ø³Ø¨</button>
      <div class="results" id="r-bodyfat">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ù‚Ø¯Ø±Ø©</h3>
        <div class="result-highlight"><span class="result-value" id="r-bf-pct">â€”</span><div class="result-label">Ù†Ø³Ø¨Ø© Ø§Ù„Ø¯Ù‡ÙˆÙ† ÙÙŠ Ø§Ù„Ø¬Ø³Ù…</div></div>
        <div class="result-grid" style="margin-top:1rem;">
          <div class="result-item"><span class="result-value" id="r-bf-category">â€”</span><div class="result-label" style="color:var(--accent2)">Ø§Ù„ÙØ¦Ø©</div></div>
          <div class="result-item"><span class="result-value" id="r-bf-fatmass">â€”</span><div class="result-label">ÙƒØªÙ„Ø© Ø§Ù„Ø¯Ù‡ÙˆÙ†</div></div>
          <div class="result-item"><span class="result-value" id="r-bf-leanmass">â€”</span><div class="result-label">Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ù„Ø§Ø¯ÙÙ‡Ù†ÙŠØ©</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      salary: {
        icon: 'ğŸ’¼', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø±Ø§ØªØ¨', desc: 'Ø­ÙˆÙ‘Ù„ Ø¨ÙŠÙ† Ø§Ù„Ø£Ø¬Ø± Ø¨Ø§Ù„Ø³Ø§Ø¹Ø© ÙˆØ§Ù„ÙŠÙˆÙ…ÙŠ ÙˆØ§Ù„Ø£Ø³Ø¨ÙˆØ¹ÙŠ ÙˆØ§Ù„Ø´Ù‡Ø±ÙŠ ÙˆØ§Ù„Ø³Ù†ÙˆÙŠ.',
        html: `
      <div class="field-group"><label>Ø£Ø¯Ø®Ù„ Ø±Ø§ØªØ¨Ùƒ</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="sal-amount" value="75000" min="0"></div></div>
      <div class="field-row">
        <div class="field-group"><label>ÙØªØ±Ø© Ø§Ù„Ø¯ÙØ¹</label>
          <select id="sal-period">
            <option value="hour">Ø¨Ø§Ù„Ø³Ø§Ø¹Ø©</option><option value="day">ÙŠÙˆÙ…ÙŠØ§Ù‹</option>
            <option value="week">Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹</option><option value="month">Ø´Ù‡Ø±ÙŠØ§Ù‹</option>
            <option value="year" selected>Ø³Ù†ÙˆÙŠØ§Ù‹</option>
          </select>
        </div>
        <div class="field-group"><label>Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¹Ù…Ù„ Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹</label><input type="number" id="sal-hours" value="40" min="1"></div>
      </div>
      <button class="calc-btn" onclick="calcSalary()">Ø­ÙˆÙ‘Ù„</button>
      <div class="results" id="r-salary">
        <h3>Ø¬Ù…ÙŠØ¹ ÙØªØ±Ø§Øª Ø§Ù„Ø¯ÙØ¹</h3>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-sal-hour">0</span><div class="result-label">Ø¨Ø§Ù„Ø³Ø§Ø¹Ø©</div></div>
          <div class="result-item"><span class="result-value" id="r-sal-day">0</span><div class="result-label">ÙŠÙˆÙ…ÙŠØ§Ù‹</div></div>
          <div class="result-item"><span class="result-value" id="r-sal-week">0</span><div class="result-label">Ø£Ø³Ø¨ÙˆØ¹ÙŠØ§Ù‹</div></div>
          <div class="result-item"><span class="result-value" id="r-sal-month">0</span><div class="result-label">Ø´Ù‡Ø±ÙŠØ§Ù‹</div></div>
          <div class="result-item"><span class="result-value" id="r-sal-year">0</span><div class="result-label">Ø³Ù†ÙˆÙŠØ§Ù‹</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      percentage: {
        icon: '%', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©', desc: 'Ø«Ù„Ø§Ø« Ø·Ø±Ù‚ Ù„Ø­Ø³Ø§Ø¨ Ø§Ù„Ù†Ø³Ø¨ Ø§Ù„Ù…Ø¦ÙˆÙŠØ© ÙÙˆØ±Ø§Ù‹.',
        html: `
      <div style="margin-bottom:1.5rem;">
        <div style="font-size:0.82rem;color:var(--muted2);font-weight:700;margin-bottom:0.75rem;font-family:'IBM Plex Sans Arabic',sans-serif;">Ù…Ø§ Ù‡Ùˆ XÙª Ù…Ù† YØŸ</div>
        <div class="field-row">
          <div class="field-group"><input type="number" id="p1-x" value="15" placeholder="XÙª"></div>
          <div class="field-group"><div class="input-wrap has-suffix"><span class="input-suffix">%</span><input type="number" id="p1-y" value="200" placeholder="Ù…Ù† Y"></div></div>
        </div>
        <button onclick="calcPct1()" style="background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:0.5rem 1.25rem;color:var(--text);cursor:pointer;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.9rem;">= <span id="r-p1" style="color:var(--accent2);font-weight:700;">30</span></button>
      </div>
      <div style="margin-bottom:1.5rem;">
        <div style="font-size:0.82rem;color:var(--muted2);font-weight:700;margin-bottom:0.75rem;font-family:'IBM Plex Sans Arabic',sans-serif;">X Ù‡Ùˆ ÙƒÙ…Ùª Ù…Ù† YØŸ</div>
        <div class="field-row">
          <div class="field-group"><input type="number" id="p2-x" value="30" placeholder="X"></div>
          <div class="field-group"><input type="number" id="p2-y" value="200" placeholder="Y"></div>
        </div>
        <button onclick="calcPct2()" style="background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:0.5rem 1.25rem;color:var(--text);cursor:pointer;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.9rem;">= <span id="r-p2" style="color:var(--accent2);font-weight:700;">15Ùª</span></button>
      </div>
      <div>
        <div style="font-size:0.82rem;color:var(--muted2);font-weight:700;margin-bottom:0.75rem;font-family:'IBM Plex Sans Arabic',sans-serif;">Ù†Ø³Ø¨Ø© Ø§Ù„ØªØºÙŠÙŠØ± Ù…Ù† X Ø¥Ù„Ù‰ Y</div>
        <div class="field-row">
          <div class="field-group"><input type="number" id="p3-x" value="80" placeholder="Ù…Ù†"></div>
          <div class="field-group"><input type="number" id="p3-y" value="100" placeholder="Ø¥Ù„Ù‰"></div>
        </div>
        <button onclick="calcPct3()" style="background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:0.5rem 1.25rem;color:var(--text);cursor:pointer;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.9rem;">= <span id="r-p3" style="color:var(--green);font-weight:700;">+Ù¢Ù¥Ùª</span></button>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      tax: {
        icon: 'ğŸ§¾', title: 'Ø­Ø§Ø³Ø¨Ø© Ø¶Ø±ÙŠØ¨Ø© Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø¶Ø§ÙØ©', desc: 'Ø£Ø¶Ù Ø£Ùˆ Ø§Ø³ØªØ®Ø±Ø¬ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© Ù…Ù† Ø£ÙŠ Ø³Ø¹Ø±.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„Ø³Ø¹Ø±</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="stax-price" value="100" step="0.01" min="0"></div></div>
        <div class="field-group"><label>Ù†Ø³Ø¨Ø© Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©</label><div class="input-wrap has-suffix"><input type="number" id="stax-rate" value="15" step="0.1" min="0"><span class="input-suffix">%</span></div></div>
      </div>
      <div class="field-group"><label>Ø§Ù„ÙˆØ¶Ø¹</label>
        <select id="stax-mode">
          <option value="add">Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© Ø¥Ù„Ù‰ Ø§Ù„Ø³Ø¹Ø±</option>
          <option value="remove">Ø§Ø³ØªØ®Ø±Ø§Ø¬ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø© Ù…Ù† Ø§Ù„Ø³Ø¹Ø± (Ø¹ÙƒØ³ÙŠ)</option>
        </select>
      </div>
      <button class="calc-btn" onclick="calcTax()">Ø§Ø­Ø³Ø¨</button>
      <div class="results" id="r-tax">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-tax-pre">0</span><div class="result-label">Ø§Ù„Ø³Ø¹Ø± Ù‚Ø¨Ù„ Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©</div></div>
          <div class="result-item"><span class="result-value" id="r-tax-amount">0</span><div class="result-label">Ù…Ø¨Ù„Øº Ø§Ù„Ø¶Ø±ÙŠØ¨Ø©</div></div>
          <div class="result-item"><span class="result-value" id="r-tax-total">0</span><div class="result-label">Ø§Ù„Ø³Ø¹Ø± Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      inflation: {
        icon: 'ğŸ›’', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„ØªØ¶Ø®Ù…',
        desc: 'Ø§ÙƒØªØ´Ù ÙƒÙŠÙ ÙŠØ¤Ø¯ÙŠ Ø§Ù„ØªØ¶Ø®Ù… Ø¥Ù„Ù‰ ØªØ¢ÙƒÙ„ Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ø´Ø±Ø§Ø¦ÙŠØ© Ø¨Ù…Ø±ÙˆØ± Ø§Ù„ÙˆÙ‚Øª.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ø­Ø§Ù„ÙŠ</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="inf-amount" value="1000" min="0"></div></div>
        <div class="field-group"><label>Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ¶Ø®Ù… Ø§Ù„Ù…ØªÙˆÙ‚Ø¹</label><div class="input-wrap has-suffix"><input type="number" id="inf-rate" value="3.0" step="0.1"><span class="input-suffix">%</span></div></div>
      </div>
      <div class="field-group"><label>Ø§Ù„Ø³Ù†ÙˆØ§Øª</label><div class="input-wrap has-suffix"><input type="number" id="inf-years" value="10" min="1" max="100"><span class="input-suffix">Ø³Ù†Ø©</span></div></div>
      <button class="calc-btn" onclick="calcInflation()">Ø§Ø­Ø³Ø¨</button>
      <div class="results" id="r-inflation">
        <h3>Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ø´Ø±Ø§Ø¦ÙŠØ©</h3>
        <div class="result-highlight"><span class="result-value" id="r-inf-value">â€”</span><div class="result-label">Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠØ© Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©</div></div>
        <div class="result-grid" style="margin-top:1rem">
          <div class="result-item"><span class="result-value" id="r-inf-cumulative">â€”</span><div class="result-label">Ø§Ù„ØªØ¶Ø®Ù… Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ</div></div>
          <div class="result-item"><span class="result-value" id="r-inf-lost">â€”</span><div class="result-label">ÙÙ‚Ø¯Ø§Ù† Ø§Ù„Ù‚ÙˆØ© Ø§Ù„Ø´Ø±Ø§Ø¦ÙŠØ©</div></div>
        </div>
        <p class="result-note" style="margin-top:1rem">Ù„Ø´Ø±Ø§Ø¡ Ù…Ø§ ØªØ´ØªØ±ÙŠÙ‡ <span id="r-inf-amount-note">1,000</span> Ø±.Ø³ Ø§Ù„ÙŠÙˆÙ…ØŒ Ø³ØªØ­ØªØ§Ø¬ Ø¥Ù„Ù‰ <strong id="r-inf-future-need" style="color:var(--accent2)">â€”</strong> ÙÙŠ Ø¹Ø§Ù… <span id="r-inf-future-year"></span>.</p>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      roi: {
        icon: 'ğŸ“Š', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±', desc: 'Ø§Ø­Ø³Ø¨ Ù†Ø³Ø¨Ø© Ø§Ù„Ø¹Ø§Ø¦Ø¯ ÙˆØ§Ù„Ø±Ø¨Ø­ Ù…Ù† Ø£ÙŠ Ø§Ø³ØªØ«Ù…Ø§Ø±.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ù‚ÙŠÙ…Ø© Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø± Ø§Ù„Ø£ÙˆÙ„ÙŠØ©</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="roi-invest" value="10000" min="0"></div></div>
        <div class="field-group"><label>Ø§Ù„Ù‚ÙŠÙ…Ø© Ø§Ù„Ù†Ù‡Ø§Ø¦ÙŠØ©</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="roi-final" value="13500" min="0"></div></div>
      </div>
      <div class="field-group"><label>Ø§Ù„Ù…Ø¯Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ© (Ø¨Ø§Ù„Ø³Ù†ÙˆØ§Øª)</label><input type="number" id="roi-years" value="3" min="0"></div>
      <button class="calc-btn" onclick="calcROI()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø¹Ø§Ø¦Ø¯</button>
      <div class="results" id="r-roi">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-highlight"><span class="result-value" id="r-roi-pct">0Ùª</span><div class="result-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø³ØªØ«Ù…Ø§Ø±</div></div>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-roi-profit">0</span><div class="result-label">ØµØ§ÙÙŠ Ø§Ù„Ø±Ø¨Ø­</div></div>
          <div class="result-item"><span class="result-value" id="r-roi-annual">0Ùª</span><div class="result-label">Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ø³Ù†ÙˆÙŠ</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      creditcard: {
        icon: 'ğŸ’³', title: 'Ø­Ø§Ø³Ø¨Ø© Ø³Ø¯Ø§Ø¯ Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„Ø§Ø¦ØªÙ…Ø§Ù†', desc: 'ÙƒÙ… ÙŠØ³ØªØºØ±Ù‚ Ø³Ø¯Ø§Ø¯ Ø±ØµÙŠØ¯Ùƒ ÙˆØ¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙÙˆØ§Ø¦Ø¯.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„Ø±ØµÙŠØ¯ Ø§Ù„Ø­Ø§Ù„ÙŠ</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="cc-balance" value="5000" min="0"></div></div>
        <div class="field-group"><label>Ù†Ø³Ø¨Ø© Ø§Ù„ÙØ§Ø¦Ø¯Ø© Ø§Ù„Ø³Ù†ÙˆÙŠØ© APR</label><div class="input-wrap has-suffix"><input type="number" id="cc-apr" value="21.5" step="0.1" min="0"><span class="input-suffix">%</span></div></div>
      </div>
      <div class="field-group"><label>Ø§Ù„Ø¯ÙØ¹Ø© Ø§Ù„Ø´Ù‡Ø±ÙŠØ©</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="cc-payment" value="200" min="0"></div></div>
      <button class="calc-btn" onclick="calcCreditCard()">Ø§Ø­Ø³Ø¨ Ù…ÙˆØ¹Ø¯ Ø§Ù„Ø³Ø¯Ø§Ø¯</button>
      <div class="results" id="r-cc">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-highlight"><span class="result-value" id="r-cc-months">0 Ø´Ù‡Ø±</span><div class="result-label">Ù…Ø¯Ø© Ø§Ù„Ø³Ø¯Ø§Ø¯</div></div>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-cc-interest">0</span><div class="result-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙÙˆØ§Ø¦Ø¯ Ø§Ù„Ù…Ø¯ÙÙˆØ¹Ø©</div></div>
          <div class="result-item"><span class="result-value" id="r-cc-total">0</span><div class="result-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù…Ø¯ÙÙˆØ¹</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      age: {
        icon: 'ğŸ‚', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù…Ø±', desc: 'Ø¹Ù…Ø±Ùƒ Ø§Ù„Ø¯Ù‚ÙŠÙ‚ Ø¨Ø§Ù„Ø³Ù†ÙˆØ§Øª ÙˆØ§Ù„Ø£Ø´Ù‡Ø± ÙˆØ§Ù„Ø£ÙŠØ§Ù… Ù…Ù† ØªØ§Ø±ÙŠØ® Ù…ÙŠÙ„Ø§Ø¯Ùƒ.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</label><input type="date" id="age-dob" style="width:100%;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:0.7rem;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.95rem;color:var(--text);outline:none;direction:ltr;text-align:left;"></div>
        <div class="field-group"><label>Ø­ØªÙ‰ ØªØ§Ø±ÙŠØ®</label><input type="date" id="age-today" style="width:100%;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:0.7rem;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.95rem;color:var(--text);outline:none;direction:ltr;text-align:left;"></div>
      </div>
      <button class="calc-btn" onclick="calcAge()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø¹Ù…Ø±</button>
      <div class="results" id="r-age">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-highlight"><span class="result-value" id="r-age-years">0</span><div class="result-label">Ø³Ù†Ø©</div></div>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-age-months">0</span><div class="result-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£Ø´Ù‡Ø±</div></div>
          <div class="result-item"><span class="result-value" id="r-age-days">0</span><div class="result-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø£ÙŠØ§Ù…</div></div>
          <div class="result-item"><span class="result-value" id="r-age-next">0</span><div class="result-label">Ø£ÙŠØ§Ù… Ø­ØªÙ‰ Ø¹ÙŠØ¯ Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      gpa: {
        icon: 'ğŸ“', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ GPA', desc: 'Ø§Ø­Ø³Ø¨ Ù…Ø¹Ø¯Ù„Ùƒ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ Ù…Ù† Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ù…ÙˆØ§Ø¯ ÙˆØ§Ù„Ø³Ø§Ø¹Ø§Øª Ø§Ù„Ø¯Ø±Ø§Ø³ÙŠØ©.',
        html: `
      <div id="gpa-courses">
        <div style="display:grid;grid-template-columns:1fr 110px 80px;gap:0.5rem;margin-bottom:0.5rem;">
          <div style="font-size:0.78rem;color:var(--muted);font-family:'IBM Plex Sans Arabic',sans-serif;">Ø§Ù„Ù…Ø§Ø¯Ø©</div>
          <div style="font-size:0.78rem;color:var(--muted);font-family:'IBM Plex Sans Arabic',sans-serif;">Ø§Ù„Ø¯Ø±Ø¬Ø©</div>
          <div style="font-size:0.78rem;color:var(--muted);font-family:'IBM Plex Sans Arabic',sans-serif;">Ø§Ù„Ø³Ø§Ø¹Ø§Øª</div>
        </div>
        <div id="gpa-rows"></div>
      </div>
      <button onclick="addGpaRow()" style="background:none;border:1px dashed var(--border2);border-radius:8px;padding:0.5rem 1rem;color:var(--muted2);cursor:pointer;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.88rem;width:100%;margin-bottom:1rem;">+ Ø¥Ø¶Ø§ÙØ© Ù…Ø§Ø¯Ø©</button>
      <button class="calc-btn" onclick="calcGPA()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ù…Ø¹Ø¯Ù„</button>
      <div class="results" id="r-gpa">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-highlight"><span class="result-value" id="r-gpa-val">0.00</span><div class="result-label">Ø§Ù„Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ±Ø§ÙƒÙ…ÙŠ (Ù…Ù‚ÙŠØ§Ø³ 4.0)</div></div>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-gpa-credits">0</span><div class="result-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø³Ø§Ø¹Ø§Øª</div></div>
          <div class="result-item"><span class="result-value" id="r-gpa-letter">â€”</span><div class="result-label">Ø§Ù„ØªÙ‚Ø¯ÙŠØ± Ø§Ù„Ø­Ø±ÙÙŠ</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      fuel: {
        icon: 'â›½', title: 'Ø­Ø§Ø³Ø¨Ø© ØªÙƒÙ„ÙØ© Ø§Ù„ÙˆÙ‚ÙˆØ¯', desc: 'ÙƒÙ… Ø³ØªÙƒÙ„ÙÙƒ Ø±Ø­Ù„ØªÙƒ ÙÙŠ Ø§Ù„ÙˆÙ‚ÙˆØ¯ØŸ',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ù…Ø³Ø§ÙØ© Ø§Ù„Ø±Ø­Ù„Ø©</label><div class="input-wrap has-suffix"><input type="number" id="fuel-dist" value="300" min="0"><span class="input-suffix">ÙƒÙ…</span></div></div>
        <div class="field-group"><label>Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Ø§Ù„ÙˆÙ‚ÙˆØ¯</label><div class="input-wrap has-suffix"><input type="number" id="fuel-mpg" value="12" min="0"><span class="input-suffix">Ù„ØªØ±/Ù¡Ù Ù ÙƒÙ…</span></div></div>
      </div>
      <div class="field-group"><label>Ø³Ø¹Ø± Ø§Ù„ÙˆÙ‚ÙˆØ¯ Ù„Ù„ØªØ±</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="fuel-price" value="2.18" step="0.01" min="0"></div></div>
      <button class="calc-btn" onclick="calcFuelAR()">Ø§Ø­Ø³Ø¨ Ø§Ù„ØªÙƒÙ„ÙØ©</button>
      <div class="results" id="r-fuel">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-highlight"><span class="result-value" id="r-fuel-cost">0</span><div class="result-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ ØªÙƒÙ„ÙØ© Ø§Ù„ÙˆÙ‚ÙˆØ¯ (Ø±.Ø³)</div></div>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-fuel-liters">0</span><div class="result-label">Ù„ØªØ±Ø§Øª Ù…Ø·Ù„ÙˆØ¨Ø©</div></div>
          <div class="result-item"><span class="result-value" id="r-fuel-per100">0</span><div class="result-label">ØªÙƒÙ„ÙØ© ÙƒÙ„ Ù¡Ù Ù  ÙƒÙ…</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      water: {
        icon: 'ğŸ’§', title: 'Ø­Ø§Ø³Ø¨Ø© Ø´Ø±Ø¨ Ø§Ù„Ù…Ø§Ø¡', desc: 'ÙƒÙ… Ù„ØªØ±Ø§Ù‹ Ù…Ù† Ø§Ù„Ù…Ø§Ø¡ ØªØ­ØªØ§Ø¬ ÙŠÙˆÙ…ÙŠØ§Ù‹ØŸ',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„ÙˆØ²Ù†</label><div class="input-wrap has-suffix"><input type="number" id="wat-weight" value="75" min="0"><span class="input-suffix">ÙƒØ¬Ù…</span></div></div>
        <div class="field-group"><label>Ù…Ø³ØªÙˆÙ‰ Ø§Ù„Ù†Ø´Ø§Ø·</label>
          <select id="wat-activity">
            <option value="1">Ø®Ø§Ù…Ù„</option>
            <option value="1.2" selected>Ù…ØªÙˆØ³Ø· Ø§Ù„Ù†Ø´Ø§Ø·</option>
            <option value="1.4">Ù†Ø´Ø· Ø¬Ø¯Ø§Ù‹</option>
          </select>
        </div>
      </div>
      <button class="calc-btn" onclick="calcWaterAR()">Ø§Ø­Ø³Ø¨</button>
      <div class="results" id="r-water">
        <h3>Ø§Ù„Ø§Ø­ØªÙŠØ§Ø¬ Ø§Ù„ÙŠÙˆÙ…ÙŠ Ù…Ù† Ø§Ù„Ù…Ø§Ø¡</h3>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-wat-liters">0 Ù„ØªØ±</span><div class="result-label">Ù„ØªØ±Ø§Øª</div></div>
          <div class="result-item"><span class="result-value" id="r-wat-cups">0</span><div class="result-label">Ø£ÙƒÙˆØ§Ø¨ (240Ù…Ù„)</div></div>
          <div class="result-item"><span class="result-value" id="r-wat-ml">0 Ù…Ù„</span><div class="result-label">Ù…Ù„ÙŠÙ„ØªØ±</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      pregnancy: {
        icon: 'ğŸ¤°', title: 'Ø­Ø§Ø³Ø¨Ø© Ù…ÙˆØ¹Ø¯ Ø§Ù„ÙˆÙ„Ø§Ø¯Ø©', desc: 'Ø­Ø³Ø§Ø¨ Ù…ÙˆØ¹Ø¯ Ø§Ù„ÙˆÙ„Ø§Ø¯Ø© Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¢Ø®Ø± Ø¯ÙˆØ±Ø© Ø´Ù‡Ø±ÙŠØ©.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø£ÙˆÙ„ Ù…Ù† Ø¢Ø®Ø± Ø¯ÙˆØ±Ø©</label><input type="date" id="preg-lmp" style="width:100%;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:0.7rem;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.95rem;color:var(--text);outline:none;direction:ltr;text-align:left;"></div>
        <div class="field-group"><label>Ù…ØªÙˆØ³Ø· Ø·ÙˆÙ„ Ø§Ù„Ø¯ÙˆØ±Ø©</label><div class="input-wrap has-suffix"><input type="number" id="preg-cycle" value="28" min="20" max="45"><span class="input-suffix">ÙŠÙˆÙ…</span></div></div>
      </div>
      <button class="calc-btn" onclick="calcPregnancy()">Ø§Ø­Ø³Ø¨ Ù…ÙˆØ¹Ø¯ Ø§Ù„ÙˆÙ„Ø§Ø¯Ø©</button>
      <div class="results" id="r-pregnancy">
        <h3>Ø§Ù„Ù…ÙˆØ¹Ø¯ Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ù„Ù„ÙˆÙ„Ø§Ø¯Ø©</h3>
        <div class="result-highlight"><span class="result-value" id="r-preg-edd">â€”</span><div class="result-label" id="r-preg-days-left">Ù…ØªØ¨Ù‚ÙŠ</div></div>
        <div class="result-grid" style="margin-top:1rem;">
          <div class="result-item"><span class="result-value" id="r-preg-week">â€”</span><div class="result-label">Ø§Ù„ØªÙ‚Ø¯Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ</div></div>
          <div class="result-item"><span class="result-value" id="r-preg-trimester">â€”</span><div class="result-label">Ø§Ù„Ø«Ù„Ø«</div></div>
          <div class="result-item"><span class="result-value" id="r-preg-conception">â€”</span><div class="result-label">ØªØ§Ø±ÙŠØ® Ø§Ù„Ø­Ù…Ù„ Ø§Ù„ØªÙ‚Ø±ÙŠØ¨ÙŠ</div></div>
        </div>
        <!-- Fetus Visualization -->
        <div id="preg-fetus-viz" style="margin-top:1.5rem;background:linear-gradient(135deg, rgba(108,99,255,0.08), rgba(255,107,157,0.08));border:1px solid rgba(108,99,255,0.15);border-radius:16px;padding:1.5rem;text-align:center;display:none;">
          <div style="display:flex;align-items:center;justify-content:center;gap:1.5rem;flex-wrap:wrap;">
            <div id="preg-fetus-svg" style="position:relative;width:140px;height:140px;display:flex;align-items:center;justify-content:center;">
              <div id="preg-heartbeat-ring" style="position:absolute;width:100%;height:100%;border-radius:50%;border:2px solid rgba(255,107,157,0.3);animation:heartbeatPulse 1.2s ease-in-out infinite;"></div>
              <div id="preg-fetus-icon" style="font-size:4rem;z-index:1;transition:font-size 0.6s cubic-bezier(0.34,1.56,0.64,1);"></div>
            </div>
            <div style="text-align:right;flex:1;min-width:180px;">
              <div style="font-size:0.72rem;text-transform:uppercase;letter-spacing:0.1em;color:var(--muted);font-weight:700;margin-bottom:0.3rem;">Ù…Ù‚Ø§Ø±Ù†Ø© Ø§Ù„Ø­Ø¬Ù…</div>
              <div id="preg-size-compare" style="font-size:1.3rem;font-weight:700;color:var(--accent2);margin-bottom:0.6rem;"></div>
              <div style="font-size:0.72rem;text-transform:uppercase;letter-spacing:0.1em;color:var(--muted);font-weight:700;margin-bottom:0.3rem;">Ø§Ù„Ø·ÙˆÙ„ ÙˆØ§Ù„ÙˆØ²Ù†</div>
              <div id="preg-size-detail" style="font-size:0.95rem;color:var(--text);margin-bottom:0.6rem;direction:ltr;text-align:right;"></div>
              <div style="font-size:0.72rem;text-transform:uppercase;letter-spacing:0.1em;color:var(--muted);font-weight:700;margin-bottom:0.3rem;">Ø§Ù„ØªØ·ÙˆØ±</div>
              <div id="preg-dev-note" style="font-size:0.88rem;color:var(--muted2);line-height:1.4;"></div>
            </div>
          </div>
          <div style="margin-top:1rem;direction:ltr;">
            <div style="display:flex;justify-content:space-between;font-size:0.72rem;color:var(--muted);margin-bottom:0.3rem;"><span style="font-family:'IBM Plex Sans Arabic',sans-serif;">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ù </span><span id="preg-progress-week" style="font-family:'IBM Plex Sans Arabic',sans-serif;">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ù </span><span style="font-family:'IBM Plex Sans Arabic',sans-serif;">Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ Ù¤Ù </span></div>
            <div style="width:100%;height:8px;background:var(--surface2);border-radius:99px;overflow:hidden;">
              <div id="preg-progress-bar" style="height:100%;width:0%;background:linear-gradient(90deg,var(--accent),var(--pink));border-radius:99px;transition:width 1s cubic-bezier(0.34,1.56,0.64,1);"></div>
            </div>
          </div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      heartrate: {
        icon: 'â¤ï¸', title: 'Ù…Ù†Ø§Ø·Ù‚ Ù…Ø¹Ø¯Ù„ Ø¶Ø±Ø¨Ø§Øª Ø§Ù„Ù‚Ù„Ø¨', desc: 'Ù…Ù†Ø§Ø·Ù‚ Ù…Ø¹Ø¯Ù„ Ø¶Ø±Ø¨Ø§Øª Ø§Ù„Ù‚Ù„Ø¨ Ø§Ù„Ù…Ø³ØªÙ‡Ø¯ÙØ© Ù„Ø­Ø±Ù‚ Ø§Ù„Ø¯Ù‡ÙˆÙ† ÙˆØªÙ…Ø§Ø±ÙŠÙ† Ø§Ù„ÙƒØ§Ø±Ø¯ÙŠÙˆ.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„Ø¹Ù…Ø±</label><div class="input-wrap has-suffix"><input type="number" id="hr-age" value="30" min="10" max="100"><span class="input-suffix">Ø³Ù†Ø©</span></div></div>
        <div class="field-group"><label>Ù…Ø¹Ø¯Ù„ Ù†Ø¨Ø¶Ø§Øª Ø§Ù„Ù‚Ù„Ø¨ ÙˆÙ‚Øª Ø§Ù„Ø±Ø§Ø­Ø©</label><div class="input-wrap has-suffix"><input type="number" id="hr-rest" value="60" min="30" max="120"><span class="input-suffix">Ù†Ø¨Ø¶Ø©/Ø¯</span></div></div>
      </div>
      <button class="calc-btn" onclick="calcHeartRate()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚</button>
      <div class="results" id="r-heartrate">
        <h3>Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„ØªØ¯Ø±ÙŠØ¨ (Ø·Ø±ÙŠÙ‚Ø© ÙƒØ§Ø±ÙÙˆÙ†ÙŠÙ†)</h3>
        <div class="result-highlight"><span class="result-value" id="r-hr-max">â€”</span><div class="result-label">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ Ù„Ù…Ø¹Ø¯Ù„ Ø¶Ø±Ø¨Ø§Øª Ø§Ù„Ù‚Ù„Ø¨</div></div>
        <div class="result-grid" style="margin-top:1rem;">
          <div class="result-item"><span class="result-value" id="r-hr-z1" style="color:var(--blue)">â€”</span><div class="result-label">Ø¥Ø­Ù…Ø§Ø¡ (50-60%)</div></div>
          <div class="result-item"><span class="result-value" id="r-hr-z2" style="color:var(--green)">â€”</span><div class="result-label">Ø­Ø±Ù‚ Ø§Ù„Ø¯Ù‡ÙˆÙ† (60-70%)</div></div>
          <div class="result-item"><span class="result-value" id="r-hr-z3" style="color:var(--yellow)">â€”</span><div class="result-label">Ù‡ÙˆØ§Ø¦ÙŠ (70-80%)</div></div>
          <div class="result-item"><span class="result-value" id="r-hr-z4" style="color:var(--orange)">â€”</span><div class="result-label">Ù„Ø§Ù‡ÙˆØ§Ø¦ÙŠ (80-90%)</div></div>
          <div class="result-item"><span class="result-value" id="r-hr-z5" style="color:var(--pink)">â€”</span><div class="result-label">Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰ (90-100%)</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      idealweight: {
        icon: 'ğŸ¯', title: 'Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ', desc: 'ØªÙ‚Ø¯ÙŠØ± Ù†Ø·Ø§Ù‚ Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ­ÙŠ Ø§Ù„Ù…Ù†Ø§Ø³Ø¨ Ù„Ø·ÙˆÙ„Ùƒ ÙˆØ¨Ù†ÙŠØ© Ø¬Ø³Ù…Ùƒ.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„Ø¬Ù†Ø³</label>
          <select id="iw-gender">
            <option value="male" selected>Ø°ÙƒØ±</option>
            <option value="female">Ø£Ù†Ø«Ù‰</option>
          </select>
        </div>
        <div class="field-group"><label>Ø­Ø¬Ù… Ø¨Ù†ÙŠØ© Ø§Ù„Ø¬Ø³Ù…</label>
          <select id="iw-frame">
            <option value="small">ØµØºÙŠØ± (Ø·Ø±Ø­ 10%)</option>
            <option value="medium" selected>Ù…ØªÙˆØ³Ø·</option>
            <option value="large">ÙƒØ¨ÙŠØ± (Ø¥Ø¶Ø§ÙØ© 10%)</option>
          </select>
        </div>
      </div>
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„Ø·ÙˆÙ„</label><div class="input-wrap has-suffix"><input type="number" id="iw-height" value="175" min="100" max="250"><span class="input-suffix">Ø³Ù…</span></div></div>
      </div>
      <button class="calc-btn" onclick="calcIdealWeight()">Ø§Ø­Ø³Ø¨ Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ</button>
      <div class="results" id="r-idealweight">
        <h3>ØªÙ‚Ø¯ÙŠØ±Ø§Øª Ø§Ù„ÙˆØ²Ù† Ø§Ù„ØµØ­ÙŠ</h3>
        <div class="result-highlight"><span class="result-value" id="r-iw-primary">â€”</span><div class="result-label">Ø§Ù„Ù†Ø·Ø§Ù‚ Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡</div></div>
        <div class="result-grid" style="margin-top:1rem;">
          <div class="result-item"><span class="result-value" id="r-iw-robinson">â€”</span><div class="result-label">Ù…Ø¹Ø§Ø¯Ù„Ø© Ø±ÙˆØ¨Ù†Ø³ÙˆÙ†</div></div>
          <div class="result-item"><span class="result-value" id="r-iw-miller">â€”</span><div class="result-label">Ù…Ø¹Ø§Ø¯Ù„Ø© Ù…ÙŠÙ„Ø±</div></div>
          <div class="result-item"><span class="result-value" id="r-iw-devine">â€”</span><div class="result-label">Ù…Ø¹Ø§Ø¯Ù„Ø© Ø¯ÙŠÙØ§ÙŠÙ†</div></div>
        </div>
        <p class="result-note" style="margin-top:1rem;">Ù‡Ø°Ù‡ ØªÙ‚Ø¯ÙŠØ±Ø§Øª Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø§Ù„Ø·Ø¨ÙŠØ© Ø§Ù„Ù‚ÙŠØ§Ø³ÙŠØ© ÙˆÙ„Ø§ ØªØ£Ø®Ø° ÙÙŠ Ø§Ù„Ø§Ø¹ØªØ¨Ø§Ø± Ø§Ù„ÙƒØªÙ„Ø© Ø§Ù„Ø¹Ø¶Ù„ÙŠØ©.</p>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      sleep: {
        icon: 'ğŸŒ™', title: 'Ø­Ø§Ø³Ø¨Ø© Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù†ÙˆÙ…', desc: 'Ø£ÙØ¶Ù„ ÙˆÙ‚Øª Ù„Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸ Ø£Ùˆ Ø§Ù„Ù†ÙˆÙ… Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù†ÙˆÙ… (90 Ø¯Ù‚ÙŠÙ‚Ø©).',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø£Ø±ÙŠØ¯ Ø­Ø³Ø§Ø¨:</label>
          <select id="slp-mode" onchange="document.getElementById('slp-time-label').textContent = this.value === 'wake' ? 'Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø°ÙŠ Ø£Ø±ÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸ ÙÙŠÙ‡' : 'Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø°ÙŠ Ø³Ø£Ø°Ù‡Ø¨ ÙÙŠÙ‡ Ù„Ù„Ù†ÙˆÙ…'">
            <option value="wake" selected>Ù…ØªÙ‰ ÙŠØ¬Ø¨ Ø£Ù† Ø£Ù†Ø§Ù…ØŸ</option>
            <option value="bed">Ù…ØªÙ‰ ÙŠØ¬Ø¨ Ø£Ù† Ø£Ø³ØªÙŠÙ‚Ø¸ØŸ</option>
          </select>
        </div>
        <div class="field-group"><label id="slp-time-label">Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ø°ÙŠ Ø£Ø±ÙŠØ¯ Ø§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸ ÙÙŠÙ‡</label>
          <input type="time" id="slp-time" value="07:00" style="width:100%;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:0.7rem;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.95rem;color:var(--text);outline:none;">
        </div>
      </div>
      <button class="calc-btn" onclick="calcSleep()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø£ÙˆÙ‚Ø§Øª Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©</button>
      <div class="results" id="r-sleep">
        <h3>Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù†ÙˆÙ… Ø§Ù„Ù…Ø«Ø§Ù„ÙŠØ©</h3>
        <p class="result-note" style="margin-bottom:1rem;">ÙŠØ³ØªØºØ±Ù‚ Ø§Ù„Ø´Ø®Øµ Ø§Ù„Ø¹Ø§Ø¯ÙŠ 15 Ø¯Ù‚ÙŠÙ‚Ø© Ù„ÙŠØºÙÙˆ. ØªÙ… Ø£Ø®Ø° Ø°Ù„Ùƒ ÙÙŠ Ø§Ù„Ø§Ø¹ØªØ¨Ø§Ø±. Ø§Ù‡Ø¯Ù Ø¥Ù„Ù‰ 5-6 Ø¯ÙˆØ±Ø§Øª (7.5 - 9 Ø³Ø§Ø¹Ø§Øª).</p>
        <div class="result-grid" id="r-slp-cycles"></div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      datediff: {
        icon: 'ğŸ“…', title: 'Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† ØªØ§Ø±ÙŠØ®ÙŠÙ†', desc: 'Ø¹Ø¯Ø¯ Ø§Ù„Ø£ÙŠØ§Ù… ÙˆØ§Ù„Ø£Ø³Ø§Ø¨ÙŠØ¹ ÙˆØ§Ù„Ø£Ø´Ù‡Ø± Ø¨ÙŠÙ† Ø£ÙŠ ØªØ§Ø±ÙŠØ®ÙŠÙ†.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ø¨Ø¯Ø§ÙŠØ©</label><input type="date" id="dd-start" style="width:100%;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:0.7rem;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.95rem;color:var(--text);outline:none;direction:ltr;text-align:left;"></div>
        <div class="field-group"><label>ØªØ§Ø±ÙŠØ® Ø§Ù„Ù†Ù‡Ø§ÙŠØ©</label><input type="date" id="dd-end" style="width:100%;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:0.7rem;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.95rem;color:var(--text);outline:none;direction:ltr;text-align:left;"></div>
      </div>
      <button class="calc-btn" onclick="calcDateDiff()">Ø§Ø­Ø³Ø¨ Ø§Ù„ÙØ±Ù‚</button>
      <div class="results" id="r-datediff">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="r-dd-days">0</span><div class="result-label">ÙŠÙˆÙ…</div></div>
          <div class="result-item"><span class="result-value" id="r-dd-weeks">0</span><div class="result-label">Ø£Ø³Ø¨ÙˆØ¹</div></div>
          <div class="result-item"><span class="result-value" id="r-dd-months">0</span><div class="result-label">Ø´Ù‡Ø±</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      random: {
        icon: 'ğŸ²', title: 'Ù…ÙˆÙ„Ù‘Ø¯ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¹Ø´ÙˆØ§Ø¦ÙŠØ©', desc: 'ÙˆÙ„Ù‘Ø¯ Ø£Ø±Ù‚Ø§Ù…Ø§Ù‹ Ø¹Ø´ÙˆØ§Ø¦ÙŠØ© Ø¶Ù…Ù† Ø£ÙŠ Ù†Ø·Ø§Ù‚ ØªØ­Ø¯Ø¯Ù‡.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ø¯Ù†Ù‰</label><input type="number" id="rng-min" value="1"></div>
        <div class="field-group"><label>Ø§Ù„Ø­Ø¯ Ø§Ù„Ø£Ù‚ØµÙ‰</label><input type="number" id="rng-max" value="100"></div>
      </div>
      <div class="field-group"><label>Ø¹Ø¯Ø¯ Ø§Ù„Ø£Ø±Ù‚Ø§Ù…</label><input type="number" id="rng-count" value="1" min="1" max="50"></div>
      <button class="calc-btn" onclick="calcRandom()">ğŸ² ÙˆÙ„Ù‘Ø¯ Ø§Ù„Ø¢Ù†</button>
      <div class="results" id="r-random">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div id="r-rng-numbers" style="font-family:'Amiri',serif;font-size:2rem;color:var(--accent2);text-align:center;letter-spacing:0.1em;line-height:1.6;"></div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      quadratic: {
        icon: 'ğŸ“ˆ', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠØ©', desc: 'Ø¥ÙŠØ¬Ø§Ø¯ Ø§Ù„Ø¬Ø°ÙˆØ± Ù„Ù„Ù…Ø¹Ø§Ø¯Ù„Ø§Øª Ø¨ØµÙŠØºØ© Ø£ Ø³Â² + Ø¨ Ø³ + Ø¬ = 0.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø£ (Ø³Â²)</label><input type="number" id="quad-a" value="1"></div>
        <div class="field-group"><label>Ø¨ (Ø³)</label><input type="number" id="quad-b" value="-5"></div>
        <div class="field-group"><label>Ø¬ (Ø«Ø§Ø¨Øª)</label><input type="number" id="quad-c" value="6"></div>
      </div>
      <button class="calc-btn" onclick="calcQuadratic()">Ø§Ø­Ù„ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø©</button>
      <div class="results" id="r-quadratic">
        <h3>Ø§Ù„Ø¬Ø°ÙˆØ± (Ù‚ÙŠÙ… Ø³)</h3>
        <div class="result-highlight"><span class="result-value" id="r-quad-roots" style="font-size:1.8rem;direction:ltr">â€”</span><div class="result-label" id="r-quad-type">Ø·Ø¨ÙŠØ¹Ø© Ø§Ù„Ø¬Ø°ÙˆØ±</div></div>
        <div class="result-grid" style="margin-top:1rem;">
          <div class="result-item"><span class="result-value" id="r-quad-x1" style="direction:ltr">â€”</span><div class="result-label">Ø³â‚ (xâ‚)</div></div>
          <div class="result-item"><span class="result-value" id="r-quad-x2" style="direction:ltr">â€”</span><div class="result-label">Ø³â‚‚ (xâ‚‚)</div></div>
          <div class="result-item"><span class="result-value" id="r-quad-disc" style="direction:ltr">â€”</span><div class="result-label">Ø§Ù„Ù…ÙÙ…ÙŠÙ‘ÙØ² (Î”)</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      probability: {
        icon: 'ğŸ²', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„Ø§Øª', desc: 'Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙˆØ§ÙÙŠÙ‚ ÙˆØ§Ù„ØªØ¨Ø§Ø¯ÙŠÙ„ ÙˆØ§Ø­ØªÙ…Ø§Ù„Ø§Øª Ø§Ù„Ø£Ø­Ø¯Ø§Ø«.',
        html: `
      <div class="field-group"><label>Ù†ÙˆØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨</label>
        <select id="prob-type" onchange="updateProbFields()">
          <option value="basic" selected>Ø§Ø­ØªÙ…Ø§Ù„ Ø­Ø¯Ø« Ø¨Ø³ÙŠØ·</option>
          <option value="comb">Ø§Ù„ØªÙˆØ§ÙÙŠÙ‚ (nCr)</option>
          <option value="perm">Ø§Ù„ØªØ¨Ø§Ø¯ÙŠÙ„ (nPr)</option>
        </select>
      </div>
      
      <!-- Basic Event Fields -->
      <div id="prob-basic-fields">
        <div class="field-row">
          <div class="field-group"><label>Ø¹Ø¯Ø¯ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (Ø§Ù„Ù†Ø§Ø¬Ø­Ø©)</label><input type="number" id="prob-fav" value="1" min="0"></div>
          <div class="field-group"><label>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ù…ÙƒÙ†Ø©</label><input type="number" id="prob-total" value="6" min="1"></div>
        </div>
      </div>
      
      <!-- Comb/Perm Fields -->
      <div id="prob-cp-fields" style="display:none;">
        <div class="field-row">
          <div class="field-group"><label>Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„Ø¹Ù†Ø§ØµØ± (n)</label><input type="number" id="prob-n" value="5" min="0"></div>
          <div class="field-group"><label>Ø§Ù„Ø¹Ù†Ø§ØµØ± Ø§Ù„Ù…Ø®ØªØ§Ø±Ø© (r)</label><input type="number" id="prob-r" value="3" min="0"></div>
        </div>
      </div>

      <button class="calc-btn" onclick="calcProbability()">Ø§Ø­Ø³Ø¨ Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„</button>
      <div class="results" id="r-probability">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-highlight"><span class="result-value" id="r-prob-main" style="direction:ltr">â€”</span><div class="result-label" id="r-prob-label">Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„</div></div>
        
        <div class="result-grid" id="r-prob-extras" style="margin-top:1rem; display:none;">
          <div class="result-item"><span class="result-value" id="r-prob-pct" style="direction:ltr">â€”</span><div class="result-label">Ø§Ù„Ù†Ø³Ø¨Ø© Ø§Ù„Ù…Ø¦ÙˆÙŠØ©</div></div>
          <div class="result-item"><span class="result-value" id="r-prob-odds" style="direction:ltr">â€”</span><div class="result-label">Ø§Ù„ÙØ±Øµ (Odds)</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      geometry: {
        icon: 'ğŸ“', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ù‡Ù†Ø¯Ø³Ø©', desc: 'Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø³Ø§Ø­Ø© ÙˆØ§Ù„Ù…Ø­ÙŠØ· Ù„Ù„Ø£Ø´ÙƒØ§Ù„ Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ© Ø«Ù†Ø§Ø¦ÙŠØ© Ø§Ù„Ø£Ø¨Ø¹Ø§Ø¯.',
        html: `
      <div class="field-group"><label>Ø§Ù„Ø´ÙƒÙ„ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠ</label>
        <select id="geo-shape" onchange="updateGeoFields()">
          <option value="circle" selected>Ø¯Ø§Ø¦Ø±Ø©</option>
          <option value="rectangle">Ù…Ø³ØªØ·ÙŠÙ„</option>
          <option value="triangle">Ù…Ø«Ù„Ø«</option>
        </select>
      </div>
      
      <!-- Circle Fields -->
      <div id="geo-circle-fields">
        <div class="field-row">
          <div class="field-group"><label>Ù†ØµÙ Ø§Ù„Ù‚Ø·Ø± (Ù†Ù‚)</label><input type="number" id="geo-r" value="5" min="0"></div>
        </div>
      </div>

      <!-- Rectangle Fields -->
      <div id="geo-rect-fields" style="display:none;">
        <div class="field-row">
          <div class="field-group"><label>Ø§Ù„Ø·ÙˆÙ„</label><input type="number" id="geo-l" value="10" min="0"></div>
          <div class="field-group"><label>Ø§Ù„Ø¹Ø±Ø¶</label><input type="number" id="geo-w" value="5" min="0"></div>
        </div>
      </div>
      
      <!-- Triangle Fields -->
      <div id="geo-tri-fields" style="display:none;">
        <div class="field-row">
          <div class="field-group"><label>Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø©</label><input type="number" id="geo-b" value="6" min="0"></div>
          <div class="field-group"><label>Ø§Ù„Ø§Ø±ØªÙØ§Ø¹</label><input type="number" id="geo-h" value="4" min="0"></div>
        </div>
        <p class="result-note" style="margin-top:-0.5rem; margin-bottom:1rem;">Ø­Ø³Ø§Ø¨ Ø§Ù„Ù…Ø­ÙŠØ· ÙŠÙØªØ±Ø¶ Ø£Ù† Ø§Ù„Ù…Ø«Ù„Ø« Ù…ØªØ³Ø§ÙˆÙŠ Ø§Ù„Ø³Ø§Ù‚ÙŠÙ† Ø¨Ù†Ø§Ø¡Ù‹ Ø¹Ù„Ù‰ Ø§Ù„Ø§Ø±ØªÙØ§Ø¹ ÙˆØ§Ù„Ù‚Ø§Ø¹Ø¯Ø©.</p>
      </div>

      <button class="calc-btn" onclick="calcGeometry()">Ø§Ø­Ø³Ø¨</button>
      <div class="results" id="r-geometry">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù‡Ù†Ø¯Ø³ÙŠØ©</h3>
        <div class="result-highlight"><span class="result-value" id="r-geo-area" style="direction:ltr">â€”</span><div class="result-label">Ø§Ù„Ù…Ø³Ø§Ø­Ø©</div></div>
        <div class="result-grid" style="margin-top:1rem;">
          <div class="result-item"><span class="result-value" id="r-geo-perim" style="direction:ltr">â€”</span><div class="result-label" id="r-geo-perim-lbl">Ø§Ù„Ù…Ø­ÙŠØ·</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      base: {
        icon: 'ğŸ’»', title: 'Ù…Ø­ÙˆÙ„ Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø£Ø¹Ø¯Ø§Ø¯', desc: 'ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¨ÙŠÙ† Ø§Ù„Ø£Ù†Ø¸Ù…Ø© Ø§Ù„Ø«Ù†Ø§Ø¦ÙŠØ© ÙˆØ§Ù„Ø«Ù…Ø§Ù†ÙŠØ© ÙˆØ§Ù„Ø¹Ø´Ø±ÙŠØ© ÙˆØ§Ù„Ø³Øª Ø¹Ø´Ø±ÙŠØ©.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„Ù‚ÙŠÙ…Ø©</label><input type="text" id="base-val" value="255" style="width:100%;background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:0.7rem;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:1rem;color:var(--text);outline:none;direction:ltr;text-align:left;"></div>
        <div class="field-group"><label>Ø§Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ</label>
          <select id="base-from">
            <option value="10" selected>Ø¹Ø´Ø±ÙŠ (10)</option>
            <option value="2">Ø«Ù†Ø§Ø¦ÙŠ (2)</option>
            <option value="8">Ø«Ù…Ø§Ù†ÙŠ (8)</option>
            <option value="16">Ø³Ø¯Ø§Ø³ÙŠ Ø¹Ø´Ø±ÙŠ (16)</option>
          </select>
        </div>
      </div>
      <button class="calc-btn" onclick="calcBase()">ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù‚ÙŠÙ…Ø©</button>
      <div class="results" id="r-base">
        <h3>Ø§Ù„Ù‚ÙŠÙ… Ø§Ù„Ù…Ø­ÙˆÙ„Ø©</h3>
        <div class="result-grid" style="margin-top:1rem;">
          <div class="result-item"><span class="result-value" id="r-base-dec" style="direction:ltr">â€”</span><div class="result-label">Ø¹Ø´Ø±ÙŠ (10)</div></div>
          <div class="result-item"><span class="result-value" id="r-base-bin" style="direction:ltr;word-break:break-all">â€”</span><div class="result-label">Ø«Ù†Ø§Ø¦ÙŠ (2)</div></div>
          <div class="result-item"><span class="result-value" id="r-base-oct" style="direction:ltr">â€”</span><div class="result-label">Ø«Ù…Ø§Ù†ÙŠ (8)</div></div>
          <div class="result-item"><span class="result-value" id="r-base-hex" style="direction:ltr;text-transform:uppercase">â€”</span><div class="result-label">Ø³Ø¯Ø§Ø³ÙŠ Ø¹Ø´Ø±ÙŠ (16)</div></div>
        </div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      speed: {
        icon: 'âš¡', title: 'Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø³Ø±Ø¹Ø© ÙˆØ§Ù„Ù…Ø³Ø§ÙØ© ÙˆØ§Ù„Ø²Ù…Ù†', desc: 'Ø¥ÙŠØ¬Ø§Ø¯ Ø§Ù„Ø³Ø±Ø¹Ø© Ø£Ùˆ Ø§Ù„Ù…Ø³Ø§ÙØ© Ø£Ùˆ Ø§Ù„Ø²Ù…Ù† Ø¨Ù…Ø¹Ù„ÙˆÙ…ÙŠØ© Ø§Ù„Ù‚ÙŠÙ…ØªÙŠÙ† Ø§Ù„Ø£Ø®Ø±ÙŠÙŠÙ†.',
        html: `
      <div class="field-group"><label>Ø£Ø±ÙŠØ¯ Ø­Ø³Ø§Ø¨:</label>
        <select id="spd-solve" onchange="updateSpeedFields()">
          <option value="speed" selected>Ø§Ù„Ø³Ø±Ø¹Ø©</option>
          <option value="distance">Ø§Ù„Ù…Ø³Ø§ÙØ©</option>
          <option value="time">Ø§Ù„Ø²Ù…Ù†</option>
        </select>
      </div>

      <div class="field-row" id="spd-inputs">
        <div class="field-group" id="spd-dist-field"><label>Ø§Ù„Ù…Ø³Ø§ÙØ©</label>
          <div class="input-wrap has-suffix">
            <input type="number" id="spd-dist" value="100" min="0">
            <select id="spd-dist-unit" class="input-suffix standalone" style="width:70px; border:none; background:transparent;">
              <option value="km" selected>ÙƒÙ…</option>
              <option value="mi">Ù…ÙŠÙ„</option>
              <option value="m">Ù…ØªØ±</option>
            </select>
          </div>
        </div>
        
        <div class="field-group" id="spd-time-field"><label>Ø§Ù„Ø²Ù…Ù†</label>
          <div style="display:flex; gap:0.5rem; direction:ltr;">
            <div class="input-wrap has-suffix" style="flex:1;"><input type="number" id="spd-h" value="1" min="0" placeholder="0"><span class="input-suffix">Ø³Ø§Ø¹Ø©</span></div>
            <div class="input-wrap has-suffix" style="flex:1;"><input type="number" id="spd-m" value="30" min="0" max="59" placeholder="0"><span class="input-suffix">Ø¯Ù‚ÙŠÙ‚Ø©</span></div>
          </div>
        </div>

        <div class="field-group" id="spd-speed-field" style="display:none;"><label>Ø§Ù„Ø³Ø±Ø¹Ø©</label>
          <div class="input-wrap has-suffix">
            <input type="number" id="spd-speed" value="60" min="0">
            <select id="spd-speed-unit" class="input-suffix standalone" style="width:85px; border:none; background:transparent;">
              <option value="kph" selected>ÙƒÙ…/Ø³</option>
              <option value="mph">Ù…ÙŠÙ„/Ø³</option>
              <option value="mps">Ù…/Ø«</option>
            </select>
          </div>
        </div>
      </div>

      <button class="calc-btn" onclick="calcSpeed()">Ø§Ø­Ø³Ø¨</button>
      <div class="results" id="r-speed">
        <h3>Ø§Ù„Ù†ØªÙŠØ¬Ø©</h3>
        <div class="result-highlight"><span class="result-value" id="r-spd-val" style="direction:ltr;font-size:1.8rem;">â€”</span><div class="result-label" id="r-spd-lbl">Ø§Ù„Ø³Ø±Ø¹Ø©</div></div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      timezone: {
        icon: 'ğŸŒ', title: 'Ù…Ø­ÙˆÙ„ Ø§Ù„Ù…Ù†Ø§Ø·Ù‚ Ø§Ù„Ø²Ù…Ù†ÙŠØ©', desc: 'ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙˆÙ‚Øª Ø¨ÙŠÙ† Ø§Ù„Ù…Ø¯Ù† Ø§Ù„Ø¹Ø§Ù„Ù…ÙŠØ© Ø§Ù„ÙƒØ¨Ø±Ù‰ Ø¹Ù„Ù‰ Ø§Ù„ÙÙˆØ±.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„ÙˆÙ‚Øª</label>
          <input type="time" id="tz-time" value="12:00">
        </div>
        <div class="field-group"><label>Ù…Ù† Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</label>
          <select id="tz-from">
            <option value="-8">ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ù‡Ø§Ø¯Ø¦ (PT) UTC-8</option>
            <option value="-5">Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø´Ø±Ù‚ÙŠ (ET) UTC-5</option>
            <option value="0" selected>Ù„Ù†Ø¯Ù† (GMT) UTC+0</option>
            <option value="1">Ø¨Ø§Ø±ÙŠØ³/Ø¨Ø±Ù„ÙŠÙ† (CET) UTC+1</option>
            <option value="3">Ø§Ù„Ø±ÙŠØ§Ø¶/Ù…ÙˆØ³ÙƒÙˆ (AST/MSK) UTC+3</option>
            <option value="4">Ø¯Ø¨ÙŠ (GST) UTC+4</option>
            <option value="5.5">Ø§Ù„Ù‡Ù†Ø¯ (IST) UTC+5:30</option>
            <option value="8">Ø¨ÙƒÙŠÙ†/Ø³Ù†ØºØ§ÙÙˆØ±Ø© (CST/SGT) UTC+8</option>
            <option value="9">Ø·ÙˆÙƒÙŠÙˆ (JST) UTC+9</option>
            <option value="11">Ø³ÙŠØ¯Ù†ÙŠ (AEDT) UTC+11</option>
          </select>
        </div>
      </div>
      
      <div class="field-group"><label>Ø¥Ù„Ù‰ Ø§Ù„Ù…Ù†Ø·Ù‚Ø©</label>
        <select id="tz-to">
          <option value="-8">ØªÙˆÙ‚ÙŠØª Ø§Ù„Ù…Ø­ÙŠØ· Ø§Ù„Ù‡Ø§Ø¯Ø¦ (PT) UTC-8</option>
          <option value="-5" selected>Ø§Ù„ØªÙˆÙ‚ÙŠØª Ø§Ù„Ø´Ø±Ù‚ÙŠ (ET) UTC-5</option>
          <option value="0">Ù„Ù†Ø¯Ù† (GMT) UTC+0</option>
          <option value="1">Ø¨Ø§Ø±ÙŠØ³/Ø¨Ø±Ù„ÙŠÙ† (CET) UTC+1</option>
          <option value="3">Ø§Ù„Ø±ÙŠØ§Ø¶/Ù…ÙˆØ³ÙƒÙˆ (AST/MSK) UTC+3</option>
          <option value="4">Ø¯Ø¨ÙŠ (GST) UTC+4</option>
          <option value="5.5">Ø§Ù„Ù‡Ù†Ø¯ (IST) UTC+5:30</option>
          <option value="8">Ø¨ÙƒÙŠÙ†/Ø³Ù†ØºØ§ÙÙˆØ±Ø© (CST/SGT) UTC+8</option>
          <option value="9">Ø·ÙˆÙƒÙŠÙˆ (JST) UTC+9</option>
          <option value="11">Ø³ÙŠØ¯Ù†ÙŠ (AEDT) UTC+11</option>
        </select>
      </div>

      <button class="calc-btn" onclick="calcTimezone()">ØªØ­ÙˆÙŠÙ„ Ø§Ù„ÙˆÙ‚Øª</button>
      <div class="results" id="r-timezone">
        <h3>Ø§Ù„ÙˆÙ‚Øª Ø§Ù„Ù…Ø­ÙˆÙ„</h3>
        <div class="result-highlight"><span class="result-value" id="r-tz-val" style="direction:ltr">â€”</span><div class="result-label" id="r-tz-diff">ÙØ±Ù‚ Ø§Ù„ØªÙˆÙ‚ÙŠØª</div></div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      cooking: {
        icon: 'ğŸ³', title: 'Ù…Ø­ÙˆÙ„ Ø£Ø¯ÙˆØ§Øª Ø§Ù„Ø·Ø¨Ø®', desc: 'Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ø³Ø±ÙŠØ¹ Ø¨ÙŠÙ† Ø§Ù„Ø£ÙƒÙˆØ§Ø¨ ÙˆØ§Ù„Ù…Ù„Ø§Ø¹Ù‚ ÙˆØ§Ù„Ø£ÙˆÙ†ØµØ§Øª ÙˆØ§Ù„Ù…Ù„ÙŠÙ„ØªØ±Ø§Øª.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„ÙƒÙ…ÙŠØ©</label>
          <input type="number" id="cook-val" value="1" min="0">
        </div>
        <div class="field-group"><label>Ù…Ù† ÙˆØ­Ø¯Ø©</label>
          <select id="cook-from">
            <optgroup label="Ø§Ù„Ø­Ø¬Ù… (Ø£Ù…Ø±ÙŠÙƒÙŠ)">
              <option value="cup" selected>ÙƒÙˆØ¨ (Cup)</option>
              <option value="tbsp">Ù…Ù„Ø¹Ù‚Ø© Ø·Ø¹Ø§Ù… (tbsp)</option>
              <option value="tsp">Ù…Ù„Ø¹Ù‚Ø© Ø´Ø§ÙŠ (tsp)</option>
              <option value="floz">Ø£ÙˆÙ†ØµØ© Ø³Ø§Ø¦Ù„Ø© (fl oz)</option>
            </optgroup>
            <optgroup label="Ø§Ù„Ø­Ø¬Ù… (Ù…ØªØ±ÙŠ)">
              <option value="ml">Ù…Ù„ÙŠÙ„ØªØ± (ml)</option>
              <option value="l">Ù„ØªØ± (L)</option>
            </optgroup>
            <optgroup label="Ø§Ù„ÙˆØ²Ù†">
              <option value="oz">Ø£ÙˆÙ†ØµØ© (oz)</option>
              <option value="lb">Ø±Ø·Ù„ (lb)</option>
              <option value="g">Ø¬Ø±Ø§Ù… (g)</option>
              <option value="kg">ÙƒÙŠÙ„ÙˆØ¬Ø±Ø§Ù… (kg)</option>
            </optgroup>
          </select>
        </div>
      </div>

      <div class="field-group"><label>Ø¥Ù„Ù‰ ÙˆØ­Ø¯Ø©</label>
        <select id="cook-to">
          <optgroup label="Ø§Ù„Ø­Ø¬Ù… (Ø£Ù…Ø±ÙŠÙƒÙŠ)">
            <option value="cup">ÙƒÙˆØ¨ (Cup)</option>
            <option value="tbsp" selected>Ù…Ù„Ø¹Ù‚Ø© Ø·Ø¹Ø§Ù… (tbsp)</option>
            <option value="tsp">Ù…Ù„Ø¹Ù‚Ø© Ø´Ø§ÙŠ (tsp)</option>
            <option value="floz">Ø£ÙˆÙ†ØµØ© Ø³Ø§Ø¦Ù„Ø© (fl oz)</option>
          </optgroup>
          <optgroup label="Ø§Ù„Ø­Ø¬Ù… (Ù…ØªØ±ÙŠ)">
            <option value="ml">Ù…Ù„ÙŠÙ„ØªØ± (ml)</option>
            <option value="l">Ù„ØªØ± (L)</option>
          </optgroup>
          <optgroup label="Ø§Ù„ÙˆØ²Ù†">
            <option value="oz">Ø£ÙˆÙ†ØµØ© (oz)</option>
            <option value="lb">Ø±Ø·Ù„ (lb)</option>
            <option value="g">Ø¬Ø±Ø§Ù… (g)</option>
            <option value="kg">ÙƒÙŠÙ„ÙˆØ¬Ø±Ø§Ù… (kg)</option>
          </optgroup>
        </select>
      </div>

      <button class="calc-btn" onclick="calcCooking()">ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù‚ÙŠØ§Ø³</button>
      <div class="results" id="r-cooking">
        <h3>Ø§Ù„ÙƒÙ…ÙŠØ© Ø§Ù„Ù…Ø­ÙˆÙ„Ø©</h3>
        <div class="result-highlight"><span class="result-value" id="r-cook-val" style="direction:ltr">â€”</span><div class="result-label" id="r-cook-lbl">Ø§Ù„Ù†ØªÙŠØ¬Ø©</div></div>
        <p class="result-note" style="margin-top:1rem;font-size:0.85rem;">Ù…Ù„Ø§Ø­Ø¸Ø©: Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¨ÙŠÙ† Ø§Ù„Ø­Ø¬Ù… (ÙƒÙˆØ¨/Ù…Ù„) ÙˆØ§Ù„ÙˆØ²Ù† (Ø¬Ø±Ø§Ù…/Ø£ÙˆÙ†ØµØ©) ÙŠØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ ÙƒØ«Ø§ÙØ© Ø§Ù„Ù…ÙƒÙˆÙ†. Ù‡Ø°Ù‡ Ø§Ù„Ø­Ø§Ø³Ø¨Ø© ØªÙ‚ÙˆÙ… Ø¨Ø§Ù„ØªØ­ÙˆÙŠÙ„Ø§Øª Ø§Ù„ØµØ§Ø±Ù…Ø© Ù…Ù† Ø­Ø¬Ù… Ø¥Ù„Ù‰ Ø­Ø¬Ù… Ø£Ùˆ Ù…Ù† ÙˆØ²Ù† Ø¥Ù„Ù‰ ÙˆØ²Ù†.</p>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      scientific: {
        icon: 'ğŸ”¢', title: 'Ø§Ù„Ø¢Ù„Ø© Ø§Ù„Ø­Ø§Ø³Ø¨Ø© Ø§Ù„Ø¹Ù„Ù…ÙŠØ©', desc: 'Ø¢Ù„Ø© Ø­Ø§Ø³Ø¨Ø© Ø¹Ù„Ù…ÙŠØ© ÙƒØ§Ù…Ù„Ø© Ù…Ø¹ Ø¯ÙˆØ§Ù„ Ø§Ù„Ù…Ø«Ù„Ø«Ø§Øª ÙˆØ§Ù„Ù„ÙˆØºØ§Ø±ÙŠØªÙ….',
        html: `
      <div style="background:var(--surface2);border:1px solid var(--border);border-radius:10px;padding:1rem;margin-bottom:1rem;">
        <div id="sci-expr" style="font-size:0.8rem;color:var(--muted);text-align:left;min-height:1rem;margin-bottom:0.25rem;direction:ltr;"></div>
        <div id="sci-display" style="font-family:'Amiri',serif;font-size:2rem;text-align:left;color:var(--accent2);min-height:2.5rem;direction:ltr;word-break:break-all;">0</div>
      </div>
      <div style="display:grid;grid-template-columns:repeat(5,1fr);gap:0.4rem;">
        ${[['sin', 'cos', 'tan', 'log', 'ln'], ['(', ')', 'Ï€', 'e', 'âˆš'], ['7', '8', '9', 'Ã·', 'xÂ²'], ['4', '5', '6', 'Ã—', '^'], ['1', '2', '3', '-', '1/x'], ['Â±', '0', '.', '+', ' '], ['C', 'CE', 'âŒ«', '=', '']].map(row => row.map(k => k ? `<button onclick="sciKey('${k}')" style="padding:0.6rem 0;background:${['='].includes(k) ? 'var(--accent)' : ['C', 'CE', 'âŒ«'].includes(k) ? 'var(--surface)' : 'var(--surface2)'};border:1px solid var(--border);border-radius:8px;color:${['='].includes(k) ? 'white' : 'var(--text)'};cursor:pointer;font-family:inherit;font-size:${['sin', 'cos', 'tan', 'log', 'ln', '1/x'].includes(k) ? '0.72' : '0.9'}rem;font-weight:${['=', '+', '-', 'Ã—', 'Ã·'].includes(k) ? 600 : 400};">${k}</button>` : '<div></div>').join('')).join('')}
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      units: {
        icon: 'ğŸ“', title: 'Ù…Ø­ÙˆÙ„ Ø§Ù„ÙˆØ­Ø¯Ø§Øª', desc: 'Ø­ÙˆÙ‘Ù„ Ø¨ÙŠÙ† ÙˆØ­Ø¯Ø§Øª Ø§Ù„Ø·ÙˆÙ„ ÙˆØ§Ù„ÙˆØ²Ù† ÙˆØ¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø© ÙˆØºÙŠØ±Ù‡Ø§.',
        html: `
      <div class="field-group"><label>Ø§Ù„ÙØ¦Ø©</label>
        <select id="unit-cat" onchange="updateUnitOptions()">
          <option value="length">Ø§Ù„Ø·ÙˆÙ„</option><option value="weight">Ø§Ù„ÙˆØ²Ù† / Ø§Ù„ÙƒØªÙ„Ø©</option>
          <option value="temp">Ø¯Ø±Ø¬Ø© Ø§Ù„Ø­Ø±Ø§Ø±Ø©</option><option value="volume">Ø§Ù„Ø­Ø¬Ù…</option>
          <option value="speed">Ø§Ù„Ø³Ø±Ø¹Ø©</option>
        </select>
      </div>
      <div class="field-row">
        <div class="field-group"><label>Ù…Ù†</label><select id="unit-from"></select></div>
        <div class="field-group"><label>Ø¥Ù„Ù‰</label><select id="unit-to"></select></div>
      </div>
      <div class="field-group"><label>Ø§Ù„Ù‚ÙŠÙ…Ø©</label><input type="number" id="unit-val" value="1" oninput="calcUnits()"></div>
      <div class="results show" id="r-units">
        <div class="result-highlight"><span class="result-value" id="r-unit-result">0</span><div class="result-label" id="r-unit-label">Ø§Ù„Ù†ØªÙŠØ¬Ø©</div></div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },
      pace: {
        icon: 'ğŸƒ', title: 'Ø­Ø§Ø³Ø¨Ø© Ø¥ÙŠÙ‚Ø§Ø¹ Ø§Ù„Ø¬Ø±ÙŠ', desc: 'Ø§Ø­Ø³Ø¨ Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ Ø£Ùˆ ÙˆÙ‚Øª Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡ Ø£Ùˆ Ø§Ù„Ù…Ø³Ø§ÙØ©.',
        html: `
      <div class="field-group"><label>Ø§Ø­Ø³Ø¨</label>
        <select id="pace-solve" onchange="updatePaceFields()">
          <option value="pace">Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ (Ø¨Ù…Ø¹Ø±ÙØ© Ø§Ù„Ù…Ø³Ø§ÙØ© ÙˆØ§Ù„ÙˆÙ‚Øª)</option>
          <option value="time">ÙˆÙ‚Øª Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡ (Ø¨Ù…Ø¹Ø±ÙØ© Ø§Ù„Ù…Ø³Ø§ÙØ© ÙˆØ§Ù„Ø¥ÙŠÙ‚Ø§Ø¹)</option>
          <option value="distance">Ø§Ù„Ù…Ø³Ø§ÙØ© (Ø¨Ù…Ø¹Ø±ÙØ© Ø§Ù„ÙˆÙ‚Øª ÙˆØ§Ù„Ø¥ÙŠÙ‚Ø§Ø¹)</option>
        </select>
      </div>
      <div class="field-row" id="pace-dist-field">
        <div class="field-group"><label>Ø§Ù„Ù…Ø³Ø§ÙØ©</label><div class="input-wrap has-suffix"><input type="number" id="pace-dist" value="5" min="0" step="0.1"><span class="input-suffix">ÙƒÙ…</span></div></div>
      </div>
      <div class="field-row" id="pace-time-field">
        <div class="field-group"><label>Ø³Ø§Ø¹Ø§Øª</label><input type="number" id="pace-h" value="0" min="0"></div>
        <div class="field-group"><label>Ø¯Ù‚Ø§Ø¦Ù‚</label><input type="number" id="pace-m" value="28" min="0"></div>
        <div class="field-group"><label>Ø«ÙˆØ§Ù†ÙŠ</label><input type="number" id="pace-s" value="0" min="0"></div>
      </div>
      <div class="field-group" id="pace-pace-field" style="display:none">
        <label>Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹ (Ø¯Ù‚ÙŠÙ‚Ø©/ÙƒÙ…)</label>
        <div class="field-row">
          <input type="number" id="pace-min" value="5" min="0">
          <input type="number" id="pace-sec" value="30" min="0" max="59">
        </div>
      </div>
      <button class="calc-btn" onclick="calcPace()">Ø§Ø­Ø³Ø¨</button>
      <div class="results" id="r-pace">
        <h3>Ø§Ù„Ù†ØªÙŠØ¬Ø©</h3>
        <div class="result-highlight"><span class="result-value" id="r-pace-result">â€”</span><div class="result-label" id="r-pace-label">Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹</div></div>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },

      retirement: {
        icon: 'ğŸ–ï¸', title: 'Ø­Ø§Ø³Ø¨Ø© Ù…Ø¯Ø®Ø±Ø§Øª Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯', desc: 'Ø§ÙƒØªØ´Ù ÙƒÙ… ØªØ­ØªØ§Ø¬ Ø£Ù† ØªØ¯Ø®Ø± Ø´Ù‡Ø±ÙŠØ§Ù‹ Ù„Ù„ØªÙ‚Ø§Ø¹Ø¯ Ø¨Ø´ÙƒÙ„ Ù…Ø±ÙŠØ­.',
        html: `
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„Ø¹Ù…Ø± Ø§Ù„Ø­Ø§Ù„ÙŠ</label><div class="input-wrap has-suffix"><input type="number" id="ret-age" value="30" min="18" max="80"><span class="input-suffix">Ø³Ù†Ø©</span></div></div>
        <div class="field-group"><label>Ø³Ù† Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯</label><div class="input-wrap has-suffix"><input type="number" id="ret-retire" value="60" min="40" max="90"><span class="input-suffix">Ø³Ù†Ø©</span></div></div>
      </div>
      <div class="field-row">
        <div class="field-group"><label>Ø§Ù„Ù…Ø¯Ø®Ø±Ø§Øª Ø§Ù„Ø­Ø§Ù„ÙŠØ©</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="ret-current" value="50000" min="0"></div></div>
        <div class="field-group"><label>Ø§Ù„Ø§Ø¯Ø®Ø§Ø± Ø§Ù„Ø´Ù‡Ø±ÙŠ</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="ret-contrib" value="2000" min="0"></div></div>
      </div>
      <div class="field-row">
        <div class="field-group"><label>Ù…Ø¹Ø¯Ù„ Ø§Ù„Ø¹Ø§Ø¦Ø¯ Ø§Ù„Ø³Ù†ÙˆÙŠ</label><div class="input-wrap has-suffix"><input type="number" id="ret-return" value="6" step="0.1" min="0" max="30"><span class="input-suffix">%</span></div></div>
        <div class="field-group"><label>Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªØ¶Ø®Ù… Ø§Ù„Ø³Ù†ÙˆÙŠ</label><div class="input-wrap has-suffix"><input type="number" id="ret-inflation" value="3" step="0.1" min="0" max="20"><span class="input-suffix">%</span></div></div>
      </div>
      <div class="field-group"><label>Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ø´Ù‡Ø±ÙŠ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ø¹Ù†Ø¯ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯</label><div class="input-wrap has-prefix"><span class="input-prefix">Ø±.Ø³</span><input type="number" id="ret-goal" value="15000" min="0"></div></div>
      <button class="calc-btn" onclick="calcRetirement()">Ø§Ø­Ø³Ø¨ Ø®Ø·Ø© Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯</button>
      <div class="results" id="r-retirement">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-highlight"><span class="result-value" id="ret-r-nest">0</span><div class="result-label">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…ØªÙˆÙ‚Ø¹ Ø¹Ù†Ø¯ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯</div></div>
        <div class="result-grid">
          <div class="result-item"><span class="result-value" id="ret-r-needed">0</span><div class="result-label">Ø§Ù„Ù…Ø¨Ù„Øº Ø§Ù„Ù…Ø·Ù„ÙˆØ¨ Ù„Ù„ØªÙ‚Ø§Ø¹Ø¯</div></div>
          <div class="result-item"><span class="result-value" id="ret-r-income">0</span><div class="result-label">Ø§Ù„Ø¯Ø®Ù„ Ø§Ù„Ø´Ù‡Ø±ÙŠ (Ù…Ø¹Ø¯Ù‘Ù„ Ù„Ù„ØªØ¶Ø®Ù…)</div></div>
          <div class="result-item"><span class="result-value" id="ret-r-monthly">0</span><div class="result-label">Ø§Ù„Ø§Ø¯Ø®Ø§Ø± Ø§Ù„Ø´Ù‡Ø±ÙŠ Ø§Ù„Ù…ÙˆØµÙ‰ Ø¨Ù‡</div></div>
          <div class="result-item"><span class="result-value" id="ret-r-years">0</span><div class="result-label">Ø³Ù†ÙˆØ§Øª Ø­ØªÙ‰ Ø§Ù„ØªÙ‚Ø§Ø¹Ø¯</div></div>
        </div>
        <div id="ret-r-verdict" style="margin-top:1rem;padding:1rem;border-radius:10px;text-align:center;font-weight:600;font-size:0.95rem;"></div>
        <p class="result-note">ÙŠØ¹ØªÙ…Ø¯ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø¹Ù„Ù‰ <strong>Ù…Ø¹Ø¯Ù„ Ø³Ø­Ø¨ Ø¢Ù…Ù† 4Ùª</strong> Ø³Ù†ÙˆÙŠØ§Ù‹. ØªÙ‚Ø¯ÙŠØ±Ø§Øª Ø§Ù„Ø¹ÙˆØ§Ø¦Ø¯ Ù‚Ø¨Ù„ Ø§Ù„Ø¶Ø±Ø§Ø¦Ø¨. Ø§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ÙØ¹Ù„ÙŠØ© ØªØ¹ØªÙ…Ø¯ Ø¹Ù„Ù‰ Ø£Ø¯Ø§Ø¡ Ø§Ù„Ø³ÙˆÙ‚ ÙˆØ§Ù„ØªØ¶Ø®Ù…. Ø§Ø³ØªØ´Ø± Ù…Ø³ØªØ´Ø§Ø±Ø§Ù‹ Ù…Ø§Ù„ÙŠØ§Ù‹ Ù„Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ Ø®Ø·Ø© Ù…Ø®ØµØµØ©.</p>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      },

      currency: {
        icon: 'ğŸ’±', title: 'Ù…Ø­ÙˆÙ‘Ù„ Ø§Ù„Ø¹Ù…Ù„Ø§Øª',
        desc: 'Ø­ÙˆÙ‘Ù„ Ø¨ÙŠÙ† Ø£ÙƒØ«Ø± Ù…Ù† 30 Ø¹Ù…Ù„Ø© Ø¨Ø£Ø³Ø¹Ø§Ø± ØµØ±Ù Ø­ÙŠØ©.',
        html: `
      <style>
        .cur-swap-btn { background: rgba(108,99,255,0.15); border: 1px solid rgba(108,99,255,0.35); border-radius: 50%; width: 36px; height: 36px; cursor: pointer; color: var(--accent2); font-size: 1.1rem; display: flex; align-items: center; justify-content: center; transition: all 0.2s; flex-shrink: 0; }
        .cur-swap-btn:hover { background: rgba(108,99,255,0.3); transform: rotate(180deg); }
        .cur-row { display: flex; align-items: flex-end; gap: 0.75rem; flex-direction: row-reverse; }
        .cur-row .field-group { flex: 1; }
        .cur-rate-tag { font-size: 0.78rem; color: var(--muted); margin-top: 0.5rem; }
        .cur-rate-tag span { color: var(--accent2); font-weight: 600; }
        .cur-multi { display: grid; grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 0.6rem; margin-top: 0.75rem; }
        .cur-multi-item { background: rgba(255,255,255,0.04); border: 1px solid rgba(255,255,255,0.08); border-radius: 10px; padding: 0.6rem 0.75rem; text-align: right; }
        .cur-multi-item .cur-code { font-size: 0.72rem; color: var(--muted); font-weight: 700; letter-spacing: 0.04em; }
        .cur-multi-item .cur-val { font-size: 1rem; font-weight: 700; color: var(--text); margin-top: 0.1rem; }
        .cur-status { font-size: 0.75rem; margin-bottom: 0.75rem; }
        .cur-status.live { color: var(--green); } .cur-status.cached { color: var(--yellow); } .cur-status.offline { color: var(--muted); }
      </style>
      <div class="cur-status" id="cur-status">â³ Ø¬Ø§Ø±Ù ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ø§Ù„Ø­ÙŠØ©â€¦</div>
      <div class="cur-row">
        <div class="field-group">
          <label>Ø¥Ù„Ù‰</label>
          <select id="cur-to"></select>
        </div>
        <button class="cur-swap-btn" onclick="swapCurrency()" title="ØªØ¨Ø¯ÙŠÙ„">â‡„</button>
        <div class="field-group">
          <label>Ù…Ù†</label>
          <select id="cur-from"></select>
        </div>
        <div class="field-group">
          <label>Ø§Ù„Ù…Ø¨Ù„Øº</label>
          <input type="number" id="cur-amount" value="100" min="0" step="any">
        </div>
      </div>
      <p class="cur-rate-tag" id="cur-rate-tag">1 USD = <span id="cur-rate-display">â€”</span></p>
      <button class="calc-btn" onclick="convertCurrency()" style="margin-top:0.75rem">ØªØ­ÙˆÙŠÙ„</button>
      <div class="results" id="r-currency">
        <h3>Ø§Ù„Ù†ØªØ§Ø¦Ø¬</h3>
        <div class="result-highlight"><span class="result-value" id="cur-r-main">â€”</span><div class="result-label" id="cur-r-label">Ø§Ù„Ù†ØªÙŠØ¬Ø©</div></div>
        <p style="font-size:0.82rem;color:var(--muted);margin-top:0.5rem;margin-bottom:0.75rem">Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø¥Ù„Ù‰ Ø§Ù„Ø¹Ù…Ù„Ø§Øª Ø§Ù„Ø´Ø§Ø¦Ø¹Ø©:</p>
        <div class="cur-multi" id="cur-multi-grid"></div>
        <p class="result-note">Ø§Ù„Ø£Ø³Ø¹Ø§Ø± Ù…Ù‚Ø¯ÙÙ‘Ù…Ø© Ù…Ù† <strong>Frankfurter (Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¨Ù†Ùƒ Ø§Ù„Ù…Ø±ÙƒØ²ÙŠ Ø§Ù„Ø£ÙˆØ±ÙˆØ¨ÙŠ)</strong> ÙˆØªÙØ­Ø¯ÙÙ‘Ø« ÙŠÙˆÙ…ÙŠØ§Ù‹ ÙÙŠ Ø£ÙŠØ§Ù… Ø§Ù„Ø¹Ù…Ù„. ØºÙŠØ± Ù…Ù†Ø§Ø³Ø¨Ø© Ù„Ù„Ù…Ø¹Ø§Ù…Ù„Ø§Øª Ø§Ù„Ù…Ø§Ù„ÙŠØ©.</p>
      </div>
      <div class="modal-ad">Ø¥Ø¹Ù„Ø§Ù† Â· 728Ã—90</div>`
      }
    };

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    //  MODAL OPEN/CLOSE
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    function openCalc(id) {
      const c = calculators[id];
      if (!c) { alert('Ù‡Ø°Ù‡ Ø§Ù„Ø¢Ù„Ø© Ø§Ù„Ø­Ø§Ø³Ø¨Ø© Ù‚Ø±ÙŠØ¨Ø§Ù‹!'); return; }
      document.getElementById('modal-icon').textContent = c.icon;
      document.getElementById('modal-title').textContent = c.title;
      document.getElementById('modal-desc').textContent = c.desc;
      document.getElementById('modal-body').innerHTML = c.html;
      document.getElementById('modal-overlay').classList.add('open');
      document.body.style.overflow = 'hidden';
      if (id === 'age') {
        const today = new Date().toISOString().split('T')[0];
        document.getElementById('age-today').value = today;
        const dob = new Date(); dob.setFullYear(dob.getFullYear() - 30);
        document.getElementById('age-dob').value = dob.toISOString().split('T')[0];
      }
      if (id === 'datediff') {
        const t = new Date();
        document.getElementById('dd-end').value = t.toISOString().split('T')[0];
        t.setMonth(t.getMonth() - 3);
        document.getElementById('dd-start').value = t.toISOString().split('T')[0];
      }
      if (id === 'gpa') initGPA();
      if (id === 'units') updateUnitOptions();
      if (id === 'scientific') { sciExpr = ''; sciDisplay('0'); }
      if (id === 'currency') { curPopulate(); loadCurrencyRates(); }
    }

    function closeModal() { document.getElementById('modal-overlay').classList.remove('open'); document.body.style.overflow = ''; }
    function closeModalOutside(e) { if (e.target === document.getElementById('modal-overlay')) closeModal(); }
    document.addEventListener('keydown', e => { if (e.key === 'Escape') closeModal(); });

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    //  CALCULATION LOGIC (same as English)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    const fmt = (n, d = 0) => n.toLocaleString('en-US', { minimumFractionDigits: d, maximumFractionDigits: d });
    const fmtM = n => fmt(n, 2) + ' Ø±.Ø³';

    function calcMortgage() { const price = parseFloat(document.getElementById('m-price').value) || 0, down = parseFloat(document.getElementById('m-down').value) || 0, rate = parseFloat(document.getElementById('m-rate').value) || 0, term = parseInt(document.getElementById('m-term').value), loan = price - down, r = rate / 100 / 12, n = term * 12, monthly = r === 0 ? loan / n : loan * r * Math.pow(1 + r, n) / (Math.pow(1 + r, n) - 1), total = monthly * n, interest = total - loan; document.getElementById('r-m-monthly').textContent = fmtM(monthly); document.getElementById('r-m-total').textContent = fmtM(total); document.getElementById('r-m-interest').textContent = fmtM(interest); document.getElementById('r-m-loan').textContent = fmtM(loan); const pct = interest / total * 100; document.getElementById('r-m-bar').innerHTML = `<div class="bar-row"><span class="bar-label">Ø£ØµÙ„ Ø§Ù„Ø¯ÙŠÙ†</span><div class="bar-track"><div class="bar-fill" style="width:${100 - pct}%;background:var(--accent)"></div></div><span class="bar-val">${fmtM(loan)}</span></div><div class="bar-row"><span class="bar-label">Ø¥Ø¬Ù…Ø§Ù„ÙŠ Ø§Ù„ÙÙˆØ§Ø¦Ø¯</span><div class="bar-track"><div class="bar-fill" style="width:${pct}%;background:var(--orange)"></div></div><span class="bar-val">${fmtM(interest)}</span></div>`; document.getElementById('r-mortgage').classList.add('show'); }
    function calcLoan() { const amt = parseFloat(document.getElementById('l-amount').value) || 0, rate = parseFloat(document.getElementById('l-rate').value) || 0, n = parseInt(document.getElementById('l-term').value), r = rate / 100 / 12, monthly = r === 0 ? amt / n : amt * r * Math.pow(1 + r, n) / (Math.pow(1 + r, n) - 1), total = monthly * n; document.getElementById('r-l-monthly').textContent = fmtM(monthly); document.getElementById('r-l-total').textContent = fmtM(total); document.getElementById('r-l-interest').textContent = fmtM(total - amt); document.getElementById('r-loan').classList.add('show'); }
    function calcCompound() { const p = parseFloat(document.getElementById('ci-principal').value) || 0, r = parseFloat(document.getElementById('ci-rate').value) / 100, t = parseFloat(document.getElementById('ci-years').value) || 0, n = parseInt(document.getElementById('ci-freq').value), contrib = parseFloat(document.getElementById('ci-contrib').value) || 0, fv = p * Math.pow(1 + r / n, n * t), fvC = contrib * ((Math.pow(1 + r / n, n * t) - 1) / (r / n)), total = fv + fvC, contributed = p + contrib * 12 * t; document.getElementById('r-ci-final').textContent = fmtM(total); document.getElementById('r-ci-contributed').textContent = fmtM(contributed); document.getElementById('r-ci-earned').textContent = fmtM(total - contributed); document.getElementById('r-compound').classList.add('show'); }
    function calcTip() { const bill = parseFloat(document.getElementById('t-bill').value) || 0, tipPct = parseFloat(document.getElementById('t-tip').value) || 0, people = parseInt(document.getElementById('t-people').value) || 1, tip = bill * tipPct / 100, total = bill + tip; document.getElementById('r-t-tip').textContent = fmtM(tip); document.getElementById('r-t-total').textContent = fmtM(total); document.getElementById('r-t-per').textContent = fmtM(total / people); document.getElementById('r-tip').classList.add('show'); }
    function updateBmiFields() { const u = document.getElementById('bmi-unit').value; document.getElementById('bmi-imperial-fields').style.display = u === 'imperial' ? '' : 'none'; document.getElementById('bmi-metric-fields').style.display = u === 'metric' ? '' : 'none'; }
    function calcBMI() { const u = document.getElementById('bmi-unit').value; let bmi; if (u === 'imperial') { const lbs = parseFloat(document.getElementById('bmi-lbs').value) || 0, h = parseFloat(document.getElementById('bmi-inches').value) || 1; bmi = (lbs / (h * h)) * 703; const low = 18.5 * h * h / 703, high = 24.9 * h * h / 703; document.getElementById('r-bmi-low').textContent = fmt(low, 0); document.getElementById('r-bmi-high').textContent = fmt(high, 0); } else { const kg = parseFloat(document.getElementById('bmi-kg').value) || 0, cm = parseFloat(document.getElementById('bmi-cm').value) || 1, hm = cm / 100; bmi = kg / (hm * hm); document.getElementById('r-bmi-low').textContent = fmt(18.5 * hm * hm, 1) + ' ÙƒØ¬Ù…'; document.getElementById('r-bmi-high').textContent = fmt(24.9 * hm * hm, 1) + ' ÙƒØ¬Ù…'; } document.getElementById('r-bmi-val').textContent = fmt(bmi, 1); const cats = [[18.5, 'Ù†Ø­Ø§ÙØ©', 'var(--blue)'], [25, 'ÙˆØ²Ù† Ø·Ø¨ÙŠØ¹ÙŠ âœ“', 'var(--green)'], [30, 'Ø²ÙŠØ§Ø¯Ø© ÙˆØ²Ù†', 'var(--yellow)'], [Infinity, 'Ø³Ù…Ù†Ø©', 'var(--pink)']]; const cat = cats.find(c => bmi < c[0]); const el = document.getElementById('r-bmi-cat'); el.textContent = cat[1]; el.style.color = cat[2]; document.getElementById('r-bmi').classList.add('show'); }
    function calcCalories() { const age = parseFloat(document.getElementById('cal-age').value) || 0, sex = document.getElementById('cal-sex').value, wt = parseFloat(document.getElementById('cal-weight').value) || 0, ht = parseFloat(document.getElementById('cal-height').value) || 0, act = parseFloat(document.getElementById('cal-activity').value), goal = parseInt(document.getElementById('cal-goal').value), kg = wt * 0.453592, cm = ht * 2.54, bmr = sex === 'male' ? 10 * kg + 6.25 * cm - 5 * age + 5 : 10 * kg + 6.25 * cm - 5 * age - 161, tdee = bmr * act, target = tdee + goal; document.getElementById('r-cal-bmr').textContent = fmt(bmr, 0) + ' Ø³Ø¹Ø±Ø©'; document.getElementById('r-cal-tdee').textContent = fmt(tdee, 0) + ' Ø³Ø¹Ø±Ø©'; document.getElementById('r-cal-target').textContent = fmt(target, 0); document.getElementById('r-calories').classList.add('show'); }
    function calcMacros() { const cals = parseFloat(document.getElementById('mac-cal').value) || 2000, goal = document.getElementById('mac-goal').value, splits = { cut: [0.4, 0.35, 0.25], maintain: [0.3, 0.4, 0.3], bulk: [0.25, 0.5, 0.25] }, [p, c, f] = splits[goal], protein = cals * p / 4, carbs = cals * c / 4, fat = cals * f / 9; document.getElementById('r-mac-protein').textContent = fmt(protein, 0) + 'g'; document.getElementById('r-mac-carbs').textContent = fmt(carbs, 0) + 'g'; document.getElementById('r-mac-fat').textContent = fmt(fat, 0) + 'g'; document.getElementById('r-mac-bar').innerHTML = `<div class="bar-row"><span class="bar-label">Ø¨Ø±ÙˆØªÙŠÙ†</span><div class="bar-track"><div class="bar-fill" style="width:${p * 100}%;background:var(--pink)"></div></div><span class="bar-val">${(p * 100).toFixed(0)}Ùª</span></div><div class="bar-row"><span class="bar-label">ÙƒØ±Ø¨ÙˆÙ‡ÙŠØ¯Ø±Ø§Øª</span><div class="bar-track"><div class="bar-fill" style="width:${c * 100}%;background:var(--yellow)"></div></div><span class="bar-val">${(c * 100).toFixed(0)}Ùª</span></div><div class="bar-row"><span class="bar-label">Ø¯Ù‡ÙˆÙ†</span><div class="bar-track"><div class="bar-fill" style="width:${f * 100}%;background:var(--orange)"></div></div><span class="bar-val">${(f * 100).toFixed(0)}Ùª</span></div>`; document.getElementById('r-macros').classList.add('show'); }

    // BODY FAT (AR)
    function calcBodyFat() {
      const g = document.getElementById('bf-gender').value;
      const w = parseFloat(document.getElementById('bf-weight').value) || 0;
      const h = parseFloat(document.getElementById('bf-height').value) || 0;
      const n = parseFloat(document.getElementById('bf-neck').value) || 0;
      const wa = parseFloat(document.getElementById('bf-waist').value) || 0;
      const hip = parseFloat(document.getElementById('bf-hip').value) || 0;
      if (!w || !h || !n || !wa || (g === 'female' && !hip)) return;

      let bf = 0;
      if (g === 'male') {
        const val = wa - n;
        if (val > 0) bf = 495 / (1.0324 - 0.19077 * Math.log10(val) + 0.15456 * Math.log10(h)) - 450;
      } else {
        const val = wa + hip - n;
        if (val > 0) bf = 495 / (1.29579 - 0.35004 * Math.log10(val) + 0.22100 * Math.log10(h)) - 450;
      }

      if (isNaN(bf) || bf < 1 || bf > 80) bf = 0;

      const fm = w * (bf / 100);
      const lm = w - fm;

      let cat = 'â€”';
      if (bf > 0) {
        if (g === 'male') {
          if (bf < 6) cat = 'Ø¯Ù‡ÙˆÙ† Ø£Ø³Ø§Ø³ÙŠØ©';
          else if (bf < 14) cat = 'Ø±ÙŠØ§Ø¶ÙŠÙˆÙ†';
          else if (bf < 18) cat = 'Ù„ÙŠØ§Ù‚Ø©';
          else if (bf < 25) cat = 'Ù…ØªÙˆØ³Ø·';
          else cat = 'Ø³Ù…Ù†Ø©';
        } else {
          if (bf < 14) cat = 'Ø¯Ù‡ÙˆÙ† Ø£Ø³Ø§Ø³ÙŠØ©';
          else if (bf < 21) cat = 'Ø±ÙŠØ§Ø¶ÙŠÙˆÙ†';
          else if (bf < 25) cat = 'Ù„ÙŠØ§Ù‚Ø©';
          else if (bf < 32) cat = 'Ù…ØªÙˆØ³Ø·';
          else cat = 'Ø³Ù…Ù†Ø©';
        }
      }

      document.getElementById('r-bf-pct').textContent = bf > 0 ? fmt(bf, 1) + 'Ùª' : 'Ù‚ÙŠØ§Ø³Ø§Øª ØºÙŠØ± ØµØ§Ù„Ø­Ø©';
      document.getElementById('r-bf-category').textContent = cat;
      document.getElementById('r-bf-fatmass').textContent = bf > 0 ? fmt(fm, 1) + ' ÙƒØ¬Ù…' : 'â€”';
      document.getElementById('r-bf-leanmass').textContent = bf > 0 ? fmt(lm, 1) + ' ÙƒØ¬Ù…' : 'â€”';

      document.getElementById('r-bodyfat').classList.add('show');
    }
    function calcSalary() { const amt = parseFloat(document.getElementById('sal-amount').value) || 0, period = document.getElementById('sal-period').value, hrs = parseFloat(document.getElementById('sal-hours').value) || 40; let annual; if (period === 'hour') annual = amt * hrs * 52; else if (period === 'day') annual = amt * 5 * 52; else if (period === 'week') annual = amt * 52; else if (period === 'month') annual = amt * 12; else annual = amt; document.getElementById('r-sal-hour').textContent = fmtM(annual / 52 / hrs); document.getElementById('r-sal-day').textContent = fmtM(annual / 260); document.getElementById('r-sal-week').textContent = fmtM(annual / 52); document.getElementById('r-sal-month').textContent = fmtM(annual / 12); document.getElementById('r-sal-year').textContent = fmtM(annual); document.getElementById('r-salary').classList.add('show'); }
    function calcPct1() { document.getElementById('r-p1').textContent = fmt((parseFloat(document.getElementById('p1-x').value) || 0) / 100 * (parseFloat(document.getElementById('p1-y').value) || 0), 2); }
    function calcPct2() { document.getElementById('r-p2').textContent = fmt((parseFloat(document.getElementById('p2-x').value) || 0) / (parseFloat(document.getElementById('p2-y').value) || 1) * 100, 2) + 'Ùª'; }
    function calcPct3() { const x = parseFloat(document.getElementById('p3-x').value) || 0, y = parseFloat(document.getElementById('p3-y').value) || 0, pct = (y - x) / Math.abs(x || 1) * 100; const el = document.getElementById('r-p3'); el.textContent = (pct >= 0 ? '+' : '') + fmt(pct, 2) + 'Ùª'; el.style.color = pct >= 0 ? 'var(--green)' : 'var(--pink)'; }
    function calcAge() { const dob = new Date(document.getElementById('age-dob').value), ref = new Date(document.getElementById('age-today').value); let years = ref.getFullYear() - dob.getFullYear(), months = ref.getMonth() - dob.getMonth(); if (months < 0 || (months === 0 && ref.getDate() < dob.getDate())) { years--; months += 12; } const days = Math.floor((ref - dob) / 86400000); const next = new Date(ref.getFullYear(), dob.getMonth(), dob.getDate()); if (next <= ref) next.setFullYear(next.getFullYear() + 1); const daysToB = Math.floor((next - ref) / 86400000); document.getElementById('r-age-years').textContent = years; document.getElementById('r-age-months').textContent = fmt(years * 12 + months, 0); document.getElementById('r-age-days').textContent = fmt(days, 0); document.getElementById('r-age-next').textContent = daysToB === 0 ? 'ğŸ‰ Ø§Ù„ÙŠÙˆÙ…!' : daysToB; document.getElementById('r-age').classList.add('show'); }
    function initGPA() { document.getElementById('gpa-rows').innerHTML = ''; for (let i = 0; i < 4; i++)addGpaRow(); }
    function addGpaRow() { const d = document.createElement('div'); d.style.cssText = 'display:grid;grid-template-columns:1fr 110px 80px;gap:0.5rem;margin-bottom:0.5rem;'; d.innerHTML = `<input type="text" placeholder="Ø§Ø³Ù… Ø§Ù„Ù…Ø§Ø¯Ø©" style="background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:0.55rem 0.75rem;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.9rem;color:var(--text);outline:none;text-align:right;"><select style="background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:0.55rem;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.88rem;color:var(--text);outline:none;"><option value="4">A (4.0)</option><option value="3.7">A- (3.7)</option><option value="3.3">B+ (3.3)</option><option value="3">B (3.0)</option><option value="2.7">B- (2.7)</option><option value="2.3">C+ (2.3)</option><option value="2">C (2.0)</option><option value="1">D (1.0)</option><option value="0">F (0.0)</option></select><input type="number" value="3" min="0" max="6" style="background:var(--surface2);border:1px solid var(--border);border-radius:8px;padding:0.55rem;font-family:'IBM Plex Sans Arabic',sans-serif;font-size:0.9rem;color:var(--text);outline:none;">`; document.getElementById('gpa-rows').appendChild(d); }
    function calcGPA() { const rows = document.getElementById('gpa-rows').children; let pts = 0, creds = 0; for (const row of rows) { const grade = parseFloat(row.querySelector('select').value), credits = parseFloat(row.querySelectorAll('input[type=number]')[0]?.value || 3); if (isNaN(grade) || isNaN(credits)) continue; pts += grade * credits; creds += credits; } const gpa = creds > 0 ? pts / creds : 0; document.getElementById('r-gpa-val').textContent = gpa.toFixed(2); document.getElementById('r-gpa-credits').textContent = creds; const letter = gpa >= 3.7 ? 'A+' : gpa >= 3.3 ? 'A' : gpa >= 3 ? 'A-' : gpa >= 2.7 ? 'B+' : gpa >= 2.3 ? 'B' : gpa >= 2 ? 'B-' : gpa >= 1.7 ? 'C+' : gpa >= 1 ? 'C' : 'F'; document.getElementById('r-gpa-letter').textContent = letter; document.getElementById('r-gpa').classList.add('show'); }
    function calcFuelAR() { const dist = parseFloat(document.getElementById('fuel-dist').value) || 0, l100 = parseFloat(document.getElementById('fuel-mpg').value) || 1, price = parseFloat(document.getElementById('fuel-price').value) || 0, liters = dist * l100 / 100, cost = liters * price; document.getElementById('r-fuel-cost').textContent = fmt(cost, 2); document.getElementById('r-fuel-liters').textContent = fmt(liters, 1) + ' Ù„ØªØ±'; document.getElementById('r-fuel-per100').textContent = fmt(l100 * price, 2) + ' Ø±.Ø³'; document.getElementById('r-fuel').classList.add('show'); }
    function calcWaterAR() { const kg = parseFloat(document.getElementById('wat-weight').value) || 0, act = parseFloat(document.getElementById('wat-activity').value), ml = kg * 35 * act; document.getElementById('r-wat-liters').textContent = fmt(ml / 1000, 1) + ' Ù„ØªØ±'; document.getElementById('r-wat-cups').textContent = fmt(ml / 240, 1); document.getElementById('r-wat-ml').textContent = fmt(ml, 0) + ' Ù…Ù„'; document.getElementById('r-water').classList.add('show'); }
    function calcTax() { const price = parseFloat(document.getElementById('stax-price').value) || 0, rate = parseFloat(document.getElementById('stax-rate').value) || 0, mode = document.getElementById('stax-mode').value; let pre, taxAmt, total; if (mode === 'add') { pre = price; taxAmt = price * rate / 100; total = pre + taxAmt; } else { total = price; pre = price / (1 + rate / 100); taxAmt = total - pre; } document.getElementById('r-tax-pre').textContent = fmtM(pre); document.getElementById('r-tax-amount').textContent = fmtM(taxAmt); document.getElementById('r-tax-total').textContent = fmtM(total); document.getElementById('r-tax').classList.add('show'); }

    // INFLATION (AR)
    function calcInflation() {
      const amount = parseFloat(document.getElementById('inf-amount').value) || 0;
      const rate = parseFloat(document.getElementById('inf-rate').value) / 100 || 0;
      const years = parseInt(document.getElementById('inf-years').value) || 0;
      const futureNeed = amount * Math.pow(1 + rate, years);
      const futureValue = amount / Math.pow(1 + rate, years);
      const lost = amount - futureValue;
      const cumulative = (Math.pow(1 + rate, years) - 1) * 100;
      const futureYear = new Date().getFullYear() + years;

      document.getElementById('r-inf-value').textContent = fmtM(futureValue);
      document.getElementById('r-inf-cumulative').textContent = fmt(cumulative, 1) + 'Ùª';
      document.getElementById('r-inf-lost').textContent = fmtM(lost);

      const noteAmountEl = document.getElementById('r-inf-amount-note');
      if (noteAmountEl) noteAmountEl.textContent = amount.toLocaleString('en-US', { minimumFractionDigits: 0, maximumFractionDigits: 2 });

      const noteNeedEl = document.getElementById('r-inf-future-need');
      if (noteNeedEl) noteNeedEl.textContent = fmtM(futureNeed);

      const yearEl = document.getElementById('r-inf-future-year');
      if (yearEl) yearEl.textContent = futureYear;

      document.getElementById('r-inflation').classList.add('show');
    }

    // RETIREMENT (AR)
    function calcRetirement() {
      const currentAge = parseFloat(document.getElementById('ret-age').value) || 30;
      const retireAge = parseFloat(document.getElementById('ret-retire').value) || 60;
      const currentSav = parseFloat(document.getElementById('ret-current').value) || 0;
      const monthlyContr = parseFloat(document.getElementById('ret-contrib').value) || 0;
      const annualReturn = parseFloat(document.getElementById('ret-return').value) / 100 || 0.06;
      const inflation = parseFloat(document.getElementById('ret-inflation').value) / 100 || 0.03;
      const monthlyGoal = parseFloat(document.getElementById('ret-goal').value) || 15000;

      const years = Math.max(retireAge - currentAge, 1);
      const months = years * 12;
      const r = annualReturn / 12;

      const fvCurrent = currentSav * Math.pow(1 + r, months);
      const fvContrib = r > 0
        ? monthlyContr * ((Math.pow(1 + r, months) - 1) / r)
        : monthlyContr * months;
      const projectedNestEgg = fvCurrent + fvContrib;

      const inflatedGoal = monthlyGoal * Math.pow(1 + inflation, years);
      const neededNestEgg = inflatedGoal * 12 / 0.04;

      const supportedMonthlyInflated = projectedNestEgg * 0.04 / 12;
      const supportedMonthlyToday = supportedMonthlyInflated / Math.pow(1 + inflation, years);

      const gap = neededNestEgg - fvCurrent;
      let recommendedMonthly = r > 0
        ? gap * r / (Math.pow(1 + r, months) - 1)
        : gap / months;
      recommendedMonthly = Math.max(0, recommendedMonthly);

      const fmtAR = n => fmt(Math.abs(n), 0) + ' Ø±.Ø³';

      document.getElementById('ret-r-nest').textContent = fmtAR(projectedNestEgg);
      document.getElementById('ret-r-needed').textContent = fmtAR(neededNestEgg);
      document.getElementById('ret-r-income').textContent = fmtAR(supportedMonthlyToday) + '/Ø´Ù‡Ø±';
      document.getElementById('ret-r-monthly').textContent = fmtAR(recommendedMonthly) + '/Ø´Ù‡Ø±';
      document.getElementById('ret-r-years').textContent = years + ' Ø³Ù†Ø©';

      const verdict = document.getElementById('ret-r-verdict');
      if (projectedNestEgg >= neededNestEgg) {
        verdict.style.background = 'rgba(34,211,160,0.12)';
        verdict.style.border = '1px solid rgba(34,211,160,0.3)';
        verdict.style.color = '#22d3a0';
        const surplus = projectedNestEgg - neededNestEgg;
        verdict.textContent = `âœ… Ø£Ù†Øª ÙÙŠ Ø§Ù„Ù…Ø³Ø§Ø± Ø§Ù„ØµØ­ÙŠØ­! ØªØªØ¬Ø§ÙˆØ² Ø®Ø·ØªÙƒ Ø§Ù„Ù‡Ø¯Ù Ø¨ÙØ§Ø¦Ø¶ ${fmtAR(surplus)}.`;
      } else {
        const shortfall = neededNestEgg - projectedNestEgg;
        verdict.style.background = 'rgba(255,140,66,0.1)';
        verdict.style.border = '1px solid rgba(255,140,66,0.3)';
        verdict.style.color = '#ff8c42';
        verdict.textContent = `âš ï¸ Ø¹Ø¬Ø² Ø¨Ù…Ù‚Ø¯Ø§Ø± ${fmtAR(shortfall)}. Ø²Ø¯ Ø§Ø¯Ø®Ø§Ø±Ùƒ Ø§Ù„Ø´Ù‡Ø±ÙŠ Ø¥Ù„Ù‰ ${fmtAR(recommendedMonthly)} Ù„ØªØ­Ù‚ÙŠÙ‚ Ù‡Ø¯ÙÙƒ.`;
      }
      document.getElementById('r-retirement').classList.add('show');
    }

    function calcROI() { const invest = parseFloat(document.getElementById('roi-invest').value) || 1, final = parseFloat(document.getElementById('roi-final').value) || 0, years = parseFloat(document.getElementById('roi-years').value) || 1, profit = final - invest, roi = profit / invest * 100, annualRoi = (Math.pow(final / invest, 1 / years) - 1) * 100; const el = document.getElementById('r-roi-pct'); el.textContent = (roi >= 0 ? '+' : '') + fmt(roi, 1) + 'Ùª'; el.style.color = roi >= 0 ? 'var(--green)' : 'var(--pink)'; document.getElementById('r-roi-profit').textContent = (profit >= 0 ? '' : '-') + fmt(Math.abs(profit), 2) + ' Ø±.Ø³'; document.getElementById('r-roi-annual').textContent = (annualRoi >= 0 ? '+' : '') + fmt(annualRoi, 1) + 'Ùª'; document.getElementById('r-roi').classList.add('show'); }
    function calcCreditCard() { const balance = parseFloat(document.getElementById('cc-balance').value) || 0, apr = parseFloat(document.getElementById('cc-apr').value) || 0, payment = parseFloat(document.getElementById('cc-payment').value) || 0, r = apr / 100 / 12; if (payment <= balance * r) { document.getElementById('r-cc-months').textContent = 'âˆ (Ø§Ù„Ø¯ÙØ¹Ø© Ù…Ù†Ø®ÙØ¶Ø© Ø¬Ø¯Ø§Ù‹)'; document.getElementById('r-cc-interest').textContent = 'âˆ'; document.getElementById('r-cc-total').textContent = 'âˆ'; document.getElementById('r-cc').classList.add('show'); return; } const months = Math.ceil(-Math.log(1 - (r * balance / payment)) / Math.log(1 + r)), totalPaid = payment * months; document.getElementById('r-cc-months').textContent = months < 12 ? months + ' Ø´Ù‡Ø±' : (months / 12).toFixed(1) + ' Ø³Ù†ÙˆØ§Øª'; document.getElementById('r-cc-interest').textContent = fmtM(totalPaid - balance); document.getElementById('r-cc-total').textContent = fmtM(totalPaid); document.getElementById('r-cc').classList.add('show'); }
    // PREGNANCY (AR)
    function calcPregnancy() {
      const lmpVal = document.getElementById('preg-lmp').value;
      if (!lmpVal) { alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø£ÙˆÙ„ Ù…Ù† Ø¢Ø®Ø± Ø¯ÙˆØ±Ø© Ø´Ù‡Ø±ÙŠØ©.'); return; }
      const lmpDate = new Date(lmpVal);
      lmpDate.setHours(0, 0, 0, 0);

      const cycleLen = parseInt(document.getElementById('preg-cycle').value) || 28;
      const adjustedDays = 280 + (cycleLen - 28);

      const edd = new Date(lmpDate);
      edd.setDate(edd.getDate() + adjustedDays);

      const conception = new Date(edd);
      conception.setDate(conception.getDate() - 266);

      const today = new Date();
      today.setHours(0, 0, 0, 0);

      const diffMs = today - lmpDate;
      const currentDays = Math.floor(diffMs / 86400000);

      let weekDayStr = 'â€”';
      let trimester = 'â€”';
      let remaining = 'â€”';

      if (currentDays >= 0 && currentDays <= adjustedDays) {
        const weeks = Math.floor(currentDays / 7);
        const days = currentDays % 7;
        weekDayStr = `Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ ${weeks}ØŒ Ø§Ù„ÙŠÙˆÙ… ${days}`;

        if (weeks < 13) trimester = 'Ø§Ù„Ø£ÙˆÙ„ (Ù¡-Ù¡Ù¢ Ø£Ø³Ø¨ÙˆØ¹)';
        else if (weeks < 27) trimester = 'Ø§Ù„Ø«Ø§Ù†ÙŠ (Ù¡Ù£-Ù¢Ù¦ Ø£Ø³Ø¨ÙˆØ¹)';
        else trimester = 'Ø§Ù„Ø«Ø§Ù„Ø« (Ù¢Ù§-Ù¤Ù + Ø£Ø³Ø¨ÙˆØ¹)';

        remaining = (adjustedDays - currentDays) + ' ÙŠÙˆÙ…';
      } else if (currentDays > adjustedDays) {
        weekDayStr = 'ØªØ¬Ø§ÙˆØ²Øª Ø§Ù„Ù…ÙˆØ¹Ø¯';
        remaining = 'Ù  ÙŠÙˆÙ…';
        trimester = 'Ø§Ù„Ø«Ø§Ù„Ø« (Ù…ØªØ£Ø®Ø±Ø©)';
      } else {
        weekDayStr = 'ØªÙ… Ø§Ø®ØªÙŠØ§Ø± ØªØ§Ø±ÙŠØ® Ù…Ø³ØªÙ‚Ø¨Ù„ÙŠ';
      }

      const opts = { month: 'long', day: 'numeric', year: 'numeric' };
      document.getElementById('r-preg-edd').textContent = edd.toLocaleDateString('ar-SA', opts);
      document.getElementById('r-preg-days-left').textContent = remaining;
      document.getElementById('r-preg-week').textContent = weekDayStr;
      document.getElementById('r-preg-trimester').textContent = trimester;
      document.getElementById('r-preg-conception').textContent = conception.toLocaleDateString('ar-SA', opts);


      // â”€â”€ Fetus visualization (AR) â”€â”€
      const fetusData = [
        ['ğŸ”¬', 'Ù…Ø¬Ù‡Ø±ÙŠ', '< 0.1 Ù…Ù…', 'â€”', 'Ø§Ù„Ø¨ÙˆÙŠØ¶Ø© Ø§Ù„Ù…Ø®ØµØ¨Ø© ØªØ¨Ø¯Ø£ Ø¨Ø§Ù„Ø§Ù†Ù‚Ø³Ø§Ù…'],
        ['ğŸ”¬', 'Ù…Ø¬Ù‡Ø±ÙŠ', '< 0.1 Ù…Ù…', 'â€”', 'Ø§Ù„Ø®Ù„Ø§ÙŠØ§ ØªØ³ØªÙ…Ø± Ø¨Ø§Ù„Ø§Ù†Ù‚Ø³Ø§Ù… Ø§Ù„Ø³Ø±ÙŠØ¹'],
        ['ğŸ”¬', 'Ù…Ø¬Ù‡Ø±ÙŠ', '0.1 Ù…Ù…', 'â€”', 'Ø§Ù„ÙƒÙŠØ³Ø© Ø§Ù„Ø£Ø±ÙŠÙ…ÙŠØ© ØªÙ†ØºØ±Ø³ ÙÙŠ Ø§Ù„Ø±Ø­Ù…'],
        ['ğŸ”¬', 'Ù…Ø¬Ù‡Ø±ÙŠ', '0.2 Ù…Ù…', 'â€”', 'ÙŠØ¨Ø¯Ø£ ØªÙƒÙˆÙ‘Ù† Ø§Ù„Ø¬Ù†ÙŠÙ† ÙˆØ§Ù„Ø£Ù†Ø¨ÙˆØ¨ Ø§Ù„Ø¹ØµØ¨ÙŠ'],
        ['ğŸŒ°', 'Ø¨Ø°Ø±Ø© Ø®Ø´Ø®Ø§Ø´', '1 Ù…Ù…', '< 1 Øº', 'ÙŠØ¨Ø¯Ø£ Ø§Ù„Ù‚Ù„Ø¨ Ø¨Ø§Ù„Ù†Ø¨Ø¶ ÙˆØ§Ù„Ø¯Ù…Ø§Øº Ø¨Ø§Ù„ØªØ´ÙƒÙ‘Ù„'],
        ['ğŸ«˜', 'Ø¨Ø°Ø±Ø© Ø³Ù…Ø³Ù…', '2 Ù…Ù…', '< 1 Øº', 'ØªØ¸Ù‡Ø± Ø¨Ø±Ø§Ø¹Ù… Ø§Ù„Ø°Ø±Ø§Ø¹ÙŠÙ† ÙˆØ§Ù„Ø³Ø§Ù‚ÙŠÙ†'],
        ['ğŸ«', 'Ø­Ø¨Ø© Ø¹Ø¯Ø³', '5 Ù…Ù…', '< 1 Øº', 'ÙŠØªØ´ÙƒÙ„ Ø§Ù„Ø£Ù†Ù ÙˆØ§Ù„ÙÙ… ÙˆØ§Ù„Ø£Ø°Ù†Ø§Ù†'],
        ['ğŸ«', 'Ø­Ø¨Ø© ØªÙˆØª', '1.3 Ø³Ù…', '< 1 Øº', 'ØªØ¨Ø¯Ø£ Ø§Ù„Ø£ØµØ§Ø¨Ø¹ Ø¨Ø§Ù„ØªÙƒÙˆÙ‘Ù†'],
        ['ğŸ‡', 'Ø­Ø¨Ø© ØªÙˆØª ÙƒØ¨ÙŠØ±Ø©', '1.6 Ø³Ù…', '1 Øº', 'Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ø¹Ø¶Ø§Ø¡ Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ© ØªØªØ´ÙƒÙ‘Ù„'],
        ['ğŸ«’', 'Ø²ÙŠØªÙˆÙ†Ø©', '2.3 Ø³Ù…', '2 Øº', 'Ø§Ù„Ø¹Ø¸Ø§Ù… ØªØ¨Ø¯Ø£ Ø¨Ø§Ù„ØªØµÙ„Ù‘Ø¨'],
        ['ğŸ“', 'ÙØ±Ø§ÙˆÙ„Ø©', '3.1 Ø³Ù…', '4 Øº', 'Ø§Ù„Ø£Ø¸Ø§ÙØ± ØªÙ†Ù…Ùˆ ÙˆÙŠØ¨Ø¯Ø£ Ø¨Ø§Ù„ÙÙˆØ§Ù‚'],
        ['ğŸ‹', 'Ù„ÙŠÙ…ÙˆÙ†Ø© Ø®Ø¶Ø±Ø§Ø¡', '4.1 Ø³Ù…', '7 Øº', 'Ø§Ù„Ø­Ø¨Ø§Ù„ Ø§Ù„ØµÙˆØªÙŠØ© ØªØªØ´ÙƒÙ‘Ù„'],
        ['ğŸ‹', 'Ù„ÙŠÙ…ÙˆÙ†Ø©', '5.4 Ø³Ù…', '14 Øº', 'Ø§Ù„Ø¨ØµÙ…Ø§Øª ØªØªØ´ÙƒÙ‘Ù„'],
        ['ğŸŠ', 'Ø¨Ø±ØªÙ‚Ø§Ù„Ø©', '7.4 Ø³Ù…', '23 Øº', 'ÙŠØ³ØªØ´Ø¹Ø± Ø§Ù„Ø¶ÙˆØ¡ ÙˆÙŠÙ†Ù…Ùˆ Ø§Ù„Ø´Ø¹Ø±'],
        ['ğŸ', 'ØªÙØ§Ø­Ø©', '8.7 Ø³Ù…', '42 Øº', 'ÙŠØ³Ù…Ø¹ Ø§Ù„Ø£ØµÙˆØ§Øª ÙˆØ¨Ø±Ø§Ø¹Ù… Ø§Ù„ØªØ°ÙˆÙ‚ ØªÙ†Ø´Ø·'],
        ['ğŸ', 'Ø£ÙÙˆÙƒØ§Ø¯Ùˆ', '10.1 Ø³Ù…', '70 Øº', 'Ø§Ù„Ù‡ÙŠÙƒÙ„ ÙŠØªØµÙ„Ù‘Ø¨ ÙˆÙŠÙ…ÙƒÙ†Ù‡ Ø¹Ù…Ù„ ØªØ¹Ø§Ø¨ÙŠØ±'],
        ['ğŸ«‘', 'ÙƒÙ…Ø«Ø±Ù‰', '11.6 Ø³Ù…', '100 Øº', 'ÙŠØªØ«Ø§Ø¡Ø¨ ÙˆÙŠØªÙ…Ø¯Ø¯'],
        ['ğŸ¥­', 'Ù…Ø§Ù†Ø¬Ùˆ', '13.2 Ø³Ù…', '140 Øº', 'Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ø¹ØµØ¨ÙŠ ÙŠÙ†Ø¶Ø¬'],
        ['ğŸ¥­', 'Ù…Ø§Ù†Ø¬Ùˆ', '14.2 Ø³Ù…', '190 Øº', 'Ø§Ù„Ø´Ø¹Ø± ÙŠÙ†Ù…Ùˆ Ø¹Ù„Ù‰ Ø§Ù„Ø±Ø£Ø³'],
        ['ğŸŒ', 'Ù…ÙˆØ²Ø©', '15.3 Ø³Ù…', '240 Øº', 'ÙŠØ¨ØªÙ„Ø¹ Ø§Ù„Ø³Ø§Ø¦Ù„ Ø§Ù„Ø£Ù…Ù†ÙŠÙˆØ³ÙŠ Ø¨Ø§Ù†ØªØ¸Ø§Ù…'],
        ['ğŸ¥•', 'Ø¬Ø²Ø±Ø©', '16.7 Ø³Ù…', '300 Øº', 'Ø¯ÙˆØ±Ø§Øª Ø§Ù„Ù†ÙˆÙ… ÙˆØ§Ù„Ø§Ø³ØªÙŠÙ‚Ø§Ø¸ ØªØ¨Ø¯Ø£'],
        ['ğŸ¥•', 'Ù‚Ø±Ø¹Ø© ØµØºÙŠØ±Ø©', '19.2 Ø³Ù…', '350 Øº', 'Ø§Ù„Ø¬ÙÙˆÙ† ØªÙ†ÙØªØ­ ÙˆØ§Ù„Ø±Ø¦ØªØ§Ù† ØªØªØ·ÙˆØ±Ø§Ù†'],
        ['ğŸŒ½', 'ÙƒÙˆØ² Ø°Ø±Ø©', '21.6 Ø³Ù…', '430 Øº', 'ÙŠØ³ØªØ¬ÙŠØ¨ Ù„Ù„Ø£ØµÙˆØ§Øª ÙˆØ§Ù„Ù…ÙˆØ³ÙŠÙ‚Ù‰'],
        ['ğŸŒ½', 'ÙƒÙˆØ² Ø°Ø±Ø© ÙƒØ¨ÙŠØ±', '22.0 Ø³Ù…', '500 Øº', 'Ø§Ù„Ø¯Ù…Ø§Øº ÙŠÙ†Ù…Ùˆ Ø¨Ø³Ø±Ø¹Ø©'],
        ['ğŸ¥’', 'ÙƒÙˆØ³Ø©', '23.0 Ø³Ù…', '570 Øº', 'Ø­Ø§Ø³Ø© Ø§Ù„ØªÙˆØ§Ø²Ù† ØªØªØ·ÙˆÙ‘Ø±'],
        ['ğŸ¥¦', 'Ù‚Ø±Ù†Ø¨ÙŠØ·', '24.0 Ø³Ù…', '660 Øº', 'Ø§Ù„Ø¹ÙŠÙˆÙ† ØªÙ†ÙØªØ­ ÙˆØ§Ù„Ø±Ø¦ØªØ§Ù† ØªÙ†ØªØ¬Ø§Ù† Ù…Ø§Ø¯Ø© Ø§Ù„Ø³Ø±ÙØ§ÙƒØªØ§Ù†Øª'],
        ['ğŸ¥¦', 'Ø±Ø£Ø³ Ø®Ø³', '25.0 Ø³Ù…', '760 Øº', 'ÙŠØ­Ù„Ù… (Ù†ÙˆÙ… Ø­Ø±ÙƒØ© Ø§Ù„Ø¹ÙŠÙ† Ø§Ù„Ø³Ø±ÙŠØ¹Ø©)'],
        ['ğŸ†', 'Ø¨Ø§Ø°Ù†Ø¬Ø§Ù†', '27.0 Ø³Ù…', '875 Øº', 'Ø§Ù„Ø­ÙˆØ§Ø³ Ø§Ù„Ø®Ù…Ø³ Ù…ÙƒØªÙ…Ù„Ø©'],
        ['ğŸ†', 'Ù‚Ø±Ø¹ Ø¹Ø³Ù„ÙŠ', '28.0 Ø³Ù…', '1.0 ÙƒØº', 'ÙŠÙƒØªØ³Ø¨ ÙˆØ²Ù†Ø§Ù‹ Ø¨Ø³Ø±Ø¹Ø©'],
        ['ğŸ¥¥', 'Ø¬ÙˆØ² Ù‡Ù†Ø¯', '30.0 Ø³Ù…', '1.2 ÙƒØº', 'Ø§Ù„Ø¹Ø¸Ø§Ù… Ù…ÙƒØªÙ…Ù„Ø© (Ù„Ø§ ØªØ²Ø§Ù„ Ù„ÙŠÙ†Ø©)'],
        ['ğŸ¥¥', 'Ø¬ÙˆØ² Ù‡Ù†Ø¯', '32.0 Ø³Ù…', '1.5 ÙƒØº', 'ÙŠØ¯ÙŠØ± Ø±Ø£Ø³Ù‡ ÙŠÙ…ÙŠÙ†Ø§Ù‹ ÙˆÙŠØ³Ø§Ø±Ø§Ù‹'],
        ['ğŸ', 'Ø£Ù†Ø§Ù†Ø§Ø³', '34.0 Ø³Ù…', '1.7 ÙƒØº', 'Ø·Ø¨Ù‚Ø© Ø§Ù„Ø¯Ù‡ÙˆÙ† ØªØªØ±Ø§ÙƒÙ…'],
        ['ğŸ', 'Ø£Ù†Ø§Ù†Ø§Ø³', '35.0 Ø³Ù…', '1.9 ÙƒØº', 'Ø§Ù„Ø¬Ù‡Ø§Ø² Ø§Ù„Ù…Ù†Ø§Ø¹ÙŠ ÙŠÙ‚ÙˆÙ‰'],
        ['ğŸ', 'Ø´Ù…Ù‘Ø§Ù…', '37.0 Ø³Ù…', '2.1 ÙƒØº', 'Ø§Ù„Ø±Ø¦ØªØ§Ù† Ø´Ø¨Ù‡ Ù†Ø§Ø¶Ø¬ØªÙŠÙ†'],
        ['ğŸƒ', 'ÙƒØ§Ù†ØªØ§Ù„ÙˆØ¨', '38.0 Ø³Ù…', '2.4 ÙƒØº', 'Ø±ÙˆØ§Ø¨Ø· Ø§Ù„Ø¯Ù…Ø§Øº ØªØ²Ø¯Ø§Ø¯ Ø¨Ø³Ø±Ø¹Ø©'],
        ['ğŸƒ', 'ÙƒØ§Ù†ØªØ§Ù„ÙˆØ¨', '40.0 Ø³Ù…', '2.6 ÙƒØº', 'Ø§Ù„Ø±Ø£Ø³ Ù„Ù„Ø£Ø³ÙÙ„ Ù…Ø³ØªØ¹Ø¯ Ù„Ù„Ù†Ø²ÙˆÙ„'],
        ['ğŸ‰', 'Ø´Ù…Ù‘Ø§Ù… ÙƒØ¨ÙŠØ±', '43.0 Ø³Ù…', '2.9 ÙƒØº', 'Ø§Ù„Ø±Ø¦ØªØ§Ù† Ù†Ø§Ø¶Ø¬ØªØ§Ù† ØªÙ…Ø§Ù…Ø§Ù‹'],
        ['ğŸ‰', 'Ø¨Ø·ÙŠØ® ØµØºÙŠØ±', '46.0 Ø³Ù…', '3.1 ÙƒØº', 'Ø§ÙƒØªÙ…Ø§Ù„ Ø§Ù„Ù†Ù…Ùˆ! Ø¬Ø§Ù‡Ø² Ù„Ù„ÙˆÙ„Ø§Ø¯Ø©'],
        ['ğŸ‰', 'Ø¨Ø·ÙŠØ®', '48.0 Ø³Ù…', '3.3 ÙƒØº', 'Ø§Ù„Ø­Ø±ÙƒØ© Ù‚Ø¯ ØªÙƒÙˆÙ† Ø£Ù‚Ù„'],
        ['ğŸ‰', 'Ø¨Ø·ÙŠØ®', '50.0 Ø³Ù…', '3.5 ÙƒØº', 'Ø·ÙÙ„Ùƒ Ø¬Ø§Ù‡Ø² ØªÙ…Ø§Ù…Ø§Ù‹!'],
        ['ğŸ‰', 'Ø¨Ø·ÙŠØ® ÙƒØ¨ÙŠØ±', '51.0 Ø³Ù…', '3.6 ÙƒØº', 'Ø£Ø³Ø¨ÙˆØ¹ Ø§Ù„ÙˆÙ„Ø§Ø¯Ø© â€” Ù…Ø±Ø­Ø¨Ø§Ù‹ Ø¨Ø§Ù„Ù…ÙˆÙ„ÙˆØ¯!']
      ];

      const weeks = currentDays >= 0 ? Math.min(Math.floor(currentDays / 7), 40) : 0;
      const viz = document.getElementById('preg-fetus-viz');

      if (currentDays >= 0 && currentDays <= adjustedDays + 14) {
        const data = fetusData[weeks] || fetusData[40];
        viz.style.display = 'block';

        const iconSize = Math.max(2.5, Math.min(6, 2.5 + (weeks / 40) * 3.5));
        const icon = document.getElementById('preg-fetus-icon');
        icon.textContent = data[0];
        icon.style.fontSize = iconSize + 'rem';

        document.getElementById('preg-size-compare').textContent = `${data[0]} Ø¨Ø­Ø¬Ù… ${data[1]} ØªÙ‚Ø±ÙŠØ¨Ø§Ù‹`;
        document.getElementById('preg-size-detail').textContent = `${data[2]} Ø·ÙˆÙ„ Â· ${data[3]}`;
        document.getElementById('preg-dev-note').textContent = data[4];

        const pctProgress = Math.min(100, (weeks / 40) * 100);
        document.getElementById('preg-progress-bar').style.width = pctProgress + '%';
        document.getElementById('preg-progress-week').textContent = `Ø§Ù„Ø£Ø³Ø¨ÙˆØ¹ ${weeks}`;
      } else {
        viz.style.display = 'none';
      }

      document.getElementById('r-pregnancy').classList.add('show');
    }

    // HEART RATE ZONES (AR)
    function calcHeartRate() {
      const age = parseInt(document.getElementById('hr-age').value) || 30;
      const rest = parseInt(document.getElementById('hr-rest').value) || 60;

      const maxHr = 220 - age;
      const hrr = maxHr - rest;

      const calcZone = (pct) => Math.round(rest + (hrr * pct));

      document.getElementById('r-hr-max').textContent = maxHr;
      document.getElementById('r-hr-z1').textContent = `${calcZone(0.50)} - ${calcZone(0.60)}`;
      document.getElementById('r-hr-z2').textContent = `${calcZone(0.60)} - ${calcZone(0.70)}`;
      document.getElementById('r-hr-z3').textContent = `${calcZone(0.70)} - ${calcZone(0.80)}`;
      document.getElementById('r-hr-z4').textContent = `${calcZone(0.80)} - ${calcZone(0.90)}`;
      document.getElementById('r-hr-z5').textContent = `${calcZone(0.90)} - ${calcZone(1.00)}`;

      document.getElementById('r-heartrate').classList.add('show');
    }

    // IDEAL WEIGHT (AR)
    function calcIdealWeight() {
      const g = document.getElementById('iw-gender').value;
      const hCm = parseFloat(document.getElementById('iw-height').value) || 0;
      const frame = document.getElementById('iw-frame').value;

      if (hCm < 100 || hCm > 250) { alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ø·ÙˆÙ„ ØµØ­ÙŠØ­ (100-250 Ø³Ù…).'); return; }

      const hInches = hCm / 2.54;
      const over5Ft = Math.max(0, hInches - 60);

      let robinson = g === 'male' ? 52 + (1.9 * over5Ft) : 49 + (1.7 * over5Ft);
      let miller = g === 'male' ? 56.2 + (1.41 * over5Ft) : 53.1 + (1.36 * over5Ft);
      let devine = g === 'male' ? 50 + (2.3 * over5Ft) : 45.5 + (2.3 * over5Ft);

      const adj = frame === 'small' ? 0.9 : (frame === 'large' ? 1.1 : 1);
      robinson *= adj;
      miller *= adj;
      devine *= adj;

      const avg = (robinson + miller + devine) / 3;
      const low = avg * 0.9;
      const high = avg * 1.1;

      document.getElementById('r-iw-primary').textContent = `${fmt(low, 1)} - ${fmt(high, 1)} ÙƒØ¬Ù…`;
      document.getElementById('r-iw-robinson').textContent = `${fmt(robinson, 1)} ÙƒØ¬Ù…`;
      document.getElementById('r-iw-miller').textContent = `${fmt(miller, 1)} ÙƒØ¬Ù…`;
      document.getElementById('r-iw-devine').textContent = `${fmt(devine, 1)} ÙƒØ¬Ù…`;

      document.getElementById('r-idealweight').classList.add('show');
    }

    // SLEEP CALCULATOR (AR)
    function calcSleep() {
      const mode = document.getElementById('slp-mode').value;
      const timeVal = document.getElementById('slp-time').value;
      if (!timeVal) { alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø§Ø®ØªÙŠØ§Ø± Ø§Ù„ÙˆÙ‚Øª.'); return; }

      const [h, m] = timeVal.split(':').map(Number);
      const baseDate = new Date();
      baseDate.setHours(h, m, 0, 0);

      const cycles = [6, 5, 4, 3];
      const resultsHTML = [];

      for (let c of cycles) {
        const target = new Date(baseDate);
        if (mode === 'wake') {
          target.setTime(target.getTime() - (c * 5400000) - 900000);
        } else {
          target.setTime(target.getTime() + 900000 + (c * 5400000));
        }

        const timeStr = target.toLocaleTimeString('ar-SA', { hour: 'numeric', minute: '2-digit' });
        const hours = (c * 90) / 60;

        const color = (c === 5 || c === 6) ? 'var(--green)' : (c === 4 ? 'var(--yellow)' : 'var(--orange)');

        resultsHTML.push(`
          <div class="result-item">
            <span class="result-value" style="color:${color}">${timeStr}</span>
            <div class="result-label">${c} Ø¯ÙˆØ±Ø§Øª (${hours} Ø³Ø§Ø¹Ø§Øª)</div>
          </div>
        `);
      }

      document.getElementById('r-slp-cycles').innerHTML = resultsHTML.join('');
      document.getElementById('r-sleep').classList.add('show');
    }


    function calcDateDiff() { const start = new Date(document.getElementById('dd-start').value), end = new Date(document.getElementById('dd-end').value), days = Math.floor(Math.abs(end - start) / 86400000); document.getElementById('r-dd-days').textContent = fmt(days, 0); document.getElementById('r-dd-weeks').textContent = fmt(days / 7, 1); document.getElementById('r-dd-months').textContent = fmt(days / 30.44, 1); document.getElementById('r-datediff').classList.add('show'); }
    function calcRandom() { const min = parseInt(document.getElementById('rng-min').value) || 0, max = parseInt(document.getElementById('rng-max').value) || 100, count = Math.min(parseInt(document.getElementById('rng-count').value) || 1, 50), nums = Array.from({ length: count }, () => Math.floor(Math.random() * (max - min + 1)) + min); document.getElementById('r-rng-numbers').innerHTML = nums.join('  Â·  '); document.getElementById('r-random').classList.add('show'); }
    function updatePaceFields() { const s = document.getElementById('pace-solve').value; document.getElementById('pace-pace-field').style.display = s === 'pace' ? 'none' : ''; }
    function calcPace() { const solve = document.getElementById('pace-solve').value, dist = parseFloat(document.getElementById('pace-dist').value) || 0, h = parseInt(document.getElementById('pace-h').value) || 0, m = parseInt(document.getElementById('pace-m').value) || 0, s = parseInt(document.getElementById('pace-s').value) || 0, totalSec = h * 3600 + m * 60 + s, pMin = parseInt(document.getElementById('pace-min')?.value || 0), pSec = parseInt(document.getElementById('pace-sec')?.value || 0); let result, label; if (solve === 'pace') { const spk = totalSec / dist; result = Math.floor(spk / 60) + ':' + String(Math.round(spk % 60)).padStart(2, '0') + ' /ÙƒÙ…'; label = 'Ø§Ù„Ø¥ÙŠÙ‚Ø§Ø¹'; } else if (solve === 'time') { const ps = pMin * 60 + pSec, tt = ps * dist; result = Math.floor(tt / 3600) + 'Ø³ ' + Math.floor((tt % 3600) / 60) + 'Ø¯ ' + Math.round(tt % 60) + 'Ø«'; label = 'ÙˆÙ‚Øª Ø§Ù„Ø¥Ù†Ù‡Ø§Ø¡'; } else { result = fmt(totalSec / (pMin * 60 + pSec), 2) + ' ÙƒÙ…'; label = 'Ø§Ù„Ù…Ø³Ø§ÙØ©'; } document.getElementById('r-pace-result').textContent = result; document.getElementById('r-pace-label').textContent = label; document.getElementById('r-pace').classList.add('show'); }

    // CURRENCY CONVERTER (AR)
    const CURRENCY_LIST = [
      ['USD', '$ Ø¯ÙˆÙ„Ø§Ø± Ø£Ù…Ø±ÙŠÙƒÙŠ'], ['EUR', 'â‚¬ ÙŠÙˆØ±Ùˆ'], ['GBP', 'Â£ Ø¬Ù†ÙŠÙ‡ Ø¥Ø³ØªØ±Ù„ÙŠÙ†ÙŠ'], ['SAR', 'Ø±.Ø³ Ø±ÙŠØ§Ù„ Ø³Ø¹ÙˆØ¯ÙŠ'],
      ['AED', 'Ø¯.Ø¥ Ø¯Ø±Ù‡Ù… Ø¥Ù…Ø§Ø±Ø§ØªÙŠ'], ['JPY', 'Â¥ ÙŠÙ† ÙŠØ§Ø¨Ø§Ù†ÙŠ'], ['CNY', 'Â¥ ÙŠÙˆØ§Ù† ØµÙŠÙ†ÙŠ'], ['INR', 'â‚¹ Ø±ÙˆØ¨ÙŠØ© Ù‡Ù†Ø¯ÙŠØ©'],
      ['KWD', 'Ø¯.Ùƒ Ø¯ÙŠÙ†Ø§Ø± ÙƒÙˆÙŠØªÙŠ'], ['QAR', 'Ø±.Ù‚ Ø±ÙŠØ§Ù„ Ù‚Ø·Ø±ÙŠ'], ['BHD', 'BD Ø¯ÙŠÙ†Ø§Ø± Ø¨Ø­Ø±ÙŠÙ†ÙŠ'], ['OMR', 'Ø±.Ø¹ Ø±ÙŠØ§Ù„ Ø¹Ù…Ø§Ù†ÙŠ'],
      ['EGP', 'Ø¬.Ù… Ø¬Ù†ÙŠÙ‡ Ù…ØµØ±ÙŠ'], ['JOD', 'Ø¯.Ø§ Ø¯ÙŠÙ†Ø§Ø± Ø£Ø±Ø¯Ù†ÙŠ'], ['TRY', 'â‚º Ù„ÙŠØ±Ø© ØªØ±ÙƒÙŠØ©'],
      ['CAD', 'C$ Ø¯ÙˆÙ„Ø§Ø± ÙƒÙ†Ø¯ÙŠ'], ['AUD', 'A$ Ø¯ÙˆÙ„Ø§Ø± Ø£Ø³ØªØ±Ø§Ù„ÙŠ'], ['CHF', 'Fr ÙØ±Ù†Ùƒ Ø³ÙˆÙŠØ³Ø±ÙŠ'],
      ['SEK', 'kr ÙƒØ±ÙˆÙ†Ø© Ø³ÙˆÙŠØ¯ÙŠØ©'], ['NOK', 'kr ÙƒØ±ÙˆÙ†Ø© Ù†Ø±ÙˆÙŠØ¬ÙŠØ©'], ['DKK', 'kr ÙƒØ±ÙˆÙ†Ø© Ø¯Ù†Ù…Ø§Ø±ÙƒÙŠØ©'],
      ['HKD', 'HK$ Ø¯ÙˆÙ„Ø§Ø± Ù‡ÙˆÙ†Øº ÙƒÙˆÙ†Øº'], ['SGD', 'S$ Ø¯ÙˆÙ„Ø§Ø± Ø³Ù†ØºØ§ÙÙˆØ±ÙŠ'], ['KRW', 'â‚© ÙˆÙˆÙ† ÙƒÙˆØ±ÙŠ'],
      ['MYR', 'RM Ø±ÙŠÙ†ØºÙŠØª Ù…Ø§Ù„ÙŠØ²ÙŠ'], ['THB', 'à¸¿ Ø¨Ø§Øª ØªØ§ÙŠÙ„Ù†Ø¯ÙŠ'], ['IDR', 'Rp Ø±ÙˆØ¨ÙŠØ© Ø¥Ù†Ø¯ÙˆÙ†ÙŠØ³ÙŠØ©'],
      ['PKR', 'â‚¨ Ø±ÙˆØ¨ÙŠØ© Ø¨Ø§ÙƒØ³ØªØ§Ù†ÙŠØ©'], ['BDT', 'à§³ ØªØ§ÙƒØ§ Ø¨Ù†ØºÙ„Ø§Ø¯ÙŠØ´ÙŠØ©'], ['NGN', 'â‚¦ Ù†Ø§ÙŠØ±Ø§ Ù†ÙŠØ¬ÙŠØ±ÙŠØ©'],
      ['ZAR', 'R Ø±Ø§Ù†Ø¯ Ø¬Ù†ÙˆØ¨ Ø£ÙØ±ÙŠÙ‚ÙŠ'], ['BRL', 'R$ Ø±ÙŠØ§Ù„ Ø¨Ø±Ø§Ø²ÙŠÙ„ÙŠ'], ['MXN', '$ Ø¨ÙŠØ²Ùˆ Ù…ÙƒØ³ÙŠÙƒÙŠ'],
    ];
    // Base: USD fallback rates
    const CUR_FALLBACK = {
      USD: 1, EUR: 0.924, GBP: 0.791, SAR: 3.751, AED: 3.673, JPY: 149.5, CNY: 7.24,
      INR: 83.1, KWD: 0.307, QAR: 3.641, BHD: 0.377, OMR: 0.385, EGP: 30.9, JOD: 0.709,
      TRY: 32.5, CAD: 1.356, AUD: 1.535, CHF: 0.878, SEK: 10.45, NOK: 10.58, DKK: 6.9,
      HKD: 7.824, SGD: 1.344, KRW: 1327, MYR: 4.74, THB: 35.5, IDR: 15700, PKR: 278,
      BDT: 110, NGN: 1580, ZAR: 18.8, BRL: 4.98, MXN: 17.15,
    };
    let curRates = null; // {base:'USD', rates:{...}}
    const POPULAR_TARGETS = ['SAR', 'AED', 'USD', 'EUR', 'GBP', 'KWD', 'EGP', 'QAR', 'TRY', 'INR'];

    function curPopulate() {
      const fromSel = document.getElementById('cur-from');
      const toSel = document.getElementById('cur-to');
      if (!fromSel || !toSel) return;
      fromSel.innerHTML = '';
      toSel.innerHTML = '';
      CURRENCY_LIST.forEach(([code, label]) => {
        const o1 = `<option value="${code}" ${code === 'SAR' ? 'selected' : ''}>${code} â€” ${label.split(' ').slice(1).join(' ')}</option>`;
        const o2 = `<option value="${code}" ${code === 'USD' ? 'selected' : ''}>${code} â€” ${label.split(' ').slice(1).join(' ')}</option>`;
        fromSel.insertAdjacentHTML('beforeend', o1);
        toSel.insertAdjacentHTML('beforeend', o2);
      });
      const triggerCalc = () => { updateRateTag(); convertCurrency(); };
      fromSel.addEventListener('change', triggerCalc);
      toSel.addEventListener('change', triggerCalc);
      document.getElementById('cur-amount').addEventListener('input', convertCurrency);
    }

    function getRate(from, to) {
      if (!curRates) return CUR_FALLBACK[to] / CUR_FALLBACK[from];
      const base = curRates.rates;
      // The API base is EUR.
      // If a currency is missing from the API (like SAR, AED), we anchor it to the live USD rate.
      const liveUSD = base['USD'] || (1 / CUR_FALLBACK['EUR']);

      const getRateToBase = (c) => {
        if (c === 'EUR') return 1;
        if (base[c]) return base[c];
        // Missing from API: use (Live USD/EUR) * (Fallback CUR/USD)
        return liveUSD * CUR_FALLBACK[c];
      };

      const fromEUR = getRateToBase(from);
      const toEUR = getRateToBase(to);
      return toEUR / fromEUR;
    }

    function updateRateTag() {
      const from = document.getElementById('cur-from')?.value;
      const to = document.getElementById('cur-to')?.value;
      if (!from || !to) return;
      const rate = getRate(from, to);
      const rateEl = document.getElementById('cur-rate-display');
      const tagEl = document.getElementById('cur-rate-tag');
      if (rateEl) rateEl.innerHTML = rate.toFixed(rate < 0.01 ? 6 : rate < 1 ? 4 : 4) + ' <span dir="ltr">' + to + '</span>';
      if (tagEl) tagEl.firstChild.textContent = '1 ' + from + ' = ';
    }

    function swapCurrency() {
      const f = document.getElementById('cur-from');
      const t = document.getElementById('cur-to');
      if (!f || !t) return;
      [f.value, t.value] = [t.value, f.value];
      updateRateTag();
    }

    function convertCurrency() {
      const amount = parseFloat(document.getElementById('cur-amount').value) || 0;
      const from = document.getElementById('cur-from').value;
      const to = document.getElementById('cur-to').value;
      const rate = getRate(from, to);
      const result = amount * rate;
      const dp = result < 0.1 ? 6 : result < 1 ? 4 : 2;
      document.getElementById('cur-r-main').innerHTML = result.toLocaleString('en-US', { minimumFractionDigits: dp, maximumFractionDigits: dp }) + ' <span dir="ltr">' + to + '</span>';
      document.getElementById('cur-r-label').textContent = `${amount.toLocaleString()} ${from} â†’`;

      // Multi grid
      const grid = document.getElementById('cur-multi-grid');
      grid.innerHTML = POPULAR_TARGETS.filter(c => c !== to && c !== from).slice(0, 8).map(c => {
        const r = getRate(from, c);
        const v = (amount * r);
        const d = v < 1 ? 4 : 2;
        return `<div class="cur-multi-item"><div class="cur-code">${c}</div><div class="cur-val">${v.toLocaleString('en-US', { minimumFractionDigits: d, maximumFractionDigits: d })}</div></div>`;
      }).join('');
      document.getElementById('r-currency').classList.add('show');
    }

    async function loadCurrencyRates() {
      const statusEl = document.getElementById('cur-status');
      try {
        const res = await fetch('https://api.frankfurter.app/latest?base=EUR&symbols=USD,GBP,SAR,AED,JPY,CNY,INR,KWD,QAR,BHD,OMR,EGP,JOD,TRY,CAD,AUD,CHF,SEK,NOK,DKK,HKD,SGD,KRW,MYR,THB,IDR,PKR,BDT,NGN,ZAR,BRL,MXN');
        if (!res.ok) throw new Error('API error');
        const data = await res.json();
        curRates = { base: 'EUR', rates: { ...data.rates, EUR: 1 } };
        if (statusEl) { statusEl.textContent = 'ğŸŸ¢ Ø£Ø³Ø¹Ø§Ø± Ø­ÙŠØ© Â· ' + data.date; statusEl.className = 'cur-status live'; }
        updateRateTag();
      } catch (e) {
        if (statusEl) { statusEl.textContent = 'âšª ÙˆØ¶Ø¹ Ø¹Ø¯Ù… Ø§Ù„Ø§ØªØµØ§Ù„ â€” Ø§Ø³ØªØ®Ø¯Ø§Ù… Ø£Ø³Ø¹Ø§Ø± ØªÙ‚Ø±ÙŠØ¨ÙŠØ© (ÙØ¨Ø±Ø§ÙŠØ± Ù¢Ù Ù¢Ù¦)'; statusEl.className = 'cur-status offline'; }
      }
    }

    // UNIT CONVERTER
    const unitData = { length: { units: ['Ù…Ù„ÙŠÙ…ØªØ±', 'Ø³Ù†ØªÙŠÙ…ØªØ±', 'Ù…ØªØ±', 'ÙƒÙŠÙ„ÙˆÙ…ØªØ±', 'Ø¨ÙˆØµØ©', 'Ù‚Ø¯Ù…', 'ÙŠØ§Ø±Ø¯Ø©', 'Ù…ÙŠÙ„'], toBase: [0.001, 0.01, 1, 1000, 0.0254, 0.3048, 0.9144, 1609.344] }, weight: { units: ['Ù…Ù„Ù„ÙŠØ¬Ø±Ø§Ù…', 'Ø¬Ø±Ø§Ù…', 'ÙƒÙŠÙ„ÙˆØ¬Ø±Ø§Ù…', 'Ø·Ù†', 'Ø£ÙˆÙ†ØµØ©', 'Ø±Ø·Ù„', 'Ø³ØªÙˆÙ†'], toBase: [0.000001, 0.001, 1, 1000, 0.0283495, 0.453592, 6.35029] }, temp: { units: ['Ù…Ø¦ÙˆÙŠØ©', 'ÙÙ‡Ø±Ù†Ù‡Ø§ÙŠØª', 'ÙƒÙ„ÙÙ†'], toBase: null }, volume: { units: ['Ù…Ù„ÙŠÙ„ØªØ±', 'Ù„ØªØ±', 'ÙƒÙˆØ¨', 'Ø£ÙˆÙ†ØµØ© Ø³Ø§Ø¦Ù„Ø©', 'Ø¨Ø§ÙŠÙ†Øª', 'ÙƒÙˆØ§Ø±Øª', 'Ø¬Ø§Ù„ÙˆÙ†'], toBase: [0.001, 1, 0.236588, 0.0295735, 0.473176, 0.946353, 3.78541] }, speed: { units: ['Ù…/Ø«', 'ÙƒÙ…/Ø³', 'Ù…ÙŠÙ„/Ø³', 'Ø¹Ù‚Ø¯Ø©'], toBase: [1, 0.277778, 0.44704, 0.514444] } };
    function updateUnitOptions() { const cat = document.getElementById('unit-cat').value, data = unitData[cat], fromSel = document.getElementById('unit-from'), toSel = document.getElementById('unit-to'); fromSel.innerHTML = data.units.map((u, i) => `<option value="${i}">${u}</option>`).join(''); toSel.innerHTML = data.units.map((u, i) => `<option value="${i}">${u}</option>`).join(''); toSel.selectedIndex = 1; calcUnits(); }
    function calcUnits() { if (!document.getElementById('unit-cat')) return; const cat = document.getElementById('unit-cat').value, fromI = parseInt(document.getElementById('unit-from').value), toI = parseInt(document.getElementById('unit-to').value), val = parseFloat(document.getElementById('unit-val').value) || 0, data = unitData[cat]; let result; if (cat === 'temp') { let c; if (fromI === 0) c = val; else if (fromI === 1) c = (val - 32) * 5 / 9; else c = val - 273.15; if (toI === 0) result = c; else if (toI === 1) result = c * 9 / 5 + 32; else result = c + 273.15; } else { result = (val * data.toBase[fromI]) / data.toBase[toI]; } const el = document.getElementById('r-unit-result'); if (el) { el.textContent = Math.abs(result) < 0.001 || Math.abs(result) > 1e7 ? result.toExponential(4) : fmt(result, 4).replace(/\.?0+$/, ''); document.getElementById('r-unit-label').textContent = `${data.units[fromI]} â† ${data.units[toI]}`; } }

    // GEOMETRY (AR)
    function updateGeoFields() {
      const shape = document.getElementById('geo-shape').value;
      document.getElementById('geo-circle-fields').style.display = shape === 'circle' ? 'block' : 'none';
      document.getElementById('geo-rect-fields').style.display = shape === 'rectangle' ? 'block' : 'none';
      document.getElementById('geo-tri-fields').style.display = shape === 'triangle' ? 'block' : 'none';
      document.getElementById('r-geo-perim-lbl').textContent = shape === 'circle' ? 'Ø§Ù„Ù…Ø­ÙŠØ· (Ø§Ù„Ø¯Ø§Ø¦Ø±Ø©)' : 'Ø§Ù„Ù…Ø­ÙŠØ·';
    }

    function calcGeometry() {
      const shape = document.getElementById('geo-shape').value;
      let area = 0, perim = 0;

      if (shape === 'circle') {
        const r = parseFloat(document.getElementById('geo-r').value) || 0;
        if (r < 0) { alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† Ù†ØµÙ Ø§Ù„Ù‚Ø·Ø± Ø³Ø§Ù„Ø¨Ø§Ù‹.'); return; }
        area = Math.PI * r * r;
        perim = 2 * Math.PI * r;
      } else if (shape === 'rectangle') {
        const l = parseFloat(document.getElementById('geo-l').value) || 0;
        const w = parseFloat(document.getElementById('geo-w').value) || 0;
        if (l < 0 || w < 0) { alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø·ÙˆÙ„ ÙˆØ§Ù„Ø¹Ø±Ø¶ Ø³Ø§Ù„Ø¨ÙŠÙ†.'); return; }
        area = l * w;
        perim = 2 * (l + w);
      } else if (shape === 'triangle') {
        const b = parseFloat(document.getElementById('geo-b').value) || 0;
        const h = parseFloat(document.getElementById('geo-h').value) || 0;
        if (b < 0 || h < 0) { alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ù‚Ø§Ø¹Ø¯Ø© ÙˆØ§Ù„Ø§Ø±ØªÙØ§Ø¹ Ø³Ø§Ù„Ø¨ÙŠÙ†.'); return; }
        area = (b * h) / 2;
        const side = Math.sqrt((b / 2) ** 2 + h ** 2);
        perim = b + (2 * side);
      }

      document.getElementById('r-geo-area').textContent = fmt(area, 2);
      document.getElementById('r-geo-perim').textContent = fmt(perim, 2);

      document.getElementById('r-geometry').classList.add('show');
    }

    // PROBABILITY (AR)
    function calcProbability() {
      document.getElementById('prob-basic-fields').style.display = type === 'basic' ? 'block' : 'none';
      document.getElementById('prob-cp-fields').style.display = type !== 'basic' ? 'block' : 'none';
      document.getElementById('r-prob-extras').style.display = type === 'basic' ? 'grid' : 'none';
    }

    function calcProbability() {
      const type = document.getElementById('prob-type').value;
      const fact = (n) => {
        if (n < 0) return 0;
        if (n === 0 || n === 1) return 1;
        let r = 1;
        for (let i = 2; i <= n; i++) r *= i;
        return r;
      };

      if (type === 'basic') {
        const fav = parseFloat(document.getElementById('prob-fav').value) || 0;
        const total = parseFloat(document.getElementById('prob-total').value) || 0;

        if (total === 0 || fav < 0 || total < 0 || fav > total) {
          alert('Ø¥Ø¯Ø®Ø§Ù„ ØºÙŠØ± ØµØ§Ù„Ø­. ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ > 0 ÙˆØ§Ù„Ù†ØªØ§Ø¦Ø¬ Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ØªØªØ¬Ø§ÙˆØ² Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ.');
          return;
        }

        const prob = fav / total;
        document.getElementById('r-prob-main').textContent = `${fav} Ù…Ù† ${total}`;
        document.getElementById('r-prob-label').textContent = 'Ø§Ù„Ø§Ø­ØªÙ…Ø§Ù„ (ÙƒØ³Ø±)';

        document.getElementById('r-prob-pct').textContent = `${fmt(prob * 100, 2)}%`;

        const unfav = total - fav;
        if (fav === 0) {
          document.getElementById('r-prob-odds').textContent = '0 Ø¥Ù„Ù‰ ' + unfav;
        } else {
          document.getElementById('r-prob-odds').textContent = `${fav} Ø¥Ù„Ù‰ ${unfav}`;
        }
        document.getElementById('r-prob-extras').style.display = 'grid';

      } else {
        const n = parseInt(document.getElementById('prob-n').value) || 0;
        const r = parseInt(document.getElementById('prob-r').value) || 0;

        if (n < 0 || r < 0 || r > n) {
          alert('Ø¥Ø¯Ø®Ø§Ù„ ØºÙŠØ± ØµØ§Ù„Ø­. ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† n Ùˆ r >= 0ØŒ ÙˆÙ„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠØªØ¬Ø§ÙˆØ² r Ù‚ÙŠÙ…Ø© n.');
          return;
        }

        if (type === 'comb') {
          const c = fact(n) / (fact(r) * fact(n - r));
          document.getElementById('r-prob-main').textContent = c.toLocaleString('en-US');
          document.getElementById('r-prob-label').textContent = `Ø§Ù„ØªÙˆØ§ÙÙŠÙ‚ (${n}C${r})`;
        } else if (type === 'perm') {
          const p = fact(n) / fact(n - r);
          document.getElementById('r-prob-main').textContent = p.toLocaleString('en-US');
          document.getElementById('r-prob-label').textContent = `Ø§Ù„ØªØ¨Ø§Ø¯ÙŠÙ„ (${n}P${r})`;
        }
        document.getElementById('r-prob-extras').style.display = 'none';
      }

      document.getElementById('r-probability').classList.add('show');
    }

    // QUADRATIC EQUATION (AR)
    function calcQuadratic() {
      const a = parseFloat(document.getElementById('quad-a').value);
      const b = parseFloat(document.getElementById('quad-b').value) || 0;
      const c = parseFloat(document.getElementById('quad-c').value) || 0;

      if (isNaN(a) || a === 0) {
        alert("Ø§Ù„Ù…Ø¹Ø§Ù…Ù„ 'Ø£' Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ÙŠÙƒÙˆÙ† ØµÙØ±Ø§Ù‹ ÙÙŠ Ø§Ù„Ù…Ø¹Ø§Ø¯Ù„Ø© Ø§Ù„ØªØ±Ø¨ÙŠØ¹ÙŠØ©.");
        return;
      }

      const disc = (b * b) - (4 * a * c);
      let rootsStr = '';
      let typeStr = '';
      let x1 = 'â€”', x2 = 'â€”';

      if (disc > 0) {
        typeStr = 'Ø¬Ø°Ø±Ø§Ù† Ø­Ù‚ÙŠÙ‚ÙŠØ§Ù†';
        const root1 = (-b + Math.sqrt(disc)) / (2 * a);
        const root2 = (-b - Math.sqrt(disc)) / (2 * a);
        x1 = fmt(root1, 4);
        x2 = fmt(root2, 4);
        rootsStr = `Ø³ = ${x1} ØŒ Ø³ = ${x2}`;
      } else if (disc === 0) {
        typeStr = 'Ø¬Ø°Ø± Ø­Ù‚ÙŠÙ‚ÙŠ ÙˆØ§Ø­Ø¯ (Ù…ÙƒØ±Ø±)';
        const root = -b / (2 * a);
        x1 = fmt(root, 4);
        x2 = x1;
        rootsStr = `Ø³ = ${x1}`;
      } else {
        typeStr = 'Ø¬Ø°ÙˆØ± ØªØ®ÙŠÙ„ÙŠØ© / Ù…Ø±ÙƒØ¨Ø©';
        const real = -b / (2 * a);
        const img = Math.sqrt(-disc) / (2 * a);
        const rm = fmt(real, 4);
        const im = fmt(Math.abs(img), 4);

        x1 = `${rm} + ${im}i`;
        x2 = `${rm} - ${im}i`;
        rootsStr = `Ø³ = ${x1} ØŒ Ø³ = ${x2}`;
      }

      document.getElementById('r-quad-type').textContent = typeStr;
      document.getElementById('r-quad-roots').textContent = rootsStr;
      document.getElementById('r-quad-disc').textContent = fmt(disc, 4);
      document.getElementById('r-quad-x1').textContent = x1;
      document.getElementById('r-quad-x2').textContent = x2;

      document.getElementById('r-quadratic').classList.add('show');
    }

    // BASE CONVERTER (AR)
    function calcBase() {
      const val = document.getElementById('base-val').value.trim();
      const fromBase = parseInt(document.getElementById('base-from').value);

      if (!val) { alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ Ù‚ÙŠÙ…Ø©.'); return; }

      // Parse the input value using the selected base
      const num = parseInt(val, fromBase);
      if (isNaN(num)) {
        alert('Ø±Ù‚Ù… ØºÙŠØ± ØµØ§Ù„Ø­ Ù„Ù„Ù†Ø¸Ø§Ù… Ø§Ù„Ù…Ø­Ø¯Ø¯.');
        return;
      }

      // Convert to requested bases and update UI
      document.getElementById('r-base-dec').textContent = num.toString(10);
      document.getElementById('r-base-bin').textContent = num.toString(2);
      document.getElementById('r-base-oct').textContent = num.toString(8);
      document.getElementById('r-base-hex').textContent = num.toString(16).toUpperCase();

      document.getElementById('r-base').classList.add('show');
    }

    // SPEED DISTANCE TIME (AR)
    function updateSpeedFields() {
      const solveFor = document.getElementById('spd-solve').value;
      document.getElementById('spd-dist-field').style.display = solveFor === 'distance' ? 'none' : 'block';
      document.getElementById('spd-time-field').style.display = solveFor === 'time' ? 'none' : 'block';
      document.getElementById('spd-speed-field').style.display = solveFor === 'speed' ? 'none' : 'block';
    }

    function calcSpeed() {
      const solveFor = document.getElementById('spd-solve').value;

      const getDistKm = () => {
        const d = parseFloat(document.getElementById('spd-dist').value) || 0;
        const u = document.getElementById('spd-dist-unit').value;
        if (u === 'mi') return d * 1.60934;
        if (u === 'm') return d / 1000;
        return d;
      };

      const getTimeHr = () => {
        const h = parseFloat(document.getElementById('spd-h').value) || 0;
        const m = parseFloat(document.getElementById('spd-m').value) || 0;
        return h + (m / 60);
      };

      const getSpeedKph = () => {
        const s = parseFloat(document.getElementById('spd-speed').value) || 0;
        const u = document.getElementById('spd-speed-unit').value;
        if (u === 'mph') return s * 1.60934;
        if (u === 'mps') return s * 3.6;
        return s;
      };

      let resultLbl = '';
      let formatted = '';

      if (solveFor === 'speed') {
        const d = getDistKm();
        const t = getTimeHr();
        if (t <= 0) { alert('ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø§Ù„Ø²Ù…Ù† Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„ØµÙØ±.'); return; }

        const speedKph = d / t;
        resultLbl = 'Ø§Ù„Ø³Ø±Ø¹Ø©';

        const mph = speedKph / 1.60934;
        const mps = speedKph / 3.6;
        formatted = `${fmt(speedKph, 2)} ÙƒÙ…/Ø³<br><span style="font-size:1rem;color:var(--muted)">${fmt(mph, 2)} Ù…ÙŠÙ„/Ø³<br>${fmt(mps, 2)} Ù…/Ø«</span>`;

      } else if (solveFor === 'distance') {
        const s = getSpeedKph();
        const t = getTimeHr();

        const distKm = s * t;
        resultLbl = 'Ø§Ù„Ù…Ø³Ø§ÙØ©';

        const mi = distKm / 1.60934;
        const m = distKm * 1000;
        formatted = `${fmt(distKm, 2)} ÙƒÙ…<br><span style="font-size:1rem;color:var(--muted)">${fmt(mi, 2)} Ù…ÙŠÙ„<br>${fmt(m, 2)} Ù…ØªØ±</span>`;

      } else if (solveFor === 'time') {
        const d = getDistKm();
        const s = getSpeedKph();
        if (s <= 0) { alert('ÙŠØ¬Ø¨ Ø£Ù† ØªÙƒÙˆÙ† Ø§Ù„Ø³Ø±Ø¹Ø© Ø£ÙƒØ¨Ø± Ù…Ù† Ø§Ù„ØµÙØ±.'); return; }

        const timeHr = d / s;
        resultLbl = 'Ø§Ù„Ø²Ù…Ù†';

        const totalMin = timeHr * 60;
        const hrs = Math.floor(totalMin / 60);
        const mins = Math.round(totalMin % 60);
        formatted = `${hrs > 0 ? hrs + ' Ø³Ø§Ø¹Ø© Ùˆ ' : ''}${mins} Ø¯Ù‚ÙŠÙ‚Ø©<br><span style="font-size:1rem;color:var(--muted)">${fmt(timeHr, 2)} Ø³Ø§Ø¹Ø§Øª Ø¹Ø´Ø±ÙŠØ©</span>`;
      }

      document.getElementById('r-spd-val').innerHTML = formatted;
      document.getElementById('r-spd-lbl').textContent = resultLbl;
      document.getElementById('r-speed').classList.add('show');
    }

    // TIMEZONE (AR)
    function calcTimezone() {
      const timeVal = document.getElementById('tz-time').value;
      const fromOffset = parseFloat(document.getElementById('tz-from').value);
      const toOffset = parseFloat(document.getElementById('tz-to').value);

      if (!timeVal) { alert('Ø§Ù„Ø±Ø¬Ø§Ø¡ Ø¥Ø¯Ø®Ø§Ù„ ÙˆÙ‚Øª.'); return; }

      // Parse input time
      const [hours, mins] = timeVal.split(':').map(Number);

      // Calculate minutes from midnight in the FROM zone
      let totalMins = (hours * 60) + mins;

      // Difference in hours
      const diffHours = toOffset - fromOffset;
      const diffMins = diffHours * 60;

      // Apply offset
      totalMins += diffMins;

      let dayOffset = '';
      if (totalMins < 0) {
        totalMins += (24 * 60);
        dayOffset = ' (Ø§Ù„ÙŠÙˆÙ… Ø§Ù„Ø³Ø§Ø¨Ù‚)';
      } else if (totalMins >= (24 * 60)) {
        totalMins -= (24 * 60);
        dayOffset = ' (Ø§Ù„ÙŠÙˆÙ… Ø§Ù„ØªØ§Ù„ÙŠ)';
      }

      // Format back to HH:MM
      const finalH = Math.floor(totalMins / 60);
      const finalM = Math.round(totalMins % 60);

      const pad = (n) => n.toString().padStart(2, '0');
      const formattedTime = `${pad(finalH)}:${pad(finalM)}` + dayOffset;

      // Difference string
      const sign = diffHours > 0 ? '+' : '';
      const diffStr = diffHours === 0 ? 'Ù†ÙØ³ Ø§Ù„Ù…Ù†Ø·Ù‚Ø© Ø§Ù„Ø²Ù…Ù†ÙŠØ©' : `${sign}${diffHours} Ø³Ø§Ø¹Ø©/Ø³Ø§Ø¹Ø§Øª`;

      document.getElementById('r-tz-val').textContent = formattedTime;
      document.getElementById('r-tz-diff').textContent = `ÙØ±Ù‚ Ø§Ù„ØªÙˆÙ‚ÙŠØª: ${diffStr}`;

      document.getElementById('r-timezone').classList.add('show');
    }

    // COOKING CONVERTER (AR)
    function calcCooking() {
      const val = parseFloat(document.getElementById('cook-val').value) || 0;
      const fromUnit = document.getElementById('cook-from').value;
      const toUnit = document.getElementById('cook-to').value;

      if (val < 0) { alert('Ø§Ù„ÙƒÙ…ÙŠØ© Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø£Ù† ØªÙƒÙˆÙ† Ø³Ø§Ù„Ø¨Ø©.'); return; }

      // Define bases
      // Volume: base is ML
      const volUnits = {
        'ml': 1,
        'l': 1000,
        'tsp': 4.92892,
        'tbsp': 14.7868,
        'floz': 29.5735,
        'cup': 236.588
      };

      // Weight: base is Grams
      const wtUnits = {
        'g': 1,
        'kg': 1000,
        'oz': 28.3495,
        'lb': 453.592
      };

      const isVolFrom = volUnits.hasOwnProperty(fromUnit);
      const isVolTo = volUnits.hasOwnProperty(toUnit);

      if (isVolFrom !== isVolTo) {
        alert('Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù…Ø¨Ø§Ø´Ø± Ø¨ÙŠÙ† Ø§Ù„Ø­Ø¬Ù… ÙˆØ§Ù„ÙˆØ²Ù† Ø¨Ø¯ÙˆÙ† Ù…Ø¹Ø±ÙØ© ÙƒØ«Ø§ÙØ© Ø§Ù„Ù…ÙƒÙˆÙ†.');
        return;
      }

      let result = 0;
      if (isVolFrom) {
        const inMl = val * volUnits[fromUnit];
        result = inMl / volUnits[toUnit];
      } else {
        const inG = val * wtUnits[fromUnit];
        result = inG / wtUnits[toUnit];
      }

      const selTo = document.getElementById('cook-to');
      let lblText = selTo.options[selTo.selectedIndex].text;

      document.getElementById('r-cook-val').textContent = fmt(result, 2);
      document.getElementById('r-cook-lbl').textContent = lblText;
      document.getElementById('r-cooking').classList.add('show');
    }

    // SCIENTIFIC CALCULATOR
    let sciExpr = '', sciResult = null;
    function sciDisplay(val) { if (document.getElementById('sci-display')) document.getElementById('sci-display').textContent = val; }
    function sciKey(k) { if (k === 'C') { sciExpr = ''; sciResult = null; sciDisplay('0'); if (document.getElementById('sci-expr')) document.getElementById('sci-expr').textContent = ''; return; } if (k === 'CE' || k === 'âŒ«') { sciExpr = sciExpr.slice(0, -1); sciDisplay(sciExpr || '0'); return; } if (k === '=') { try { let expr = sciExpr.replace(/Ã·/g, '/').replace(/Ã—/g, '*').replace(/Ï€/g, 'Math.PI').replace(/e(?!xp)/g, 'Math.E').replace(/sin\(/g, 'Math.sin(').replace(/cos\(/g, 'Math.cos(').replace(/tan\(/g, 'Math.tan(').replace(/log\(/g, 'Math.log10(').replace(/ln\(/g, 'Math.log(').replace(/âˆš\(/g, 'Math.sqrt(').replace(/xÂ²/g, '**2').replace(/\^/g, '**'); const res = Function('"use strict";return(' + expr + ')')(); if (document.getElementById('sci-expr')) document.getElementById('sci-expr').textContent = sciExpr + ' ='; sciExpr = String(parseFloat(res.toFixed(10))); sciDisplay(sciExpr); } catch (e) { sciDisplay('Ø®Ø·Ø£'); sciExpr = ''; } return; } const funcs = ['sin', 'cos', 'tan', 'log', 'ln']; if (funcs.includes(k)) { sciExpr += k + '('; } else { sciExpr += k; } sciDisplay(sciExpr); }

    document.getElementById('global-search').addEventListener('keydown', e => { if (e.key === 'Escape') { e.target.value = ''; searchCalcs(''); } });

    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    //  UX POLISH: 5 Features (AR)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    // â”€â”€ 1. SMOOTH SCROLL TO RESULTS â”€â”€
    const resultsObserver = new MutationObserver(mutations => {
      mutations.forEach(m => {
        if (m.type === 'attributes' && m.attributeName === 'class') {
          const el = m.target;
          if (el.classList.contains('results') && el.classList.contains('show')) {
            setTimeout(() => el.scrollIntoView({ behavior: 'smooth', block: 'nearest' }), 100);
          }
        }
      });
    });
    function observeResults() {
      document.querySelectorAll('.results').forEach(r => {
        resultsObserver.observe(r, { attributes: true, attributeFilter: ['class'] });
      });
    }
    const origOpenCalc = window.openCalc;
    window.openCalc = function (id) {
      origOpenCalc(id);
      setTimeout(observeResults, 50);
    };
    observeResults();

    // â”€â”€ 2. SHAKE VALIDATION â”€â”€
    window.shakeField = function (fieldId, message) {
      const el = document.getElementById(fieldId);
      if (!el) { alert(message); return; }
      const target = el.closest('.input-wrap') || el.closest('.field-group') || el;
      target.classList.remove('shake');
      void target.offsetWidth;
      target.classList.add('shake');
      target.style.outline = '2px solid var(--pink)';
      setTimeout(() => { target.classList.remove('shake'); target.style.outline = ''; }, 600);

      let tip = target.parentElement.querySelector('.shake-tip');
      if (!tip) {
        tip = document.createElement('div');
        tip.className = 'shake-tip';
        tip.style.cssText = 'font-size:0.75rem;color:var(--pink);margin-top:0.25rem;font-weight:600;transition:opacity 0.3s;';
        target.parentElement.appendChild(tip);
      }
      tip.textContent = message;
      tip.style.opacity = '1';
      setTimeout(() => { tip.style.opacity = '0'; setTimeout(() => tip.remove(), 300); }, 2500);
    };

    // â”€â”€ 3. CONFETTI CELEBRATION â”€â”€
    window.launchConfetti = function () {
      let canvas = document.getElementById('confetti-canvas');
      if (!canvas) {
        canvas = document.createElement('canvas');
        canvas.id = 'confetti-canvas';
        document.body.appendChild(canvas);
      }
      canvas.width = window.innerWidth;
      canvas.height = window.innerHeight;
      const ctx = canvas.getContext('2d');
      const colors = ['#6C63FF', '#FF6B9D', '#00D4AA', '#FFD93D', '#FF8A65', '#AB47BC', '#42A5F5'];
      const particles = [];

      for (let i = 0; i < 120; i++) {
        particles.push({
          x: Math.random() * canvas.width,
          y: Math.random() * canvas.height - canvas.height,
          w: Math.random() * 10 + 4,
          h: Math.random() * 6 + 2,
          color: colors[Math.floor(Math.random() * colors.length)],
          vx: (Math.random() - 0.5) * 4,
          vy: Math.random() * 3 + 2,
          rot: Math.random() * 360,
          rotV: (Math.random() - 0.5) * 8,
          opacity: 1
        });
      }

      let frame = 0;
      function animate() {
        ctx.clearRect(0, 0, canvas.width, canvas.height);
        let alive = false;
        particles.forEach(p => {
          p.x += p.vx;
          p.y += p.vy;
          p.vy += 0.05;
          p.rot += p.rotV;
          if (frame > 60) p.opacity -= 0.015;
          if (p.opacity <= 0) return;
          alive = true;
          ctx.save();
          ctx.translate(p.x, p.y);
          ctx.rotate(p.rot * Math.PI / 180);
          ctx.globalAlpha = Math.max(0, p.opacity);
          ctx.fillStyle = p.color;
          ctx.fillRect(-p.w / 2, -p.h / 2, p.w, p.h);
          ctx.restore();
        });
        frame++;
        if (alive) requestAnimationFrame(animate);
        else { ctx.clearRect(0, 0, canvas.width, canvas.height); canvas.remove(); }
      }
      requestAnimationFrame(animate);
    };

    // Hook confetti into pregnancy calculator
    if (typeof calcPregnancy === 'function') {
      const _origPreg = calcPregnancy;
      window.calcPregnancy = function () {
        _origPreg();
        if (document.getElementById('r-pregnancy')?.classList.contains('show')) {
          setTimeout(launchConfetti, 300);
        }
      };
    }

    // â”€â”€ 4. ENTER KEY TO SUBMIT â”€â”€
    document.addEventListener('keydown', function (e) {
      if (e.key !== 'Enter') return;
      const modal = document.getElementById('modal-overlay');
      if (!modal || !modal.classList.contains('open')) return;
      if (e.target.tagName === 'TEXTAREA') return;

      const calcBtn = modal.querySelector('.calc-btn');
      if (calcBtn) {
        e.preventDefault();
        calcBtn.click();
      }
    });

    // â”€â”€ 5. CURRENCY LOADING SKELETON â”€â”€
    if (typeof loadCurrencyRates === 'function') {
      const _origLoad = loadCurrencyRates;
      window.loadCurrencyRates = function () {
        const grid = document.getElementById('cur-multi-grid');
        if (grid) {
          grid.innerHTML = `
            <div class="cur-multi-item"><div class="skeleton-line w40"></div><div class="skeleton-line w60"></div></div>
            <div class="cur-multi-item"><div class="skeleton-line w40"></div><div class="skeleton-line w60"></div></div>
            <div class="cur-multi-item"><div class="skeleton-line w40"></div><div class="skeleton-line w60"></div></div>
            <div class="cur-multi-item"><div class="skeleton-line w40"></div><div class="skeleton-line w60"></div></div>
            <div class="cur-multi-item"><div class="skeleton-line w40"></div><div class="skeleton-line w60"></div></div>
            <div class="cur-multi-item"><div class="skeleton-line w40"></div><div class="skeleton-line w60"></div></div>
          `;
        }
        _origLoad();
      };
    }


    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
    //  PREMIUM FEATURES (AR)
    // â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

    // â”€â”€ 1. LIGHT/DARK MODE TOGGLE â”€â”€
    window.toggleTheme = function () {
      const html = document.documentElement;
      const current = html.getAttribute('data-theme');
      const next = current === 'light' ? 'dark' : 'light';
      html.setAttribute('data-theme', next);
      localStorage.setItem('cw-theme', next);
      const btn = document.getElementById('theme-toggle');
      if (btn) btn.textContent = next === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
    };
    // Initialize toggle icon
    setTimeout(() => {
      const btn = document.getElementById('theme-toggle');
      if (btn) {
        const current = document.documentElement.getAttribute('data-theme');
        btn.textContent = current === 'light' ? 'â˜€ï¸' : 'ğŸŒ™';
      }
    }, 100);

    // â”€â”€ 2. COPY RESULTS + 6. SHARE â”€â”€
    const _origOpenCalcPremium = window.openCalc;
    window.openCalc = function (id) {
      _origOpenCalcPremium(id);
      setTimeout(() => {
        document.querySelectorAll('.results').forEach(r => {
          if (r.querySelector('.copy-results-btn')) return;
          const btn = document.createElement('button');
          btn.className = 'copy-results-btn';
          btn.innerHTML = 'ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ù†ØªØ§Ø¦Ø¬';
          btn.onclick = function (e) {
            e.stopPropagation();
            const text = r.innerText.replace('ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ù†ØªØ§Ø¦Ø¬', '').replace('âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®!', '').replace('ğŸ”— Ù…Ø´Ø§Ø±ÙƒØ©', '').replace('âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·!', '').trim();
            navigator.clipboard.writeText(text).then(() => {
              btn.innerHTML = 'âœ… ØªÙ… Ø§Ù„Ù†Ø³Ø®!';
              btn.classList.add('copied');
              setTimeout(() => { btn.innerHTML = 'ğŸ“‹ Ù†Ø³Ø® Ø§Ù„Ù†ØªØ§Ø¦Ø¬'; btn.classList.remove('copied'); }, 2000);
            });
          };
          r.appendChild(btn);

          if (!r.querySelector('.share-btn')) {
            const shareBtn = document.createElement('button');
            shareBtn.className = 'share-btn';
            shareBtn.innerHTML = 'ğŸ”— Ù…Ø´Ø§Ø±ÙƒØ©';
            shareBtn.onclick = function (e) {
              e.stopPropagation();
              const modal = document.getElementById('modal-overlay');
              const inputs = modal.querySelectorAll('input, select');
              const params = new URLSearchParams();
              params.set('calc', id);
              inputs.forEach(inp => { if (inp.id && inp.value) params.set(inp.id, inp.value); });
              const url = window.location.origin + window.location.pathname + '?' + params.toString();
              navigator.clipboard.writeText(url).then(() => {
                shareBtn.innerHTML = 'âœ… ØªÙ… Ù†Ø³Ø® Ø§Ù„Ø±Ø§Ø¨Ø·!';
                shareBtn.classList.add('shared');
                setTimeout(() => { shareBtn.innerHTML = 'ğŸ”— Ù…Ø´Ø§Ø±ÙƒØ©'; shareBtn.classList.remove('shared'); }, 2000);
              });
            };
            r.appendChild(shareBtn);
          }
        });
      }, 100);
    };

    // â”€â”€ 3. CHARTS â”€â”€
    window.drawMortgageChart = function () {
      const container = document.getElementById('mortgage-chart');
      if (!container) return;
      let canvas = container.querySelector('canvas');
      if (!canvas) { canvas = document.createElement('canvas'); container.appendChild(canvas); }
      canvas.width = container.clientWidth - 20; canvas.height = 200;
      const ctx = canvas.getContext('2d');
      const principal = parseFloat(document.getElementById('mort-principal')?.value) || 300000;
      const rate = (parseFloat(document.getElementById('mort-rate')?.value) || 6) / 100 / 12;
      const years = parseFloat(document.getElementById('mort-years')?.value) || 30;
      const n = years * 12;
      const payment = principal * (rate * Math.pow(1 + rate, n)) / (Math.pow(1 + rate, n) - 1);
      let balance = principal; const balances = [];
      for (let i = 0; i <= n; i += Math.max(1, Math.floor(n / 50))) {
        balances.push(balance);
        for (let j = 0; j < Math.max(1, Math.floor(n / 50)) && balance > 0; j++) {
          balance = Math.max(0, balance - (payment - balance * rate));
        }
      }
      const w = canvas.width; const h = canvas.height - 20;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.beginPath(); ctx.strokeStyle = '#6C63FF'; ctx.lineWidth = 2;
      balances.forEach((b, i) => { const x = (i / (balances.length - 1)) * w; const y = h - (b / principal) * h; i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y); });
      ctx.stroke(); ctx.lineTo(w, h); ctx.lineTo(0, h); ctx.closePath();
      ctx.fillStyle = 'rgba(108,99,255,0.1)'; ctx.fill();
      ctx.fillStyle = '#8888a0'; ctx.font = '10px IBM Plex Sans Arabic';
      ctx.fillText('Ø³Ù†Ø© 0', 2, h + 14); ctx.fillText('Ø³Ù†Ø© ' + years, w - 50, h + 14);
    };

    window.drawCompoundChart = function () {
      const container = document.getElementById('compound-chart');
      if (!container) return;
      let canvas = container.querySelector('canvas');
      if (!canvas) { canvas = document.createElement('canvas'); container.appendChild(canvas); }
      canvas.width = container.clientWidth - 20; canvas.height = 200;
      const ctx = canvas.getContext('2d');
      const init = parseFloat(document.getElementById('ci-principal')?.value) || 10000;
      const rate = (parseFloat(document.getElementById('ci-rate')?.value) || 7) / 100;
      const years = parseFloat(document.getElementById('ci-years')?.value) || 10;
      const monthly = parseFloat(document.getElementById('ci-monthly')?.value) || 200;
      const points = [];
      for (let y = 0; y <= years; y++) {
        let val = init * Math.pow(1 + rate, y);
        if (monthly > 0) val += monthly * 12 * ((Math.pow(1 + rate, y) - 1) / rate);
        points.push(val);
      }
      const maxVal = points[points.length - 1] || 1;
      const w = canvas.width; const h = canvas.height - 20;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const grad = ctx.createLinearGradient(0, 0, 0, h);
      grad.addColorStop(0, 'rgba(0,212,170,0.3)'); grad.addColorStop(1, 'rgba(0,212,170,0.02)');
      ctx.beginPath(); ctx.strokeStyle = '#00D4AA'; ctx.lineWidth = 2;
      points.forEach((v, i) => { const x = (i / years) * w; const y = h - (v / maxVal) * h; i === 0 ? ctx.moveTo(x, y) : ctx.lineTo(x, y); });
      ctx.stroke(); ctx.lineTo(w, h); ctx.lineTo(0, h); ctx.closePath(); ctx.fillStyle = grad; ctx.fill();
      ctx.fillStyle = '#8888a0'; ctx.font = '10px IBM Plex Sans Arabic';
      ctx.fillText('Ø³Ù†Ø© 0', 2, h + 14); ctx.fillText('Ø³Ù†Ø© ' + years, w - 50, h + 14);
    };

    window.drawBMIChart = function (bmi) {
      const container = document.getElementById('bmi-chart');
      if (!container) return;
      let canvas = container.querySelector('canvas');
      if (!canvas) { canvas = document.createElement('canvas'); container.appendChild(canvas); }
      canvas.width = container.clientWidth - 20; canvas.height = 60;
      const ctx = canvas.getContext('2d');
      const w = canvas.width; const h = 30;
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const zones = [
        { min: 15, max: 18.5, color: '#42A5F5', label: 'Ù†Ù‚Øµ' }, { min: 18.5, max: 25, color: '#00D4AA', label: 'Ø·Ø¨ÙŠØ¹ÙŠ' },
        { min: 25, max: 30, color: '#FFD93D', label: 'Ø²ÙŠØ§Ø¯Ø©' }, { min: 30, max: 40, color: '#FF6B9D', label: 'Ø³Ù…Ù†Ø©' }
      ];
      zones.forEach(z => {
        const x1 = ((z.min - 15) / 25) * w; const x2 = ((z.max - 15) / 25) * w;
        ctx.fillStyle = z.color; ctx.globalAlpha = 0.3; ctx.fillRect(x1, 5, x2 - x1, h);
        ctx.globalAlpha = 1; ctx.fillStyle = z.color; ctx.font = '9px IBM Plex Sans Arabic'; ctx.fillText(z.label, x1 + 4, h + 18);
      });
      const markerX = Math.min(w, Math.max(0, ((bmi - 15) / 25) * w));
      ctx.fillStyle = '#ffffff'; ctx.beginPath(); ctx.arc(markerX, 5 + h / 2, 6, 0, Math.PI * 2); ctx.fill();
      ctx.fillStyle = '#6C63FF'; ctx.beginPath(); ctx.arc(markerX, 5 + h / 2, 4, 0, Math.PI * 2); ctx.fill();
      ctx.fillStyle = '#e8e8f0'; ctx.font = 'bold 10px IBM Plex Sans Arabic';
      ctx.fillText(bmi.toFixed(1), markerX - 10, h + 30);
    };

    // â”€â”€ 4. PWA â”€â”€
    if ('serviceWorker' in navigator) { navigator.serviceWorker.register('sw.js').catch(() => { }); }

    // â”€â”€ 5. FAVORITES â”€â”€
    window.cwFavorites = JSON.parse(localStorage.getItem('cw-favorites') || '[]');
    window.toggleFavorite = function (calcId, e) {
      if (e) e.stopPropagation();
      const idx = cwFavorites.indexOf(calcId);
      if (idx > -1) cwFavorites.splice(idx, 1); else cwFavorites.push(calcId);
      localStorage.setItem('cw-favorites', JSON.stringify(cwFavorites));
      renderFavorites();
      document.querySelectorAll('.fav-star').forEach(s => {
        s.classList.toggle('active', cwFavorites.includes(s.dataset.calc));
        s.textContent = cwFavorites.includes(s.dataset.calc) ? 'â­' : 'â˜†';
      });
    };
    function renderFavorites() {
      const section = document.getElementById('fav-section');
      if (!section) return;
      const grid = section.querySelector('.fav-grid');
      if (cwFavorites.length === 0) { section.classList.remove('has-favs'); return; }
      section.classList.add('has-favs');
      grid.innerHTML = '';
      cwFavorites.forEach(id => {
        const card = document.querySelector(`.calc-card[onclick*="${id}"]`);
        if (!card) return;
        const name = card.querySelector('h3')?.textContent || id;
        const emoji = card.querySelector('.card-emoji')?.textContent || 'ğŸ§®';
        const chip = document.createElement('div');
        chip.className = 'fav-chip';
        chip.textContent = emoji + ' ' + name;
        chip.onclick = () => openCalc(id);
        grid.appendChild(chip);
      });
    }
    (function initFavorites() {
      const firstSection = document.querySelector('.section-title');
      if (firstSection) {
        const favSection = document.createElement('div');
        favSection.id = 'fav-section';
        favSection.className = 'fav-section';
        favSection.innerHTML = '<h3>â­ Ø§Ù„Ù…ÙØ¶Ù„Ø©</h3><div class="fav-grid"></div>';
        firstSection.parentElement.insertBefore(favSection, firstSection);
      }
      document.querySelectorAll('.calc-card').forEach(card => {
        const onclick = card.getAttribute('onclick') || '';
        const match = onclick.match(/openCalc\('([^']+)'\)/);
        if (!match) return;
        const calcId = match[1];
        const star = document.createElement('button');
        star.className = 'fav-star' + (cwFavorites.includes(calcId) ? ' active' : '');
        star.dataset.calc = calcId;
        star.textContent = cwFavorites.includes(calcId) ? 'â­' : 'â˜†';
        star.onclick = function (e) { toggleFavorite(calcId, e); };
        card.style.position = 'relative';
        card.appendChild(star);
      });
      renderFavorites();
    })();

    // â”€â”€ 6. SHARE URL AUTO-OPEN â”€â”€
    (function checkShareURL() {
      const params = new URLSearchParams(window.location.search);
      const calcId = params.get('calc');
      if (calcId) {
        setTimeout(() => {
          openCalc(calcId);
          setTimeout(() => {
            params.forEach((val, key) => {
              if (key === 'calc') return;
              const el = document.getElementById(key);
              if (el) { el.value = val; el.dispatchEvent(new Event('input')); }
            });
            setTimeout(() => { const btn = document.querySelector('#modal-overlay .calc-btn'); if (btn) btn.click(); }, 200);
          }, 200);
        }, 500);
      }
    })();

  </script>
</body>

</html>